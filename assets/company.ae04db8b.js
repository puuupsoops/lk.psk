import{a as I,_ as H}from"./PersonalBar.95694cca.js";import{N as P}from"./Notification.66629bb4.js";import{m as W,a as z,b as X,_ as Y,F as J,C as K}from"./CompanyCalendar.vue_vue_type_style_index_0_lang.1c6cc0c6.js";import{o as s,b as u,a as e,d as M,h as _,J as E,S as Q,c as T,t as l,k as v,p as g,e as V,m as k,A as Z,u as p,z as D,F as L,f as S,U as ee,l as G,j as y,R as ae,V as te,W as se,i as ne,s as B,X as N,g as oe,O as ue,Y as le,Z as ce}from"./index.eb7d5b0d.js";import{_ as ie}from"./CompanyBarTop.751c1ba1.js";import"./vee-validate.esm.3b9b7310.js";import"./object.32583ea7.js";const de={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"20",fill:"none"},re=e("path",{fill:"#A5A7A9","fill-rule":"evenodd",d:"M37.465 2H18.579l8.064 7.102L37.465 2ZM16.739 3.036 14.713 15.91a1 1 0 0 0 .988 1.156h19.926a1 1 0 0 0 .988-.845l1.978-12.576-11.33 7.436c-.047.03-.094.056-.142.078a.998.998 0 0 1-1.235-.067l-9.107-8.02a.957.957 0 0 1-.04-.037Zm-1.946-.502A3 3 0 0 1 17.757 0h19.926a3 3 0 0 1 2.963 3.466L38.59 16.533a3 3 0 0 1-2.963 2.534H15.7a3 3 0 0 1-2.964-3.467l2.056-13.066Z","clip-rule":"evenodd"},null,-1),me=e("rect",{width:"8",height:"2",x:"3.7",y:"4",fill:"#A5A7A9",rx:"1"},null,-1),he=e("rect",{width:"11",height:"2",y:"8",fill:"#A5A7A9",rx:"1"},null,-1),pe=e("rect",{width:"5",height:"2",x:"5.3",y:"12",fill:"#A5A7A9",rx:"1"},null,-1),ve=[re,me,he,pe];function ye(a,c){return s(),u("svg",de,ve)}var O={render:ye};const ge={class:"company-consultant"},_e={key:0,class:"company-consultant-wrap content-elem"},fe={class:"company-consultant-info"},Ce={key:1,class:"company-consultant-img-box"},xe=["src"],$e={key:1,class:"company-consultant-img",src:I,alt:""},Me={class:"company-consultant-info-box"},Ae={class:"company-consultant-info-about"},be={class:"company-consultant-name"},we=e("div",{class:"company-consultant-position"},"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",-1),Ee={class:"company-consultant-contact"},ke=["href"],De=["href"],Be=["href"],Le=["title","href"],Se=e("img",{class:"company-consultant-mail-img",src:O,alt:""},null,-1),Fe=k("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C "),Ve=[Se,Fe],Ne={key:1,class:"company-consultant-wrap content-elem"},Re={class:"company-consultant-info"},Te=e("a",{class:"company-consultant-mail"},[e("img",{class:"company-consultant-mail-img",src:O,alt:""}),k("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C ")],-1),Ze=M({__name:"ManagerCard",props:{manager:{type:Object,required:!0}},setup(a){const c=a,t=_(!1),r=_(!1),h=_("");return E(()=>c.manager,()=>{t.value=!1,r.value=!0,c.manager&&c.manager.image?(h.value="",Q({method:"get",timeout:1e3*3,url:c.manager.image,responseType:"arraybuffer",headers:{"Content-type":"image/jpeg"}}).then(d=>{t.value=!0,r.value=!1,h.value=`data:${d.headers["content-type"]};base64,${btoa(String.fromCharCode(...new Uint8Array(d.data)))}`}).catch(()=>{r.value=!1})):r.value=!1,c.manager.image!=""&&(t.value=!0),h.value=c.manager.image}),(d,n)=>(s(),u("div",ge,[a.manager&&Object.keys(a.manager).length>0?(s(),u("div",_e,[e("div",fe,[r.value?(s(),T(V,{key:0,style:{margin:"auto"}})):(s(),u("div",Ce,[t.value?(s(),u("img",{key:0,class:"company-consultant-img",src:h.value},null,8,xe)):(s(),u("img",$e))])),e("div",Me,[e("div",Ae,[e("div",be,l(a.manager.name),1),we]),e("div",Ee,[e("a",{class:"company-consultant-phone",href:"tel:"+a.manager.contact},l(a.manager.contact),9,ke),a.manager.phone1!==""?(s(),u("a",{key:0,class:"company-consultant-phone",href:"tel:"+a.manager.phone1},l(a.manager.phone1),9,De)):v("",!0),a.manager.phone2!==""?(s(),u("a",{key:1,class:"company-consultant-phone",href:"tel:"+a.manager.phone2},l(a.manager.phone2),9,Be)):v("",!0)])])]),e("a",{class:"company-consultant-mail",title:a.manager.email,href:"mailto:"+a.manager.email},Ve,8,Le)])):(s(),u("div",Ne,[e("div",Re,[g(V,{style:{margin:"auto"}})]),Te]))]))}}),Ge={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"22",fill:"none"},Oe=e("path",{fill:"#A5A7A9",stroke:"#A5A7A9","stroke-width":".4",d:"M17.084 5.318h-.001a.305.305 0 0 0-.049-.069L13.247.999 13.239.99a.364.364 0 0 0-.074-.058.539.539 0 0 1-.018-.012l-.055-.055h-.03a.217.217 0 0 0-.033-.013.607.607 0 0 0-.24-.053H3.49A2.702 2.702 0 0 0 .8 3.49v15.27a2.702 2.702 0 0 0 2.69 2.69h11.018a2.702 2.702 0 0 0 2.69-2.69V5.65a.264.264 0 0 1 0-.026.586.586 0 0 0 .002-.058.346.346 0 0 0-.116-.248Zm-3.676-.265V3.025l1.8 2.028h-1.8Zm2.552 13.686c0 .818-.64 1.474-1.452 1.474H3.49a1.45 1.45 0 0 1-1.453-1.452V3.468A1.45 1.45 0 0 1 3.49 2.015h8.68V5.65c0 .324.26.62.619.62h3.171v12.47Z"},null,-1),Ue=e("path",{fill:"#A5A7A9",stroke:"#A5A7A9","stroke-width":".4",d:"M3.975 6.268h3.68a.618.618 0 0 0 .618-.618.605.605 0 0 0-.618-.619h-3.68a.618.618 0 1 0 0 1.237ZM7.655 10.363h-3.68a.618.618 0 1 0 0 1.237h3.68a.618.618 0 0 0 .618-.618.633.633 0 0 0-.618-.619ZM3.356 8.426c0 .323.26.618.619.618h9.828a.618.618 0 1 0 0-1.237H3.975a.618.618 0 0 0-.619.619Z"},null,-1),qe=[Oe,Ue];function je(a,c){return s(),u("svg",Ge,qe)}var Ie={render:je};const He={key:0},Pe={class:"content-elem"},We={class:"company-head-item-title"},ze={class:"company-card-sale"},Xe={class:"company-card-sale-box"},Ye=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),Je={class:"company-card-sale-value"},Ke={class:"company-card-balance"},Qe={class:"company-card-balance-box"},ea={key:0,class:"company-head-info-elem l highlight"},aa={key:1,class:"company-head-info-elem l highlight"},ta={class:"company-head-info"},sa={class:"company-head-info-row"},na={class:"company-head-info-elem l"},oa={class:"company-head-info-title"},ua={key:0,class:"company-head-info-val"},la={key:1,class:"company-head-info-val"},ca={key:0,class:"company-head-info-elem r"},ia=e("span",{class:"company-head-info-title"},"\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F",-1),da={class:"company-head-info-val"},ra={class:"company-card-footer"},ma={class:"company-head-info-elem l"},ha=e("span",{class:"company-head-info-title"},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",-1),pa={class:"company-head-info-val"},va={class:"company-head-info-elem \u043A"},ya=e("span",{class:"company-head-info-title"},"\u041B\u0438\u043C\u0438\u0442",-1),ga={class:"company-head-info-val"},_a={class:"company-head-sale"},fa={class:"sale-val"},Ca={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},xa={class:"sale-val-money"},$a=e("div",{tooltip:"\u041F\u043B\u0430\u0442\u0435\u0436\u0438",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),Ma=[$a],Aa={key:1,class:"doc"},ba={class:"content-elem"},wa={class:"company-head-item-title"},Ea={class:"company-card-sale"},ka={class:"company-card-sale-box"},Da=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),Ba={class:"company-card-sale-value"},La={class:"company-card-balance"},Sa={class:"company-card-balance-box"},Fa={key:0,class:"company-head-info-elem l highlight"},Va={key:1,class:"company-head-info-elem l highlight"},Na=e("div",{class:"company-head-info"},[e("div",{class:"company-head-info-row"}," \u041F\u043B\u0430\u0442\u0435\u0436\u0438 ")],-1),Ra={class:"company-head-list-content"},Ta={key:0,class:"company-head-list"},Za=e("img",{class:"company-head-list-img",src:Ie,alt:""},null,-1),Ga=["onClick"],Oa={class:"company-head-sale"},Ua={class:"sale-val"},qa={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},ja={class:"sale-val-money"},Ia=e("div",{tooltip:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),Ha=[Ia],Pa={key:1,class:"company-head-item yellow"},Wa=G('<div class="content-elem active"><div class="company-head-item-title" style="margin-right:100px;">\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442</div><div class="company-card-sale"><div class="company-card-sale-box"><span class="company-card-sale-text">\u0421\u043A\u0438\u0434\u043A\u0430</span><div class="company-card-sale-value">\u0421\u043A\u0438\u0434\u043A\u0430 %</div></div></div><div class="company-card-balance"><div class="company-card-balance-box"><div class="company-head-info-elem l highlight">\u0411\u0430\u043B\u0430\u043D\u0441: 0 \u20BD</div></div></div><div class="company-head-info"><div class="company-head-info-row"><div class="company-head-info-elem l"><span class="company-head-info-title">\u041E\u0442\u0441\u0440\u043E\u0447\u043A\u0430</span><span class="company-head-info-val">0 \u0434\u043D\u0435\u0439</span></div><div class="company-head-info-elem r"><span class="company-head-info-title">\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F</span><span class="company-head-info-val">--.--.----</span></div></div></div></div>',1),za=e("div",{class:"company-head-sale",tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},[e("div",{class:"sale-val"},[e("span",{class:"sale-val-money"},"0 \u20BD")])],-1),Xa=[Wa,za],R=M({__name:"CompanyStorageCard",props:{data:{type:Object},active:{type:Boolean}},emits:["onClick"],setup(a,{emit:c}){const t=_(!1);let r=Z("docDate"),h=function(d){let n=["\u0434\u043D\u0435\u0439","\u0434\u0435\u043D\u044C","\u0434\u043D\u044F"],o=d%100;o=o>=20?o%10:o;let i=0;return o===0||o>=5&&o<=20?i=0:o==1?i=1:i=2,n[i]};return(d,n)=>a.data?(s(),u("div",{key:0,class:D("company-head-item "+(a.data.debt>1e3?"red":"yellow")+(a.active?" content-elem-active":"")+(t.value?" doc":"")),onClick:n[2]||(n[2]=o=>d.$emit("onClick",o))},[t.value?(s(),u("div",Aa,[e("div",ba,[e("div",wa,l(a.data.name),1),e("div",Ea,[e("div",ka,[Da,e("div",Ba,l(a.data.discount)+" %",1)])]),e("div",La,[e("div",Sa,[a.data.balance-a.data.debt<0?(s(),u("div",Fa,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+l((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(s(),u("div",Va,"\u0411\u0430\u043B\u0430\u043D\u0441: "+l(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),Na,e("div",Ra,[a.data.documents?(s(),u("ul",Ta,[(s(!0),u(L,null,S(a.data.documents,(o,i)=>(s(),u("li",{class:"company-head-list-elem",key:i},[Za,e("a",{class:"company-head-list-link",href:"#CompanyCalendar",onClick:m=>ee(r)?r.value=o.expires:r=o.expires},l(o.debt.toLocaleString("ru").replace(",","."))+" \u20BD \u043E\u043F\u043B\u0430\u0442\u0438\u0442\u044C \u0434\u043E "+l(o.expires),9,Ga)]))),128))])):v("",!0)])]),e("div",Oa,[e("div",Ua,[e("span",qa,[e("span",ja,l(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:D("company-card-showdoc"+(t.value?" active":"")),onClick:n[1]||(n[1]=o=>t.value=!t.value)},Ha,2)])])):(s(),u("div",He,[e("div",Pe,[e("div",We,l(a.data.name),1),e("div",ze,[e("div",Xe,[Ye,e("div",Je,l(a.data.discount)+" %",1)])]),e("div",Ke,[e("div",Qe,[a.data.balance-a.data.debt<0?(s(),u("div",ea,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+l((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(s(),u("div",aa,"\u0411\u0430\u043B\u0430\u043D\u0441: "+l(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",ta,[e("div",sa,[e("div",na,[e("span",oa,l(a.data.case),1),a.data.case==="\u043E\u0442\u0441\u0440\u043E\u0447\u043A\u0430"?(s(),u("span",ua,l(a.data.deferment)+" "+l(p(h)(a.data.deferment)),1)):v("",!0),a.data.case==="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(s(),u("span",la,l(a.data.percent)+"%",1)):v("",!0)]),a.data.case!=="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(s(),u("div",ca,[ia,e("span",da,l(a.data.date),1)])):v("",!0)])]),e("div",ra,[e("div",ma,[ha,e("span",pa,l(a.data.contract),1)]),e("div",va,[ya,e("span",ga,l(Number(a.data.limit).toLocaleString("ru").replace(",","."))+" \u20BD",1)])])]),e("div",_a,[e("div",fa,[e("span",Ca,[e("span",xa,l(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:D("company-card-showdoc"+(t.value?" active":"")),onClick:n[0]||(n[0]=o=>t.value=!t.value)},Ma,2)])]))],2)):(s(),u("div",Pa,Xa))}}),Ya={key:0,class:"company-head-wrap"},Ja={key:1,class:"company-head-wrap"},Ka=M({__name:"CompanyStorageBar",props:{data:{type:Array,required:!0},modelValue:{type:Number}},emits:["update:modelValue","prev","next"],setup(a,{emit:c}){const t=a,r=250,h=n=>{const o=t.data[n].guid;let i=0,m=0,A=0,w=0;const x=document.querySelector("#"+o+"-"+n);x&&(A=x.getBoundingClientRect().x,w=x.getBoundingClientRect().x+x.getBoundingClientRect().width);const $=document.querySelector(".company-head-elem");$&&(i=$.getBoundingClientRect().x,m=$.getBoundingClientRect().x+$.getBoundingClientRect().width);const f=document.querySelector(".company-head-wrap");w>m?(f&&(f.scrollLeft+=r),setTimeout(()=>{c("update:modelValue",n)},250)):A<i?(f&&(f.scrollLeft-=r),setTimeout(()=>{c("update:modelValue",n)},250)):c("update:modelValue",n)},d=n=>{const o=document.querySelector(".company-head-wrap");o&&(o.scrollLeft+=n),setTimeout(()=>{n>0?c("next"):c("prev")},250)};return(n,o)=>a.data.length!==0?(s(),u("div",Ya,[e("div",{class:"btn btn-prev",onClick:o[0]||(o[0]=i=>d(-r))}," \u276E "),(s(!0),u(L,null,S(a.data,(i,m)=>(s(),T(R,{id:i.guid+"-"+m,key:m,data:i||null,active:m===a.modelValue,onOnClick:A=>h(m)},null,8,["id","data","active","onOnClick"]))),128)),e("div",{class:"btn btn-next",onClick:o[1]||(o[1]=i=>d(r))}," \u276F ")])):(s(),u("div",Ja,[g(R)]))}}),Qa={class:"company-sale sale"},et={class:"sale-head"},at={class:"sale-title"},tt={key:0,class:"sale-lacks"},st=k("\u041D\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 "),nt={class:"sale-progressbar-wrap"},ot={class:"sale-progressbar tooltip"},ut={class:"sale-progressbar-val"},lt={class:"sale-progressbar-val-money"},ct={class:"sale-progressbar-val-percent"},it={class:"sale-progressbar-money"},dt={class:"sale-progressbar-min"},rt={class:"sale-progressbar-max"},mt={class:"company-sale-card"},ht={class:"table"},pt=e("div",{class:"table-row table-heading"},[e("div",{class:"table-elem"},"\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u043A\u0430\u0437\u0430,\u0440\u0443\u0431"),e("div",{class:"table-elem"},"\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u043A\u0430\u0437\u0430,\u0440\u0443\u0431"),e("div",{class:"table-elem"}," \u0421\u043A\u0438\u0434\u043A\u0430,% ")],-1),vt={key:0,class:"table-elem"},yt={key:1,class:"table-elem"},gt={key:2,class:"table-elem"},_t={key:3,class:"table-elem last"},ft={key:4,class:"table-elem last"},Ct={key:5,class:"table-elem"},xt=M({__name:"CompanySaleBar",props:{spent:{type:Number,required:!0}},setup(a){const c=a,t=[{progressMoneyMin:0,progressMoneyMax:5e4,discount:0,next:2},{progressMoneyMin:5e4,progressMoneyMax:99e3,discount:2,next:3},{progressMoneyMin:1e5,progressMoneyMax:199999,discount:3,next:4},{progressMoneyMin:2e5,progressMoneyMax:399999,discount:4,next:6},{progressMoneyMin:4e5,progressMoneyMax:599999,discount:6,next:8},{progressMoneyMin:6e5,progressMoneyMax:799999,discount:8,next:9},{progressMoneyMin:8e5,progressMoneyMax:999999,discount:9,next:10},{progressMoneyMin:1e6,progressMoneyMax:5999999,discount:10,next:15},{progressMoneyMin:6e6,progressMoneyMax:9999999,discount:15,next:17},{progressMoneyMin:1e7,progressMoneyMax:19999999,discount:17,next:18},{progressMoneyMin:2e7,progressMoneyMax:29999999,discount:18,next:20},{progressMoneyMin:3e7,progressMoneyMax:1/0,discount:20,next:0}];let r=y(()=>{let n=t.filter(o=>c.spent>=o.progressMoneyMin&&c.spent<o.progressMoneyMax);return n.length>0?n[0]:t[0]}),h=y(()=>r.value.progressMoneyMax!=1/0?c.spent/r.value.progressMoneyMax*100:100);const d=y(()=>r.value.progressMoneyMax-c.spent);return(n,o)=>(s(),u("div",Qa,[e("div",et,[e("div",at,"\u0421\u043A\u0438\u0434\u043A\u0430 "+l(p(r).discount)+" %",1),p(d)!=1/0?(s(),u("div",tt,[st,e("span",null,l(p(d).toLocaleString("ru").replace(",","."))+"\xA0\u20BD",1),k(" \u0434\u043E \u0441\u043A\u0438\u0434\u043A\u0438 "+l(p(r).next)+" %",1)])):v("",!0)]),e("div",nt,[e("div",ot,[e("div",{class:"sale-progressbar-line",style:ae("width: "+p(h)+"%")},[e("div",ut,[e("div",null,[e("span",lt,"("+l(a.spent.toLocaleString("ru").replace(",","."))+"\xA0\u20BD)",1),e("span",ct,l(p(h).toFixed(2))+"%",1)])])],4)]),e("div",it,[e("div",dt,l(p(r).progressMoneyMin.toLocaleString("ru")),1),e("div",rt,l(p(r).progressMoneyMax.toLocaleString("ru")),1)])]),e("div",mt,[e("div",ht,[pt,(s(!0),u(L,null,S(p(t),(i,m)=>(s(),u("div",{class:"table-row",key:m},[m!=0&&i.next!=0?(s(),u("div",vt,"\u041E\u0442 "+l(i.progressMoneyMin.toLocaleString("ru")),1)):v("",!0),m!=0&&i.next!=0?(s(),u("div",yt,"\u0434\u043E "+l(i.progressMoneyMax.toLocaleString("ru")),1)):v("",!0),m!=0&&i.next!=0?(s(),u("div",gt,l(i.discount),1)):v("",!0),i.next==0?(s(),u("div",_t)):v("",!0),i.next==0?(s(),u("div",ft,"\u0411\u043E\u043B\u0435\u0435 "+l(i.progressMoneyMin.toLocaleString("ru")),1)):v("",!0),i.next==0?(s(),u("div",Ct,l(i.discount),1)):v("",!0)]))),128))])])]))}}),$t={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none"},Mt=e("rect",{width:"2.254",height:"22.535",x:".25",y:"2.079",fill:"#A5A7A9",rx:"1.127",transform:"rotate(-45 .25 2.08)"},null,-1),At=e("rect",{width:"2.254",height:"22.535",fill:"#A5A7A9",rx:"1.127",transform:"scale(-1 1) rotate(-45 -6.254 22.198)"},null,-1),bt=[Mt,At];function wt(a,c){return s(),u("svg",$t,bt)}var Et={render:wt};const kt={class:"company-calendar-box content-elem"},Dt=G('<form class="company-search-wrap" action=""><div class="company-search-input-wrap"><input class="company-search-input" type="text" placeholder="\u041F\u043E\u0438\u0441\u043A"><img class="company-search-input-clear" src="'+Et+'" alt=""></div><button class="company-search-btn gradient-btn"><img class="company-search-btn-img" src="'+se+'" alt=""></button></form>',1),Bt=M({__name:"CompanyCalendar",props:{data:{type:Array}},setup(a){var n;const c=a,t=_(),r=_((n=Z("docDate"))!=null?n:"");E(r,o=>{t.value.getApi().gotoDate(new Date(o))}),te(()=>{t.value.getApi().today()});let h=y(()=>c.data===null?[]:c.data),d=y(()=>({plugins:[W,z,X],headerToolbar:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",duration:{days:3},locale:Y,events:h.value?h.value.map(o=>({title:`\u0421\u0447\u0451\u0442 \u043E\u0442 ${o.date} \u043D\u0430 ${o.debt}\u20BD`,start:o.expires_date,backgroundColor:"#378006",allDay:!0,display:"block"})):[]}));return(o,i)=>(s(),u("div",kt,[Dt,g(p(J),{ref_key:"fullCalendar",ref:t,options:p(d)},null,8,["options"])]))}}),Lt={key:0},St={class:"top-line product-page"},Ft={class:"company-head"},Vt={class:"company-head-elem"},Nt={class:"company-head-elem"},Rt={id:"CompanyCalendar"},Tt={class:"company-calendar-wrap"},Ht=M({__name:"company",props:["id"],setup(a){const c=a,t=oe(),r=ue(),h=_(!1),d=_(c.id),n=_(0),o=_(""),i=y(()=>t.getters.getCompanyData(d.value)),m=y(()=>t.getters.getCompanyStoragesData(d.value)),A=y(()=>t.getters.getCompanysList),w=y(()=>t.getters.getCompanySpent(d.value)),x=y(()=>t.getters.getManagerUid(d.value)),$=y(()=>t.getters.getManager),f=y({get:()=>t.getters.getLoader,set:F=>t.commit(le.SET_LOADER,F)}),U=y(()=>m.value.length===0?null:m.value[n.value?n.value:0].documents);E(()=>c.id,()=>{c.id!==""?d.value=c.id:d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid}),E(d,()=>{m.value.length===0?n.value=null:n.value=0,r.push(`/company/${d.value}`),t.commit(N.CLEAR_MANAGER),setTimeout(()=>t.dispatch(B.GET_MANAGER,x.value),1e3)}),ne(()=>{t.getters.isCompanysLoad?(c.id!==""?(d.value=c.id,t.commit(N.CLEAR_MANAGER),t.dispatch(B.GET_MANAGER,x.value)):d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,h.value=!0):(f.value=!0,Promise.all([t.dispatch(B.GET_COMPANYS)]).finally(()=>{setTimeout(()=>{t.getters.isCompanysLoad&&(d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,h.value=!0),f.value=!1},500)}))}),ce("docDate",o);const q=()=>{n.value!=null&&n.value<m.value.length-1&&(n.value=n.value+1)},j=()=>{n.value&&n.value>0&&(n.value=n.value-1)};return(F,C)=>h.value?(s(),u("div",Lt,[e("div",St,[g(ie,{data:p(A),modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=b=>d.value=b)},null,8,["data","modelValue"]),g(P),g(H)]),e("div",Ft,[e("div",Vt,[g(Ka,{data:p(m),modelValue:n.value,"onUpdate:modelValue":C[1]||(C[1]=b=>n.value=b),onNext:C[2]||(C[2]=b=>q()),onPrev:C[3]||(C[3]=b=>j())},null,8,["data","modelValue"])]),e("div",Nt,[g(K,{data:p(i)},null,8,["data"])])]),g(xt,{spent:p(w)},null,8,["spent"]),e("div",Rt,[e("div",Tt,[g(Bt,{data:p(U)},null,8,["data"]),g(Ze,{manager:p($)},null,8,["manager"])])])])):v("",!0)}});export{Ht as default};
