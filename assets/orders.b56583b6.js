import{_ as X,N as x}from"./PersonalBar.0a5cfcc7.js";import{_ as ee}from"./CompanyBarTop.3385a2e1.js";import{T as te}from"./TopNav.54cc0780.js";import{S as se}from"./SelectInput.57accd31.js";import{P as ue}from"./PreloaderLocal.933d1772.js";import{m as z,e as m,x as W,g as B,_ as j,o as l,b as d,a as t,v as _,t as p,F as M,d as T,i as S,ae as oe,I as F,u as Z,M as ae,ad as le,U as re,ac as ie,af as de,ag as ne,r as D,P as ce,j as w,h as A,aa as I,w as K,c as q,k as H,ah as J,y as he,f as me,n as fe}from"./index.a8f31d7d.js";import{O as ve,M as pe,a as P}from"./types.10501219.js";import"./DeleteButton.2351cd2d.js";import"./OrderDraftCard.21cae7d1.js";const ge=z({props:{show:{type:Boolean,default:!0},modelValue:{type:String,default:""},error:{type:Boolean,default:!1}},emits:["update:modelValue","update:show","onInput"],setup(e,{emit:s}){const $=m(0),y=m(null);W(y,()=>s("update:show",!1));const c=B(()=>e.modelValue?e.modelValue:""),E=B(()=>{let g=new Date;g.setHours(0,0,0,0);let o=new Date;e.modelValue!=""&&(o=new Date(parseInt(e.modelValue.substr(6,4)),parseInt(e.modelValue.substr(3,2))-1,parseInt(e.modelValue.substr(0,2)))),o.setMonth(o.getMonth()+$.value),o=new Date(o.toISOString().substr(0,7)+"-01");let C=o.toLocaleString("default",{month:"long"});C=C.charAt(0).toUpperCase()+C.slice(1);let n=o.getMonth(),O=o.getFullYear(),v=[],u=[];o=new Date(o.getFullYear(),o.getMonth(),o.getDay()==1?-6:2-o.getDay());for(let h=1;h<=42;h++){let i=o.getDate(),V=!1;e.modelValue!=""&&(V=o.getTime()===new Date(parseInt(e.modelValue.substr(6,4)),parseInt(e.modelValue.substr(3,2))-1,parseInt(e.modelValue.substr(0,2))).getTime()),u.push({day:i,disable:o.getMonth()!=n,today:o.getMonth()==g.getMonth()&&o.getDate()==g.getDate()&&o.getFullYear()==g.getFullYear(),select:V}),o=new Date(o.getFullYear(),o.getMonth(),i+1),h%7==0&&(v.push(u),u=[])}return{year:O,month:{month:C,month_int:n},dateArr:v}});return{select_date:(g,o,C)=>{let n=new Date(g,o,C);$.value=0,s("update:modelValue",n.toLocaleString("ru").substr(0,10)),s("onInput"),s("update:show",!1)},dateText:c,genDay:E,target:y,delta:$}}}),Ce={class:"modal-datepicker",ref:"target"},_e={class:"ui-datepicker-date"},we=["value"],De={class:_("ui-datepicker active")},ye={class:"ui-datepicker-header"},Ae=t("rect",{width:"1.68273",height:"16.8273",rx:"0.841366",transform:"matrix(0.702321 0.71186 -0.702321 0.71186 11.8181 0)",fill:"#53565B"},null,-1),$e=t("rect",{width:"1.68273",height:"16.8273",rx:"0.841366",transform:"matrix(0.702321 -0.71186 -0.702321 -0.71186 11.8181 24)",fill:"#53565B"},null,-1),ke=[Ae,$e],Ee={class:"ui-datepicker-title"},Oe={class:"ui-datepicker-month"},Be=S("\xA0"),Se={class:"ui-datepicker-year"},Ve=t("rect",{width:"1.68273",height:"16.8273",rx:"0.841366",transform:"matrix(-0.702322 0.71186 0.702322 0.71186 1.73828 0)",fill:"#53565B"},null,-1),be=t("rect",{width:"1.68273",height:"16.8273",rx:"0.841366",transform:"matrix(-0.702322 -0.71186 0.702322 -0.71186 1.73828 24)",fill:"#53565B"},null,-1),Le=[Ve,be],Fe={class:"ui-datepicker-calendar"},Ie=t("thead",null,[t("tr",null,[t("th",{scope:"col"},[t("span",{title:"\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A"},"\u041F\u043D")]),t("th",{scope:"col"},[t("span",{title:"\u0432\u0442\u043E\u0440\u043D\u0438\u043A"},"\u0412\u0442")]),t("th",{scope:"col"},[t("span",{title:"\u0441\u0440\u0435\u0434\u0430"},"\u0421\u0440")]),t("th",{scope:"col"},[t("span",{title:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433"},"\u0427\u0442")]),t("th",{scope:"col"},[t("span",{title:"\u043F\u044F\u0442\u043D\u0438\u0446\u0430"},"\u041F\u0442")]),t("th",{scope:"col"},[t("span",{title:"\u0441\u0443\u0431\u0431\u043E\u0442\u0430"},"\u0421\u0431")]),t("th",{scope:"col",class:"ui-datepicker-week-end"},[t("span",{title:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435"},"\u0412\u0441")])])],-1),Ue=["onClick"];function Pe(e,s,$,y,c,E){return l(),d("div",{class:_("modal-datepicker-wrap"+(e.show?" show":"")),ref:"target"},[t("div",Ce,[t("div",_e,[t("input",{class:_("active"),type:"text",placeholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",name:"date",autocomplete:"off",readonly:"",value:e.dateText,onFocus:s[0]||(s[0]=f=>e.active=!0)},null,40,we),t("div",{class:"ui-datepicker-date-clear",onClick:s[1]||(s[1]=f=>e.modelValue==""?e.$emit("update:show",!1):e.$emit("update:modelValue",""))}),t("div",De,[t("div",ye,[(l(),d("svg",{class:"ui-datepicker-prev",title:"<\u041F\u0440\u0435\u0434",onClick:s[2]||(s[2]=f=>e.delta=e.delta-1),width:"13",height:"24",viewBox:"0 0 13 24",xmlns:"http://www.w3.org/2000/svg"},ke)),t("div",Ee,[t("span",Oe,p(e.genDay.month.month),1),Be,t("span",Se,p(e.genDay.year),1)]),(l(),d("svg",{class:"ui-datepicker-next",title:"\u0421\u043B\u0435\u0434>",onClick:s[3]||(s[3]=f=>e.delta=e.delta+1),width:"14",height:"24",viewBox:"0 0 14 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le))]),t("table",Fe,[Ie,t("tbody",null,[(l(!0),d(M,null,T(e.genDay.dateArr,(f,g)=>(l(),d("tr",{key:g},[(l(!0),d(M,null,T(f,(o,C)=>(l(),d("td",{key:C,class:_((o.disable?" disable":"")+(o.today?" today":"")+(o.select?" select":"")),onClick:n=>o.disable?"":e.select_date(e.genDay.year,e.genDay.month.month_int,o.day)},[t("span",null,p(o.day),1)],10,Ue))),128))]))),128))])])])])],512)],2)}var Me=j(ge,[["render",Pe]]);const Te=z({props:{contrAgent:{type:String},period:{type:String},status:{type:String},loading:{type:Boolean,default:!1},search:{type:Object,required:!0}},components:{PreloaderLocal:ue,Preloader:oe,OrderDetailModal:ve,ModalInput:pe,ModalDatePicker:Me},setup(e){const s=Z(H),$=ae(),y=m(!1),c=m(-1),E=m(-1),f=m(null),g=m(!1),o=m([]),C=m(-1),n=m([{name:"id",value:"",show:!1},{name:"name",value:"",show:!1},{name:"date",value:"",show:!1}]),O=m(!1),v=m(!1);W(f,()=>{E.value=-1});let u=B(()=>s.getters.getOrders);F(c,()=>{var a;if(c.value!=-1&&h.value&&Array.isArray(h.value[c.value].checks)){let r=(a=h.value[c.value].checks)==null?void 0:a.map(k=>k.doc_status?null:s.dispatch(J.GET_ORDERS_DOCSTATUS,k.guid));r&&Promise.all(r).finally(()=>{})}}),F(()=>e.status,()=>{c.value=-1}),F(()=>e.contrAgent,()=>{c.value=-1}),F(()=>e.search,()=>{c.value=-1}),F(()=>e.period,()=>{c.value=-1});const h=B(()=>{let a=u.value.filter(r=>e.contrAgent==""||r.partner_guid==e.contrAgent);return a=a.filter(r=>V(r.date)),a=a.filter(r=>b(r)),a=a.filter(r=>i(r)),n.value[1].value!=""&&(a=a.filter(r=>r.name.indexOf(n.value[1].value)!=-1)),n.value[2].value!=""&&(a=a.filter(r=>r.date.indexOf(n.value[2].value)!=-1)),a}),i=a=>{if(e.search.search=="")return!0;switch(e.search.id){case 1:return a.name.toUpperCase().indexOf(e.search.search.toUpperCase())!=-1;case 2:return String(a.n).toUpperCase().indexOf(e.search.search.toUpperCase())!=-1;case 3:return a.date.toUpperCase().indexOf(e.search.search.toUpperCase())!=-1;default:return!0}},V=a=>{var r;if(e.period=="\u0412\u0441\u0435")return!0;{const k=(r=e.period)==null?void 0:r.split(" - ")[0],U=k==null?void 0:k.substring(6,10),L=k==null?void 0:k.substring(3,5);return U==a.substring(6,10)&&L==a.substring(3,5)}},b=a=>e.status=="\u0412\u0441\u0435"?!0:Array.isArray(a.checks)?a.checks.findIndex(r=>P[parseInt(r.status+1)]?e.status==P[parseInt(r.status+1)].name:!1)!=-1:!1;return{target:f,active:c,active_more:E,loading_global:y,loading_bill:o,showDetail:g,detailOrderId:C,OrdersSatusCode:P,filter:n,repeatOrder:O,editOrder:v,docLocation:"http://91.232.12.198:82",data_filtred:h,orders_list:u,checkStatus:b,downloadBill:a=>{o.value.push(a),s.dispatch(le.GET_BILL_FILE_SAVE,a).finally(()=>{o.value=o.value.filter(r=>r!==a)})},getStorageName:(a,r)=>{const U=s.getters.getCompanyStoragesData(a).find(L=>L.guid==r);return U?U.name.replace(/(^|\s)\S/g,L=>L.toUpperCase()).replace(/(ООО)|(")|(\s)|([а-я])/g,""):"\u0421\u043A\u043B\u0430\u0434"},setOrderId:a=>{s.commit(re.SET_CURRENT_ORDER,a)},setClaimOrderId:a=>{y.value=!0,s.commit(ie.CLEAN_ORDER_DETAIL),s.commit(de.CLEAR_CLAIMS_NEW),s.dispatch(ne.ADD_CLAIMS_NEW,a).then(()=>{y.value=!1,$.push("/claims/request")})},filtred:a=>{let r=!1;return n.value[1].value!=""?a.name.indexOf(n.value[1].value)!=-1&&(r=!0):r=!0,r}}}}),Ne={class:"orders-list-wrap"},Re={class:"orders-list",ref:"target"},Ye={class:"orders-list-row orders-list-heading"},Ge=t("div",{class:"orders-list-elem"},"\u2116",-1),qe=t("div",null,"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",-1),ze=t("svg",{width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{class:"fill",d:"M7.00726 8.11117L12.7923 2.32601C12.9262 2.1922 13 2.01359 13 1.82313C13 1.63268 12.9262 1.45406 12.7923 1.32026L12.3664 0.894224C12.0888 0.616998 11.6378 0.616998 11.3606 0.894224L6.5027 5.75217L1.63936 0.888833C1.50545 0.755029 1.32694 0.681152 1.13659 0.681152C0.946033 0.681152 0.767522 0.755029 0.633507 0.888833L0.207681 1.31487C0.0737714 1.44878 -4.1357e-08 1.62729 -4.9682e-08 1.81774C-5.8007e-08 2.0082 0.0737714 2.18681 0.207681 2.32062L5.99802 8.11117C6.13236 8.24529 6.31171 8.31896 6.50238 8.31854C6.69378 8.31896 6.87303 8.24529 7.00726 8.11117Z",fill:"#A5A7A9"})],-1),je=[ze],Ke=t("svg",{width:"12",height:"12",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("rect",{class:"fill",x:"0.250031",y:"2.07935",width:"2.25351",height:"22.5351",rx:"1.12676",transform:"rotate(-45 0.250031 2.07935)",fill:"#A5A7A9"}),t("rect",{class:"fill",width:"2.25351",height:"22.5351",rx:"1.12676",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 17.5282 2.07935)",fill:"#A5A7A9"})],-1),We=[Ke],Ze=t("div",null,"\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F",-1),He=t("svg",{width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{class:"fill",d:"M7.00726 8.11117L12.7923 2.32601C12.9262 2.1922 13 2.01359 13 1.82313C13 1.63268 12.9262 1.45406 12.7923 1.32026L12.3664 0.894224C12.0888 0.616998 11.6378 0.616998 11.3606 0.894224L6.5027 5.75217L1.63936 0.888833C1.50545 0.755029 1.32694 0.681152 1.13659 0.681152C0.946033 0.681152 0.767522 0.755029 0.633507 0.888833L0.207681 1.31487C0.0737714 1.44878 -4.1357e-08 1.62729 -4.9682e-08 1.81774C-5.8007e-08 2.0082 0.0737714 2.18681 0.207681 2.32062L5.99802 8.11117C6.13236 8.24529 6.31171 8.31896 6.50238 8.31854C6.69378 8.31896 6.87303 8.24529 7.00726 8.11117Z",fill:"#A5A7A9"})],-1),Je=[He],Qe=t("svg",{width:"12",height:"12",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("rect",{class:"fill",x:"0.250031",y:"2.07935",width:"2.25351",height:"22.5351",rx:"1.12676",transform:"rotate(-45 0.250031 2.07935)",fill:"#A5A7A9"}),t("rect",{class:"fill",width:"2.25351",height:"22.5351",rx:"1.12676",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 17.5282 2.07935)",fill:"#A5A7A9"})],-1),Xe=[Qe],xe=t("div",{class:"orders-list-elem"},"\u0418\u043D\u0444\u043E",-1),et=["onClick"],tt={class:"orders-list-elem"},st=t("div",{class:"table-arrow"},null,-1),ut={class:"orders-list-elem"},ot={class:"orders-list-elem"},at={class:"orders-list-elem"},lt={class:"orders-list-elem"},rt={class:"orders-list-elem"},it={class:"orders-list-elem"},dt=["onClick"],nt=["onClick"],ct=["onClick"],ht=["onClick"],mt=t("a",{class:"orders-list-more-dropdown-link"},"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B",-1),ft=t("a",{class:"orders-list-more-dropdown-link"},"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043A\u0430\u0442\u044B",-1),vt=["onClick"],pt=t("span",null,"\u0417\u0430\u044F\u0432\u043A\u0430 \u043D\u0430 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",-1),gt={key:0},Ct={class:"orders-list-info-elem"},_t={class:"orders-list-info-elem"},wt={key:0,class:"orders-list-info-about tooltip"},Dt=["onClick"],yt=t("span",{class:"tooltiptext"},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0447\u0435\u0442",-1),At={key:1,class:"orders-list-info-about tooltip"},$t={class:"orders-list-info-download disable"},kt=t("span",{class:"tooltiptext"},[S("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0447\u0435\u0442 \u043C\u043E\u0436\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E "),t("br"),S(" \u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0437\u0430\u043A\u0430\u0437\u0430")],-1),Et={key:0,class:"orders-list-info-elem orders-list-info-doc-wrap"},Ot={key:1,class:"orders-list-info-elem orders-list-info-doc-wrap"},Bt=["href"],St=["href"],Vt=["href"],bt=["href"],Lt={class:"orders-list-info-elem"},Ft=t("div",{class:"orders-list-info-elem"},null,-1),It={key:1,class:"orders-list-info-row"},Ut=he('<div class="orders-list-info-elem"></div><div class="orders-list-info-elem"> \u0421\u0447\u0435\u0442 \u043E\u0442\u0441\u0443\u0442\u0432\u0443\u0435\u0442 </div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div>',6),Pt=[Ut],Mt={key:0,class:"orders-list-row orders-list-main-row"},Tt={class:"order-info"},Nt=S(" \u0417\u0430\u043A\u0430\u0437\u043E\u0432 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E. \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 "),Rt=S("\u043D\u043E\u0432\u044B\u0439 \u0437\u0430\u043A\u0430\u0437"),Yt=S(" \u0438 \u043E\u043D \u043F\u043E\u044F\u0432\u0438\u0442\u0441\u044F \u0432 \u0441\u043F\u0438\u0441\u043A\u0435. ");function Gt(e,s,$,y,c,E){const f=D("modal-input"),g=D("modal-date-picker"),o=D("router-link"),C=D("preloader-local"),n=D("PreloaderLocal"),O=D("Preloader"),v=D("OrderDetailModal");return l(),d("div",Ne,[t("div",{style:ce(e.data_filtred.length!=e.orders_list.length?"visibility: visible":"visibility: hidden"),class:"orders-heading-info"}," \u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E "+p(e.data_filtred.length)+" \u0438\u0437 "+p(e.orders_list.length),5),t("div",Re,[t("div",Ye,[Ge,t("div",{class:_("orders-list-elem"+(e.search.search!=""&&e.search.id==1?" active":"")+(e.filter[1].value!=""?" active":""))},[w(f,{modelValue:e.filter[1].value,"onUpdate:modelValue":s[0]||(s[0]=u=>e.filter[1].value=u),show:e.filter[1].show,"onUpdate:show":s[1]||(s[1]=u=>e.filter[1].show=u)},null,8,["modelValue","show"]),qe,t("div",{class:_("orders-list-elem-filter"+(e.filter[1].show||e.filter[1].value!=""?" active":"")),title:"\u0424\u0438\u043B\u044C\u0442\u0440",onClick:s[2]||(s[2]=u=>e.filter[1].show=!0)},je,2),e.filter[1].value!=""?(l(),d("div",{key:0,class:"orders-list-elem-filter active",title:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440",onClick:s[3]||(s[3]=u=>{e.filter[1].value="",e.active=-1})},We)):A("",!0)],2),t("div",{class:_("orders-list-elem"+(e.contrAgent!=""?" active":""))},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442",2),t("div",{class:_("orders-list-elem"+(e.search.search!=""&&e.search.id==2?" active":""))},"\u041D\u043E\u043C\u0435\u0440",2),t("div",{class:_("orders-list-elem"+(e.search.search!=""&&e.search.id==3?" active":"")+(e.period!="\u0412\u0441\u0435"?" active":"")+(e.filter[2].value!=""?" active":""))},[w(g,{modelValue:e.filter[2].value,"onUpdate:modelValue":s[4]||(s[4]=u=>e.filter[2].value=u),show:e.filter[2].show,"onUpdate:show":s[5]||(s[5]=u=>e.filter[2].show=u)},null,8,["modelValue","show"]),Ze,t("div",{class:_("orders-list-elem-filter"+(e.filter[2].show||e.filter[2].value!=""?" active":"")),title:"\u0424\u0438\u043B\u044C\u0442\u0440",onClick:s[6]||(s[6]=u=>e.filter[2].show=!0)},Je,2),e.filter[2].value!=""?(l(),d("div",{key:0,class:"orders-list-elem-filter active",title:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440",onClick:s[7]||(s[7]=u=>{e.filter[2].value="",e.active=-1})},Xe)):A("",!0)],2),t("div",{class:_("orders-list-elem"+(e.status!="\u0412\u0441\u0435"?" active":""))},"\u0421\u0442\u0430\u0442\u0443\u0441",2),xe]),(l(!0),d(M,null,T(e.data_filtred,(u,h)=>(l(),d("div",{key:h,class:_(["orders-list-item",{active:h==e.active,reserved:u.reserved}])},[t("div",{class:"orders-list-row orders-list-main-row",onClick:i=>{h===e.active?e.active=-1:e.active=h,e.active_more=-1}},[t("div",tt,[S(p(h+1)+" ",1),st]),t("div",ut,p(u.name),1),t("div",ot,p(u.partner_name),1),t("div",at,p(u.n),1),t("div",lt,p(u.date),1),t("div",rt,p(u.reserved?"\u0420\u0435\u0437\u0435\u0440\u0432":""),1),t("div",it,[t("button",{class:"orders-list-more",onClick:I(i=>e.active_more=h,["stop"])},"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u043E",8,dt),t("div",{class:_("orders-list-more-dropdown"+(h==e.active_more?" active":""))},[t("a",{class:"orders-list-more-dropdown-link",onClick:I(i=>{e.detailOrderId=u.n,e.showDetail=!0},["stop"])},"\u0414\u0435\u0442\u0430\u043B\u0438 \u0437\u0430\u043A\u0430\u0437\u0430",8,nt),t("a",{class:"orders-list-more-dropdown-link",onClick:I(i=>{e.detailOrderId=u.n,e.showDetail=!0,e.editOrder=!1,e.repeatOrder=!0},["stop"])},"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437",8,ct),u.reserved?(l(),d("a",{key:0,class:"orders-list-more-dropdown-link",onClick:I(i=>{e.detailOrderId=u.n,e.showDetail=!0,e.editOrder=!0,e.repeatOrder=!1},["stop"])},"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437",8,ht)):A("",!0),mt,ft,t("a",{class:"orders-list-more-dropdown-link",onClick:I(i=>e.setClaimOrderId(u.n),["stop"])},"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u044C \u043F\u0440\u0435\u0442\u0435\u043D\u0437\u0438\u044E",8,vt),w(o,{class:"orders-list-more-dropdown-link",tag:"a",to:"/shipments/request",onClick:i=>e.setOrderId(u.n)},{default:K(()=>[pt]),_:2},1032,["onClick"])],2)])],8,et),t("div",{class:_("orders-list-info"+(h==e.active?" active":"")),onClick:s[8]||(s[8]=i=>e.active_more=-1)},[Array.isArray(u.checks)&&u.checks.length>0?(l(),d("div",gt,[(l(!0),d(M,null,T(u.checks,(i,V)=>{var b,N,R,Y,G;return l(),d("div",{class:"orders-list-info-row",key:V},[t("div",Ct,p(e.getStorageName(u.partner_guid,i.organization_id)),1),t("div",_t,[(b=i.doc_status)!=null&&b.StatusSchet?(l(),d("div",wt,[t("div",{class:"orders-list-info-download",onClick:Q=>e.downloadBill(i.guid)},[t("span",null," \u0421\u0447\u0451\u0442 \u043E\u0442 "+p(u.date.substring(0,10)),1),e.loading_bill.includes(u.guid)?(l(),q(C,{key:0,small:""})):A("",!0)],8,Dt),yt])):(l(),d("div",At,[t("div",$t," \u0421\u0447\u0451\u0442 \u043E\u0442 "+p(u.date.substring(0,10)),1),kt]))]),i.doc_status?(l(),d("div",Ot,[(N=i.doc_status)!=null&&N.StatusSchet?(l(),d("a",{key:0,class:"orders-list-info-doc sc",href:`${e.docLocation}/api/order/print?id=${i.guid}&name=\u0421\u0447\u0435\u0442`,target:"_blank",title:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u0447\u0435\u0442"},null,8,Bt)):A("",!0),(R=i.doc_status)!=null&&R.StatusUPD?(l(),d("a",{key:1,class:"orders-list-info-doc upd",href:`${e.docLocation}/api/order/print?id=${i.guid}&name=\u0423\u041F\u0414`,target:"_blank",title:"\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0434\u0430\u0442\u043E\u0447\u043D\u044B\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},null,8,St)):A("",!0),(Y=i.doc_status)!=null&&Y.StatusSF?(l(),d("a",{key:2,class:"orders-list-info-doc sf",href:`${e.docLocation}/api/order/print?id=${i.guid}&name=\u0421\u0424`,target:"_blank",title:"\u0421\u0447\u0451\u0442-\u0444\u0430\u043A\u0442\u0443\u0440\u0430"},null,8,Vt)):A("",!0),(G=i.doc_status)!=null&&G.StatusUPK?(l(),d("a",{key:3,class:"orders-list-info-doc kor",href:`${e.docLocation}/api/order/print?id=${i.guid}&name=\u0423\u041A\u0414`,target:"_blank",title:"\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u044B\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},null,8,bt)):A("",!0)])):(l(),d("div",Et,[w(n,{small:""})])),t("div",Lt,p(e.OrdersSatusCode[i.status+1]?e.OrdersSatusCode[i.status+1].name:""),1),Ft])}),128))])):(l(),d("div",It,Pt))],2)],2))),128)),e.orders_list.length==0&&!e.loading?(l(),d("div",Mt,[t("div",Tt,[Nt,w(o,{tag:"a",class:"order-info-link",to:"/order"},{default:K(()=>[Rt]),_:1}),Yt])])):A("",!0)],512),e.loading?(l(),q(n,{key:0,style:{width:"100%"}})):A("",!0),e.loading_global?(l(),q(O,{key:1})):A("",!0),w(v,{modelValue:e.showDetail,"onUpdate:modelValue":s[9]||(s[9]=u=>e.showDetail=u),orderId:e.detailOrderId,repeatOrder:e.repeatOrder,"onUpdate:repeatOrder":s[10]||(s[10]=u=>e.repeatOrder=u),editOrder:e.editOrder,"onUpdate:editOrder":s[11]||(s[11]=u=>e.editOrder=u)},null,8,["modelValue","orderId","repeatOrder","editOrder"])])}var qt=j(Te,[["render",Gt]]);const zt=z({components:{PersonalBar:X,Notification:x,CompanyBarTop:ee,TopNav:te,SelectInput:se,OrdersListCard:qt},setup(){const e=Z(H),s=m(""),$=m(0),y=m(0),c=m(!0),E=m({id:1,search:""}),f=[{id:1,name:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435"},{id:2,name:"\u041D\u043E\u043C\u0435\u0440"},{id:3,name:"\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F"}];return me(()=>{e.dispatch(J.GET_ORDERS).finally(()=>{c.value=!1}),e.getters.isCompanysLoad||e.dispatch(fe.GET_COMPANYS).then(()=>{})}),{loading:c,companyBarTopData:B(()=>e.getters.getCompanysList),filterCompanyData:B(()=>e.getters.getCompanyFromOrders),filterCompanyUid:s,filterPeriodData:B(()=>e.getters.getOrdersDataPeriodArray),filterPeriod:$,OrdersSatusCode:P,filterStatus:y,searchColumn:f,search:E}}}),jt={class:"top-line product-page"},Kt={class:"orders-heading"},Wt={class:"orders-heading-elem"},Zt={class:"orders-heading-item"},Ht=t("div",{class:"orders-heading-text"},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442:",-1),Jt={class:"orders-heading-item"},Qt=t("div",{class:"orders-heading-text"},"\u0421\u0442\u0430\u0442\u0443\u0441:",-1),Xt={class:"orders-heading-item","data-select2-id":"147"},xt=t("div",{class:"orders-heading-text"},"\u041F\u0435\u0440\u0438\u043E\u0434:",-1),e0=t("div",{class:"orders-heading-elem"},null,-1);function t0(e,s,$,y,c,E){const f=D("CompanyBarTop"),g=D("Notification"),o=D("PersonalBar"),C=D("top-nav"),n=D("SelectInput"),O=D("OrdersListCard");return l(),d("div",null,[t("div",jt,[w(f,{data:e.companyBarTopData,modelValue:e.filterCompanyUid,"onUpdate:modelValue":s[0]||(s[0]=v=>e.filterCompanyUid=v)},null,8,["data","modelValue"]),w(g),w(o)]),w(C,{newOrder:""}),t("div",Kt,[t("div",Wt,[t("div",Zt,[Ht,w(n,{data:e.filterCompanyData,modelValue:e.filterCompanyUid,"onUpdate:modelValue":s[1]||(s[1]=v=>e.filterCompanyUid=v)},null,8,["data","modelValue"])]),t("div",Jt,[Qt,w(n,{data:e.OrdersSatusCode,modelValue:e.filterStatus,"onUpdate:modelValue":s[2]||(s[2]=v=>e.filterStatus=v)},null,8,["data","modelValue"])]),t("div",Xt,[xt,w(n,{data:e.filterPeriodData,modelValue:e.filterPeriod,"onUpdate:modelValue":s[3]||(s[3]=v=>e.filterPeriod=v)},null,8,["data","modelValue"])]),t("div",{class:"orders-heading-clean",title:"\u0423\u0431\u0440\u0430\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B",onClick:s[4]||(s[4]=v=>{e.filterCompanyUid="",e.filterPeriod=0,e.filterStatus=0})})]),e0]),w(O,{loading:e.loading,contrAgent:e.filterCompanyUid,period:e.filterPeriodData[e.filterPeriod].name,status:e.OrdersSatusCode[e.filterStatus].name,search:e.search},null,8,["loading","contrAgent","period","status","search"])])}var c0=j(zt,[["render",t0]]);export{c0 as default};
