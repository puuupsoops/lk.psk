import{a as I,_ as H}from"./PersonalBar.435b861c.js";import{N as P}from"./Notification.cc6a6a52.js";import{m as W,a as z,b as X,_ as Y,F as J,C as K}from"./CompanyCalendar.vue_vue_type_style_index_0_lang.aa00760a.js";import{o as s,b as l,a as e,d as M,h as _,A as T,t as u,u as p,k as v,z as D,F as L,f as S,S as Q,l as Z,c as G,p as g,j as y,m as k,R as ee,J as E,U as ae,e as V,V as te,i as se,s as B,W as N,g as ne,O as oe,X as le,Y as ue}from"./index.8da950ad.js";import{_ as ce}from"./CompanyBarTop.5c181ee1.js";import"./vee-validate.esm.89168dbd.js";import"./object.3b9f4e66.js";const ie={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"22",fill:"none"},de=e("path",{fill:"#A5A7A9",stroke:"#A5A7A9","stroke-width":".4",d:"M17.084 5.318h-.001a.305.305 0 0 0-.049-.069L13.247.999 13.239.99a.364.364 0 0 0-.074-.058.539.539 0 0 1-.018-.012l-.055-.055h-.03a.217.217 0 0 0-.033-.013.607.607 0 0 0-.24-.053H3.49A2.702 2.702 0 0 0 .8 3.49v15.27a2.702 2.702 0 0 0 2.69 2.69h11.018a2.702 2.702 0 0 0 2.69-2.69V5.65a.264.264 0 0 1 0-.026.586.586 0 0 0 .002-.058.346.346 0 0 0-.116-.248Zm-3.676-.265V3.025l1.8 2.028h-1.8Zm2.552 13.686c0 .818-.64 1.474-1.452 1.474H3.49a1.45 1.45 0 0 1-1.453-1.452V3.468A1.45 1.45 0 0 1 3.49 2.015h8.68V5.65c0 .324.26.62.619.62h3.171v12.47Z"},null,-1),re=e("path",{fill:"#A5A7A9",stroke:"#A5A7A9","stroke-width":".4",d:"M3.975 6.268h3.68a.618.618 0 0 0 .618-.618.605.605 0 0 0-.618-.619h-3.68a.618.618 0 1 0 0 1.237ZM7.655 10.363h-3.68a.618.618 0 1 0 0 1.237h3.68a.618.618 0 0 0 .618-.618.633.633 0 0 0-.618-.619ZM3.356 8.426c0 .323.26.618.619.618h9.828a.618.618 0 1 0 0-1.237H3.975a.618.618 0 0 0-.619.619Z"},null,-1),me=[de,re];function he(a,c){return s(),l("svg",ie,me)}var pe={render:he};const ve={key:0},ye={class:"content-elem"},ge={class:"company-head-item-title"},_e={class:"company-card-sale"},fe={class:"company-card-sale-box"},Ce=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),$e={class:"company-card-sale-value"},xe={class:"company-card-balance"},Me={class:"company-card-balance-box"},Ae={key:0,class:"company-head-info-elem l highlight"},be={key:1,class:"company-head-info-elem l highlight"},we={class:"company-head-info"},Ee={class:"company-head-info-row"},ke={class:"company-head-info-elem l"},De={class:"company-head-info-title"},Be={key:0,class:"company-head-info-val"},Le={key:1,class:"company-head-info-val"},Se={key:0,class:"company-head-info-elem r"},Fe=e("span",{class:"company-head-info-title"},"\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F",-1),Ve={class:"company-head-info-val"},Ne={class:"company-card-footer"},Re={class:"company-head-info-elem l"},Te=e("span",{class:"company-head-info-title"},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",-1),Ze={class:"company-head-info-val"},Ge={class:"company-head-info-elem \u043A"},Oe=e("span",{class:"company-head-info-title"},"\u041B\u0438\u043C\u0438\u0442",-1),Ue={class:"company-head-info-val"},qe={class:"company-head-sale"},je={class:"sale-val"},Ie={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},He={class:"sale-val-money"},Pe=e("div",{tooltip:"\u041F\u043B\u0430\u0442\u0435\u0436\u0438",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),We=[Pe],ze={key:1,class:"doc"},Xe={class:"content-elem"},Ye={class:"company-head-item-title"},Je={class:"company-card-sale"},Ke={class:"company-card-sale-box"},Qe=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),ea={class:"company-card-sale-value"},aa={class:"company-card-balance"},ta={class:"company-card-balance-box"},sa={key:0,class:"company-head-info-elem l highlight"},na={key:1,class:"company-head-info-elem l highlight"},oa=e("div",{class:"company-head-info"},[e("div",{class:"company-head-info-row"}," \u041F\u043B\u0430\u0442\u0435\u0436\u0438 ")],-1),la={class:"company-head-list-content"},ua={key:0,class:"company-head-list"},ca=e("img",{class:"company-head-list-img",src:pe,alt:""},null,-1),ia=["onClick"],da={class:"company-head-sale"},ra={class:"sale-val"},ma={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},ha={class:"sale-val-money"},pa=e("div",{tooltip:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),va=[pa],ya={key:1,class:"company-head-item yellow"},ga=Z('<div class="content-elem active"><div class="company-head-item-title" style="margin-right:100px;">\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442</div><div class="company-card-sale"><div class="company-card-sale-box"><span class="company-card-sale-text">\u0421\u043A\u0438\u0434\u043A\u0430</span><div class="company-card-sale-value">\u0421\u043A\u0438\u0434\u043A\u0430 %</div></div></div><div class="company-card-balance"><div class="company-card-balance-box"><div class="company-head-info-elem l highlight">\u0411\u0430\u043B\u0430\u043D\u0441: 0 \u20BD</div></div></div><div class="company-head-info"><div class="company-head-info-row"><div class="company-head-info-elem l"><span class="company-head-info-title">\u041E\u0442\u0441\u0440\u043E\u0447\u043A\u0430</span><span class="company-head-info-val">0 \u0434\u043D\u0435\u0439</span></div><div class="company-head-info-elem r"><span class="company-head-info-title">\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F</span><span class="company-head-info-val">--.--.----</span></div></div></div></div>',1),_a=e("div",{class:"company-head-sale",tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},[e("div",{class:"sale-val"},[e("span",{class:"sale-val-money"},"0 \u20BD")])],-1),fa=[ga,_a],R=M({__name:"CompanyStorageCard",props:{data:{type:Object},active:{type:Boolean}},emits:["onClick"],setup(a,{emit:c}){const t=_(!1);let r=T("docDate"),h=function(d){let n=["\u0434\u043D\u0435\u0439","\u0434\u0435\u043D\u044C","\u0434\u043D\u044F"],o=d%100;o=o>=20?o%10:o;let i=0;return o===0||o>=5&&o<=20?i=0:o==1?i=1:i=2,n[i]};return(d,n)=>a.data?(s(),l("div",{key:0,class:D("company-head-item "+(a.data.debt>1e3?"red":"yellow")+(a.active?" content-elem-active":"")+(t.value?" doc":"")),onClick:n[2]||(n[2]=o=>d.$emit("onClick",o))},[t.value?(s(),l("div",ze,[e("div",Xe,[e("div",Ye,u(a.data.name),1),e("div",Je,[e("div",Ke,[Qe,e("div",ea,u(a.data.discount)+" %",1)])]),e("div",aa,[e("div",ta,[a.data.balance-a.data.debt<0?(s(),l("div",sa,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+u((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(s(),l("div",na,"\u0411\u0430\u043B\u0430\u043D\u0441: "+u(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),oa,e("div",la,[a.data.documents?(s(),l("ul",ua,[(s(!0),l(L,null,S(a.data.documents,(o,i)=>(s(),l("li",{class:"company-head-list-elem",key:i},[ca,e("a",{class:"company-head-list-link",href:"#CompanyCalendar",onClick:m=>Q(r)?r.value=o.expires:r=o.expires},u(o.debt.toLocaleString("ru").replace(",","."))+" \u20BD \u043E\u043F\u043B\u0430\u0442\u0438\u0442\u044C \u0434\u043E "+u(o.expires),9,ia)]))),128))])):v("",!0)])]),e("div",da,[e("div",ra,[e("span",ma,[e("span",ha,u(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:D("company-card-showdoc"+(t.value?" active":"")),onClick:n[1]||(n[1]=o=>t.value=!t.value)},va,2)])])):(s(),l("div",ve,[e("div",ye,[e("div",ge,u(a.data.name),1),e("div",_e,[e("div",fe,[Ce,e("div",$e,u(a.data.discount)+" %",1)])]),e("div",xe,[e("div",Me,[a.data.balance-a.data.debt<0?(s(),l("div",Ae,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+u((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(s(),l("div",be,"\u0411\u0430\u043B\u0430\u043D\u0441: "+u(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",we,[e("div",Ee,[e("div",ke,[e("span",De,u(a.data.case),1),a.data.case==="\u043E\u0442\u0441\u0440\u043E\u0447\u043A\u0430"?(s(),l("span",Be,u(a.data.deferment)+" "+u(p(h)(a.data.deferment)),1)):v("",!0),a.data.case==="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(s(),l("span",Le,u(a.data.percent)+"%",1)):v("",!0)]),a.data.case!=="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(s(),l("div",Se,[Fe,e("span",Ve,u(a.data.date),1)])):v("",!0)])]),e("div",Ne,[e("div",Re,[Te,e("span",Ze,u(a.data.contract),1)]),e("div",Ge,[Oe,e("span",Ue,u(Number(a.data.limit).toLocaleString("ru").replace(",","."))+" \u20BD",1)])])]),e("div",qe,[e("div",je,[e("span",Ie,[e("span",He,u(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:D("company-card-showdoc"+(t.value?" active":"")),onClick:n[0]||(n[0]=o=>t.value=!t.value)},We,2)])]))],2)):(s(),l("div",ya,fa))}}),Ca={key:0,class:"company-head-wrap"},$a={key:1,class:"company-head-wrap"},xa=M({__name:"CompanyStorageBar",props:{data:{type:Array,required:!0},modelValue:{type:Number}},emits:["update:modelValue","prev","next"],setup(a,{emit:c}){const t=a,r=250,h=n=>{const o=t.data[n].guid;let i=0,m=0,A=0,w=0;const $=document.querySelector("#"+o+"-"+n);$&&(A=$.getBoundingClientRect().x,w=$.getBoundingClientRect().x+$.getBoundingClientRect().width);const x=document.querySelector(".company-head-elem");x&&(i=x.getBoundingClientRect().x,m=x.getBoundingClientRect().x+x.getBoundingClientRect().width);const f=document.querySelector(".company-head-wrap");w>m?(f&&(f.scrollLeft+=r),setTimeout(()=>{c("update:modelValue",n)},250)):A<i?(f&&(f.scrollLeft-=r),setTimeout(()=>{c("update:modelValue",n)},250)):c("update:modelValue",n)},d=n=>{const o=document.querySelector(".company-head-wrap");o&&(o.scrollLeft+=n),setTimeout(()=>{n>0?c("next"):c("prev")},250)};return(n,o)=>a.data.length!==0?(s(),l("div",Ca,[e("div",{class:"btn btn-prev",onClick:o[0]||(o[0]=i=>d(-r))}," \u276E "),(s(!0),l(L,null,S(a.data,(i,m)=>(s(),G(R,{id:i.guid+"-"+m,key:m,data:i||null,active:m===a.modelValue,onOnClick:A=>h(m)},null,8,["id","data","active","onOnClick"]))),128)),e("div",{class:"btn btn-next",onClick:o[1]||(o[1]=i=>d(r))}," \u276F ")])):(s(),l("div",$a,[g(R)]))}}),Ma={class:"company-sale sale"},Aa={class:"sale-head"},ba={class:"sale-title"},wa={key:0,class:"sale-lacks"},Ea=k("\u041D\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 "),ka={class:"sale-progressbar-wrap"},Da={class:"sale-progressbar tooltip"},Ba={class:"sale-progressbar-val"},La={class:"sale-progressbar-val-money"},Sa={class:"sale-progressbar-val-percent"},Fa={class:"sale-progressbar-money"},Va={class:"sale-progressbar-min"},Na={class:"sale-progressbar-max"},Ra={class:"company-sale-card"},Ta={class:"table"},Za=e("div",{class:"table-row table-heading"},[e("div",{class:"table-elem"},"\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u043A\u0430\u0437\u0430,\u0440\u0443\u0431"),e("div",{class:"table-elem"},"\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u043A\u0430\u0437\u0430,\u0440\u0443\u0431"),e("div",{class:"table-elem"}," \u0421\u043A\u0438\u0434\u043A\u0430,% ")],-1),Ga={key:0,class:"table-elem"},Oa={key:1,class:"table-elem"},Ua={key:2,class:"table-elem"},qa={key:3,class:"table-elem last"},ja={key:4,class:"table-elem last"},Ia={key:5,class:"table-elem"},Ha=M({__name:"CompanySaleBar",props:{spent:{type:Number,required:!0}},setup(a){const c=a,t=[{progressMoneyMin:0,progressMoneyMax:5e4,discount:0,next:2},{progressMoneyMin:5e4,progressMoneyMax:99e3,discount:2,next:3},{progressMoneyMin:1e5,progressMoneyMax:199999,discount:3,next:4},{progressMoneyMin:2e5,progressMoneyMax:399999,discount:4,next:6},{progressMoneyMin:4e5,progressMoneyMax:599999,discount:6,next:8},{progressMoneyMin:6e5,progressMoneyMax:799999,discount:8,next:9},{progressMoneyMin:8e5,progressMoneyMax:999999,discount:9,next:10},{progressMoneyMin:1e6,progressMoneyMax:5999999,discount:10,next:15},{progressMoneyMin:6e6,progressMoneyMax:9999999,discount:15,next:17},{progressMoneyMin:1e7,progressMoneyMax:19999999,discount:17,next:18},{progressMoneyMin:2e7,progressMoneyMax:29999999,discount:18,next:20},{progressMoneyMin:3e7,progressMoneyMax:1/0,discount:20,next:0}];let r=y(()=>{let n=t.filter(o=>c.spent>=o.progressMoneyMin&&c.spent<o.progressMoneyMax);return n.length>0?n[0]:t[0]}),h=y(()=>r.value.progressMoneyMax!=1/0?c.spent/r.value.progressMoneyMax*100:100);const d=y(()=>r.value.progressMoneyMax-c.spent);return(n,o)=>(s(),l("div",Ma,[e("div",Aa,[e("div",ba,"\u0421\u043A\u0438\u0434\u043A\u0430 "+u(p(r).discount)+" %",1),p(d)!=1/0?(s(),l("div",wa,[Ea,e("span",null,u(p(d).toLocaleString("ru").replace(",","."))+"\xA0\u20BD",1),k(" \u0434\u043E \u0441\u043A\u0438\u0434\u043A\u0438 "+u(p(r).next)+" %",1)])):v("",!0)]),e("div",ka,[e("div",Da,[e("div",{class:"sale-progressbar-line",style:ee("width: "+p(h)+"%")},[e("div",Ba,[e("div",null,[e("span",La,"("+u(a.spent.toLocaleString("ru").replace(",","."))+"\xA0\u20BD)",1),e("span",Sa,u(p(h).toFixed(2))+"%",1)])])],4)]),e("div",Fa,[e("div",Va,u(p(r).progressMoneyMin.toLocaleString("ru")),1),e("div",Na,u(p(r).progressMoneyMax.toLocaleString("ru")),1)])]),e("div",Ra,[e("div",Ta,[Za,(s(!0),l(L,null,S(p(t),(i,m)=>(s(),l("div",{class:"table-row",key:m},[m!=0&&i.next!=0?(s(),l("div",Ga,"\u041E\u0442 "+u(i.progressMoneyMin.toLocaleString("ru")),1)):v("",!0),m!=0&&i.next!=0?(s(),l("div",Oa,"\u0434\u043E "+u(i.progressMoneyMax.toLocaleString("ru")),1)):v("",!0),m!=0&&i.next!=0?(s(),l("div",Ua,u(i.discount),1)):v("",!0),i.next==0?(s(),l("div",qa)):v("",!0),i.next==0?(s(),l("div",ja,"\u0411\u043E\u043B\u0435\u0435 "+u(i.progressMoneyMin.toLocaleString("ru")),1)):v("",!0),i.next==0?(s(),l("div",Ia,u(i.discount),1)):v("",!0)]))),128))])])]))}}),Pa={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none"},Wa=e("rect",{width:"2.254",height:"22.535",x:".25",y:"2.079",fill:"#A5A7A9",rx:"1.127",transform:"rotate(-45 .25 2.08)"},null,-1),za=e("rect",{width:"2.254",height:"22.535",fill:"#A5A7A9",rx:"1.127",transform:"scale(-1 1) rotate(-45 -6.254 22.198)"},null,-1),Xa=[Wa,za];function Ya(a,c){return s(),l("svg",Pa,Xa)}var Ja={render:Ya};const Ka={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none"},Qa=e("path",{fill:"#fff",d:"m19.756 18.578-5.688-5.687a7.878 7.878 0 0 0 1.765-4.973C15.833 3.553 12.281 0 7.917 0 3.552.001 0 3.553 0 7.918s3.552 7.916 7.917 7.916a7.878 7.878 0 0 0 4.973-1.765l5.687 5.688a.831.831 0 0 0 1.179 0 .832.832 0 0 0 0-1.179Zm-11.84-4.41a6.256 6.256 0 0 1-6.25-6.25 6.256 6.256 0 0 1 6.25-6.25 6.256 6.256 0 0 1 6.25 6.25 6.256 6.256 0 0 1-6.25 6.25Z"},null,-1),et=[Qa];function at(a,c){return s(),l("svg",Ka,et)}var tt={render:at};const st={class:"company-calendar-box content-elem"},nt=Z('<form class="company-search-wrap" action=""><div class="company-search-input-wrap"><input class="company-search-input" type="text" placeholder="\u041F\u043E\u0438\u0441\u043A"><img class="company-search-input-clear" src="'+Ja+'" alt=""></div><button class="company-search-btn gradient-btn"><img class="company-search-btn-img" src="'+tt+'" alt=""></button></form>',1),ot=M({__name:"CompanyCalendar",props:{data:{type:Array}},setup(a){var n;const c=a,t=_(),r=_((n=T("docDate"))!=null?n:"");E(r,o=>{t.value.getApi().gotoDate(new Date(o))}),ae(()=>{t.value.getApi().today()});let h=y(()=>c.data===null?[]:c.data),d=y(()=>({plugins:[W,z,X],headerToolbar:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",duration:{days:3},locale:Y,events:h.value?h.value.map(o=>({title:`\u0421\u0447\u0451\u0442 \u043E\u0442 ${o.date} \u043D\u0430 ${o.debt}\u20BD`,start:o.expires_date,backgroundColor:"#378006",allDay:!0,display:"block"})):[]}));return(o,i)=>(s(),l("div",st,[nt,g(p(J),{ref_key:"fullCalendar",ref:t,options:p(d)},null,8,["options"])]))}}),lt={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"20",fill:"none"},ut=e("path",{fill:"#A5A7A9","fill-rule":"evenodd",d:"M37.465 2H18.579l8.064 7.102L37.465 2ZM16.739 3.036 14.713 15.91a1 1 0 0 0 .988 1.156h19.926a1 1 0 0 0 .988-.845l1.978-12.576-11.33 7.436c-.047.03-.094.056-.142.078a.998.998 0 0 1-1.235-.067l-9.107-8.02a.957.957 0 0 1-.04-.037Zm-1.946-.502A3 3 0 0 1 17.757 0h19.926a3 3 0 0 1 2.963 3.466L38.59 16.533a3 3 0 0 1-2.963 2.534H15.7a3 3 0 0 1-2.964-3.467l2.056-13.066Z","clip-rule":"evenodd"},null,-1),ct=e("rect",{width:"8",height:"2",x:"3.7",y:"4",fill:"#A5A7A9",rx:"1"},null,-1),it=e("rect",{width:"11",height:"2",y:"8",fill:"#A5A7A9",rx:"1"},null,-1),dt=e("rect",{width:"5",height:"2",x:"5.3",y:"12",fill:"#A5A7A9",rx:"1"},null,-1),rt=[ut,ct,it,dt];function mt(a,c){return s(),l("svg",lt,rt)}var O={render:mt};const ht={class:"company-consultant"},pt={key:0,class:"company-consultant-wrap content-elem"},vt={class:"company-consultant-info"},yt={key:1,class:"company-consultant-img-box"},gt=["src"],_t={key:1,class:"company-consultant-img",src:I,alt:""},ft={class:"company-consultant-info-box"},Ct={class:"company-consultant-info-about"},$t={class:"company-consultant-name"},xt=e("div",{class:"company-consultant-position"},"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",-1),Mt={class:"company-consultant-contact"},At=["href"],bt=["href"],wt=["href"],Et=["title","href"],kt=e("img",{class:"company-consultant-mail-img",src:O,alt:""},null,-1),Dt=k("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C "),Bt=[kt,Dt],Lt={key:1,class:"company-consultant-wrap content-elem"},St={class:"company-consultant-info"},Ft=e("a",{class:"company-consultant-mail"},[e("img",{class:"company-consultant-mail-img",src:O,alt:""}),k("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C ")],-1),Vt=M({__name:"ManagerCard",props:{manager:{type:Object,required:!0}},setup(a){const c=a,t=_(!1),r=_(!1),h=_("");return E(()=>c.manager,()=>{t.value=!1,r.value=!0,c.manager&&c.manager.image?(h.value="",te({method:"get",timeout:1e3*3,url:c.manager.image,responseType:"arraybuffer",headers:{"Content-type":"image/jpeg"}}).then(d=>{t.value=!0,r.value=!1,h.value=`data:${d.headers["content-type"]};base64,${btoa(String.fromCharCode(...new Uint8Array(d.data)))}`}).catch(()=>{r.value=!1})):r.value=!1,c.manager.image!=""&&(t.value=!0),h.value=c.manager.image}),(d,n)=>(s(),l("div",ht,[a.manager&&Object.keys(a.manager).length>0?(s(),l("div",pt,[e("div",vt,[r.value?(s(),G(V,{key:0,style:{margin:"auto"}})):(s(),l("div",yt,[t.value?(s(),l("img",{key:0,class:"company-consultant-img",src:h.value},null,8,gt)):(s(),l("img",_t))])),e("div",ft,[e("div",Ct,[e("div",$t,u(a.manager.name),1),xt]),e("div",Mt,[e("a",{class:"company-consultant-phone",href:"tel:"+a.manager.contact},u(a.manager.contact),9,At),a.manager.phone1!==""?(s(),l("a",{key:0,class:"company-consultant-phone",href:"tel:"+a.manager.phone1},u(a.manager.phone1),9,bt)):v("",!0),a.manager.phone2!==""?(s(),l("a",{key:1,class:"company-consultant-phone",href:"tel:"+a.manager.phone2},u(a.manager.phone2),9,wt)):v("",!0)])])]),e("a",{class:"company-consultant-mail",title:a.manager.email,href:"mailto:"+a.manager.email},Bt,8,Et)])):(s(),l("div",Lt,[e("div",St,[g(V,{style:{margin:"auto"}})]),Ft]))]))}}),Nt={key:0},Rt={class:"top-line product-page"},Tt={class:"company-head"},Zt={class:"company-head-elem"},Gt={class:"company-head-elem"},Ot={id:"CompanyCalendar"},Ut={class:"company-calendar-wrap"},Xt=M({__name:"company",props:["id"],setup(a){const c=a,t=ne(),r=oe(),h=_(!1),d=_(c.id),n=_(0),o=_(""),i=y(()=>t.getters.getCompanyData(d.value)),m=y(()=>t.getters.getCompanyStoragesData(d.value)),A=y(()=>t.getters.getCompanysList),w=y(()=>t.getters.getCompanySpent(d.value)),$=y(()=>t.getters.getManagerUid(d.value)),x=y(()=>t.getters.getManager),f=y({get:()=>t.getters.getLoader,set:F=>t.commit(le.SET_LOADER,F)}),U=y(()=>m.value.length===0?null:m.value[n.value?n.value:0].documents);E(()=>c.id,()=>{c.id!==""?d.value=c.id:d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid}),E(d,()=>{m.value.length===0?n.value=null:n.value=0,r.push(`/company/${d.value}`),t.commit(N.CLEAR_MANAGER),setTimeout(()=>t.dispatch(B.GET_MANAGER,$.value),1e3)}),se(()=>{t.getters.isCompanysLoad?(c.id!==""?(d.value=c.id,t.commit(N.CLEAR_MANAGER),t.dispatch(B.GET_MANAGER,$.value)):d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,h.value=!0):(f.value=!0,Promise.all([t.dispatch(B.GET_COMPANYS)]).finally(()=>{setTimeout(()=>{t.getters.isCompanysLoad&&(d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,h.value=!0),f.value=!1},500)}))}),ue("docDate",o);const q=()=>{n.value!=null&&n.value<m.value.length-1&&(n.value=n.value+1)},j=()=>{n.value&&n.value>0&&(n.value=n.value-1)};return(F,C)=>h.value?(s(),l("div",Nt,[e("div",Rt,[g(ce,{data:p(A),modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=b=>d.value=b)},null,8,["data","modelValue"]),g(P),g(H)]),e("div",Tt,[e("div",Zt,[g(xa,{data:p(m),modelValue:n.value,"onUpdate:modelValue":C[1]||(C[1]=b=>n.value=b),onNext:C[2]||(C[2]=b=>q()),onPrev:C[3]||(C[3]=b=>j())},null,8,["data","modelValue"])]),e("div",Gt,[g(K,{data:p(i)},null,8,["data"])])]),g(Ha,{spent:p(w)},null,8,["spent"]),e("div",Ot,[e("div",Ut,[g(ot,{data:p(U)},null,8,["data"]),g(Vt,{manager:p(x)},null,8,["manager"])])])])):v("",!0)}});export{Xt as default};
