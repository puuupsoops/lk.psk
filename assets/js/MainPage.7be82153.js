import{N as F}from"./Notification.683849a6.js";import{_ as P}from"./PersonalBar.8c5437ea.js";import{d as H,n as q,r as v,o as e,c as f,w as $,a as s,t as _,u as d,b as c,e as m,_ as x,f as C,F as Z,g as V,h as k,i as E,j as M,N as G,k as y,l as b,m as O,p as B,C as R,T as j,q as D,s as U}from"./index.88c03e93.js";const z={class:"company-card-name"},W={key:0,class:"company-card-box orange"},X={key:0,class:"company-card-row"},Y={class:"company-card-title"},I={class:"company-card-info"},J={class:"company-card-info-row"},K=["innerHTML"],Q={key:0,class:"company-card-value"},ss={key:1,class:"company-card-value"},as={class:"company-card-sale small"},es={class:"company-card-sale-box"},ts=s("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),os={class:"company-card-sale-value"},ns={key:1,class:"company-card-row"},cs=s("div",{class:"company-card-title"},[s("br")],-1),is=s("div",{class:"company-card-info"},[s("br"),s("br")],-1),ds=[cs,is],ls={key:2,class:"company-card-row"},rs={class:"company-card-title"},_s={class:"company-card-info"},us={class:"company-card-info-row"},ms=["innerHTML"],ps={key:0,class:"company-card-value"},hs={key:1,class:"company-card-value"},vs={class:"company-card-sale small"},fs={class:"company-card-sale-box"},ys=s("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),gs={class:"company-card-sale-value"},ws={key:3,class:"company-card-row"},bs=s("div",{class:"company-card-title"},[s("br")],-1),$s=s("div",{class:"company-card-info"},[s("br"),s("br")],-1),Cs=[bs,$s],xs={key:1,class:"company-card-box orange"},ks={style:{width:"290px",height:"133px",display:"flex",filter:"sepia(1)"}},Es=s("div",{class:"company-card-more"},"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",-1),Ms=H({__name:"CompanyAboutSmallCard",props:{data:{type:Object}},setup(o){var r,S,L,T;const a=o,n=g=>g.replace(/(^|\s)\S/g,l=>l.toUpperCase()).replace(/(ООО)|(\")|(\s)|([а-я])/g,""),t="/company/"+((r=a==null?void 0:a.data)==null?void 0:r.uid),p=q(String((S=a==null?void 0:a.data)==null?void 0:S.name)),h=Boolean(((L=a==null?void 0:a.data)==null?void 0:L.storages)&&a.data.storages[0]),u=Boolean(((T=a==null?void 0:a.data)==null?void 0:T.storages)&&a.data.storages[1]),i=[];return[h,u].forEach((g,l)=>{var w;g&&(i[l]={name:n(a.data.storages[l].name),discount:a.data.storages[l].discount+" %",amount:(w=Number(a.data.storages[l].balance-a.data.storages[l].debt))==null?void 0:w.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2,maximumFractionDigits:2}),label:a.data.storages[l].balance-a.data.storages[l].debt<0?"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: ":"\u0411\u0430\u043B\u0430\u043D\u0441: ",amountEqZero:a.data.storages[l].balance-a.data.storages[l].debt==0&&a.data.storages[l].balance-a.data.storages[l].balance==0})}),(g,l)=>{const w=v("router-link");return e(),f(w,{tag:"a",class:"company-card-item",to:t},{default:$(()=>{var N,A;return[s("div",z,_(d(p)),1),(A=(N=o.data)==null?void 0:N.storages)!=null&&A.length?(e(),c("div",W,[d(h)?(e(),c("div",X,[s("div",Y,_(d(i)[0].name),1),s("div",I,[s("div",J,[s("span",{innerHTML:d(i)[0].label},null,8,K),d(i)[0].amountEqZero?(e(),c("span",Q,"0 \u20BD")):(e(),c("span",ss,_(d(i)[0].amount),1))])]),s("div",as,[s("div",es,[ts,s("div",os,_(d(i)[0].discount),1)])])])):(e(),c("div",ns,ds)),d(u)?(e(),c("div",ls,[s("div",rs,_(d(i)[1].name),1),s("div",_s,[s("div",us,[s("span",{innerHTML:d(i)[1].label},null,8,ms),d(i)[1].amountEqZero?(e(),c("span",ps,"0 \u20BD")):(e(),c("span",hs,_(d(i)[1].amount),1))])]),s("div",vs,[s("div",fs,[ys,s("div",gs,_(d(i)[1].discount),1)])])])):(e(),c("div",ws,Cs))])):(e(),c("div",xs,[s("div",ks,[m(x,{small:!1,center:!0})])])),Es]}),_:1})}}}),Ss={props:{data:{type:Array},loading:{type:Boolean,default:!1}},components:{CompanyAboutSmallCard:Ms,PreloaderLocal:x}},Ls={class:"company-card"},Ts={class:"company-card-wrap"};function Ns(o,a,n,t,p,h){const u=v("PreloaderLocal"),i=v("CompanyAboutSmallCard");return e(),c("div",Ls,[s("div",Ts,[n.loading?(e(),f(u,{key:0})):(e(!0),c(Z,{key:1},V(n.data,r=>(e(),f(i,{key:r.id,data:r},null,8,["data"]))),128))])])}var As=C(Ss,[["render",Ns]]);const Bs={setup(){const o=k(),a=E(!1);return M(()=>{o.getters.isNews||(a.value=!0,o.dispatch(G.GET_NEWS).finally(()=>{a.value=!1}))}),{isLoad:y(()=>o.getters.isNews),news:y(()=>o.getters.getOneNews)}}},Ds={key:0,class:"news",href:"https://psk.expert/novosti/"},Hs={class:"news-img-box"},Zs=["src"],Vs={class:"news-text"},Fs={class:"news-heading"},Ps={class:"news-heading-text"},qs=["innerHTML"],Gs={class:"news-heading-date"},Os=["innerHTML"],Rs={class:"news-description"},js=["innerHTML"];function Us(o,a,n,t,p,h){return t.isLoad?(e(),c("a",Ds,[s("div",Hs,[s("img",{class:"news-img",src:t.news.image,alt:""},null,8,Zs)]),s("div",Vs,[s("div",Fs,[s("div",Ps,[s("span",{innerHTML:t.news.title},null,8,qs)]),s("div",Gs,[s("span",{innerHTML:t.news.date},null,8,Os)])]),s("div",Rs,[s("span",{innerHTML:t.news.text},null,8,js)])])])):b("",!0)}var zs=C(Bs,[["render",Us]]);const Ws={xmlns:"http://www.w3.org/2000/svg",width:"19",height:"15",fill:"none"},Xs=O('<path fill="#fff" d="M3.71 3.924a.464.464 0 1 1 .928 0v6.493a.464.464 0 1 1-.928 0V3.924ZM0 3.924a.464.464 0 1 1 .928 0v6.493a.464.464 0 1 1-.928 0V3.924Z"></path><path fill="#fff" d="M.464 4.388a.464.464 0 0 1 0-.927h3.71a.464.464 0 0 1 0 .927H.464ZM.464 10.88a.464.464 0 0 1 0-.927h3.71a.464.464 0 0 1 0 .928H.464Z"></path><path fill="#fff" d="M4.206 10.927a.494.494 0 1 1 .373-.915l8.023 3.273a.494.494 0 0 1-.373.915l-8.023-3.273ZM4.167 3.46a.494.494 0 1 0 .373.914l8.024-3.273a.494.494 0 0 0-.373-.914L4.167 3.46Z"></path><path fill="#fff" d="M12.892.678a.464.464 0 1 0-.927 0v12.985a.464.464 0 1 0 .927 0V.678Z"></path><path fill="#fff" fill-rule="evenodd" d="M16.279 4.592a.464.464 0 0 1 .833-.408l-.417.204.417-.204v.002l.003.006.009.018a6.28 6.28 0 0 1 .14.31c.091.205.211.493.331.826.236.652.492 1.527.492 2.289 0 .761-.256 1.636-.492 2.288a13.56 13.56 0 0 1-.471 1.137l-.009.018-.002.005-.001.001-.417-.203.417.203a.464.464 0 0 1-.833-.407m0 0 .002-.004.006-.014a5.992 5.992 0 0 0 .128-.281c.084-.191.196-.46.308-.77.228-.632.436-1.38.436-1.973 0-.593-.208-1.341-.436-1.974a12.672 12.672 0 0 0-.436-1.05l-.006-.015-.002-.004" clip-rule="evenodd"></path><path fill="#fff" fill-rule="evenodd" d="m14.458 5.578.001.002.006.01a4.127 4.127 0 0 1 .125.195c.082.134.191.321.3.537.228.451.414.946.414 1.313 0 .366-.186.861-.414 1.313a7.658 7.658 0 0 1-.425.732l-.006.01-.001.001a.464.464 0 0 0 .765.525l-.383-.263.383.263.001-.002.003-.004.009-.014a12.444 12.444 0 0 0 .144-.226c.092-.15.215-.36.338-.604.236-.467.514-1.13.514-1.731 0-.601-.278-1.265-.514-1.732a8.559 8.559 0 0 0-.45-.78l-.032-.05-.01-.014-.002-.004s-.001-.002-.384.26l.383-.26a.465.465 0 0 0-.765.523ZM5.506 12.454c-.532.368-1.352.73-2.26.395-.79-.291-1.251-.9-1.508-1.398a3.865 3.865 0 0 1-.334-.925l-.004-.019-.001-.006v-.003l.456-.08.457-.082c0-.001 0 0 0 0v.007l.009.036c.008.034.02.086.04.15.039.13.103.307.2.496.198.383.513.772 1.007.954.491.181.982.008 1.411-.288a3.454 3.454 0 0 0 .675-.62l.007-.01.368.284.367.283-.001.001-.001.002-.005.006-.014.017a4.117 4.117 0 0 1-.227.253c-.15.156-.37.36-.642.547Z" clip-rule="evenodd"></path>',6),Ys=[Xs];function Is(o,a){return e(),c("svg",Ws,Ys)}var Js={render:Is};const Ks={props:{data:{type:Object,reqired:!0}},mounted(){}},Qs={class:"case-slider-elem"},sa={class:"case-slider-elem-wrap"},aa={class:"case-slider-elem-box"},ea=s("div",{class:"case-slider-new"},[s("div",{class:"case-slider-new-box"},[s("img",{class:"case-slider-new-img",src:Js,alt:""}),s("div",{class:"case-slider-new-text"},"\u041D\u043E\u0432\u0438\u043D\u043A\u0430")])],-1),ta={class:"case-slider-img-box"},oa=["src"],na={class:"case-slider-info"},ca={class:"case-slider-name"},ia={class:"case-slider-about"},da={class:"case-slider-about-code"},la={class:"case-slider-price-val"},ra={class:"case-slider-price-info"};function _a(o,a,n,t,p,h){const u=v("router-link");return e(),c("div",Qs,[s("div",sa,[s("div",aa,[ea,s("div",ta,[s("img",{class:"case-slider-img",src:n.data.image,alt:""},null,8,oa)]),s("div",na,[s("div",ca,_(n.data.title),1),s("div",ia,[B(_(n.data.desc)+" ",1),s("span",da,_(n.data.article),1)])])]),m(u,{class:"case-slider-price",to:"/product/"+n.data.article},{default:$(()=>[s("div",la,[B(" \u20BD "+_(n.data.price),1),s("span",ra,_(n.data.priceType),1)])]),_:1},8,["to"])])])}var ua=C(Ks,[["render",_a]]);const ma={components:{CaseCard:ua,PreloaderLocal:x},setup(){const o=k();let a=E(!1);M(()=>{o.getters.isShowCases||(a.value=!0,o.dispatch(R.GET_CASE).finally(()=>{a.value=!1}).catch(()=>{}))});let n=()=>{o.commit(D.SET_CASE_NEXT)},t=()=>{o.commit(D.SET_CASE_PREV)};return{loading:a,isLoad:y(()=>o.getters.isCases),showCases:y(()=>o.getters.getCases),next:n,previous:t}}},pa={class:"case-slider-wrap"};function ha(o,a,n,t,p,h){const u=v("preloader-local"),i=v("case-card");return e(),c("div",pa,[s("div",{class:"case-slider-arrow prev",onClick:a[0]||(a[0]=(...r)=>t.previous&&t.previous(...r))}),t.loading?(e(),f(u,{key:0})):b("",!0),t.isLoad?(e(),f(j,{key:1,class:"case-slider",tag:"div"},{default:$(()=>[(e(!0),c(Z,null,V(t.showCases,r=>(e(),f(i,{key:r.id,data:r},null,8,["data"]))),128))]),_:1})):b("",!0),s("div",{class:"case-slider-arrow next",onClick:a[1]||(a[1]=(...r)=>t.next&&t.next(...r))})])}var va=C(ma,[["render",ha]]);const fa={class:"top-line main-page"},ya={class:"content-wrap content-main-wrap"},ga={class:"content-wrap-elem"},wa={key:0,class:"content-wrap-elem"},ba={class:"banner-img-box"},$a=["src"],Ca=s("div",{class:"banner-btn"},"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",-1),Ma=H({__name:"MainPage",setup(o){const a=k(),n=E(!1);M(()=>{a.getters.isCompanysLoad||(n.value=!0,a.dispatch(U.GET_COMPANYS).finally(()=>n.value=!1))});const t=y(()=>a.getters.getRandomCase),p=y(()=>a.getters.getCompanys);return(h,u)=>{const i=v("router-link");return e(),c("div",null,[s("div",fa,[m(F),m(P)]),m(As,{data:d(p),loading:n.value},null,8,["data","loading"]),s("div",ya,[s("div",ga,[m(zs),m(va)]),d(t)?(e(),c("div",wa,[m(i,{class:"banner",to:"/product/"+d(t).article},{default:$(()=>[s("div",ba,[s("img",{class:"banner-img",src:d(t).image,alt:""},null,8,$a)]),Ca]),_:1},8,["to"])])):b("",!0)])])}}});export{Ma as default};
