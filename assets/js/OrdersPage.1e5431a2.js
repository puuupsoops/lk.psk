import{f as O,u as k,g as r,h as c,i as x,av as C,p as B,o as v,c as f,b as s,m as l,x as o,q as S,L as $,aw as g,ax as V,d as N,a as P,j as U,ay as b}from"./index.09a56ea9.js";import{N as R}from"./Notification.b98f3bf7.js";import"./CompanyCalendar.ddcfc559.js";import"./CompanyAboutSmallCard.cbad0acf.js";import{_ as T}from"./CompanyBarTop.a3a46566.js";/* empty css                                                          */import"./vee-validate.esm.80362e72.js";import"./object.43a30ddf.js";import"./doc.66697d7d.js";const w={class:"top-line product-page"},G={class:"orders-heading"},I={class:"orders-heading-elem"},L={class:"orders-heading-item"},F={class:"orders-heading-item"},M={class:"orders-heading-item"},j={key:0,class:"orders-heading-elem"},q={key:1},ae=O({__name:"OrdersPage",setup(Y){const a=k(),d=r(!0),h=r({id:1,search:""}),E=c(()=>a.getters.getCompanysList),i=r(0),A=c(()=>a.getters.getCompanyFromOrders()),u=r(""),_=c(()=>a.getters.getOrdersDataPeriodArray),m=r(0),n=r(!1),D=()=>{n.value==!1&&(n.value=!0,a.dispatch(C.GET_ORDERS).finally(()=>{n.value=!1,d.value=!0,d.value=!1}))};return x(async()=>{var p;if(a.dispatch(C.GET_ORDERS).finally(()=>{d.value=!1}),a.getters.getActiveCompanyId!==""){u.value=a.getters.getActiveCompanyId;return}a.getters.isCompanysLoad||await a.dispatch(B.GET_COMPANYS),u.value=a.getters.getCompanys===[]?"":(p=a.getters.getCompanys[0])==null?void 0:p.uid}),(p,e)=>{var y;return v(),f("div",null,[s("div",w,[l(o(T),{data:E.value,modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t)},null,8,["data","modelValue"]),l(o(R)),l(o(S))]),l(o($),{newOrder:""}),s("div",G,[s("div",I,[s("div",L,[e[6]||(e[6]=s("div",{class:"orders-heading-text"},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442:",-1)),l(o(g),{data:A.value,modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t)},null,8,["data","modelValue"])]),s("div",F,[e[7]||(e[7]=s("div",{class:"orders-heading-text"},"\u0421\u0442\u0430\u0442\u0443\u0441:",-1)),l(o(g),{data:o(V),modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t)},null,8,["data","modelValue"])]),s("div",M,[e[8]||(e[8]=s("div",{class:"orders-heading-text"},"\u041F\u0435\u0440\u0438\u043E\u0434:",-1)),l(o(g),{data:_.value,modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t)},null,8,["data","modelValue"])]),s("div",{class:"orders-heading-clean",title:"\u0423\u0431\u0440\u0430\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B",onClick:e[4]||(e[4]=t=>{u.value="",m.value=0,i.value=0})})]),d.value?U("",!0):(v(),f("div",j,[s("button",{class:"product-search-btn gradient-btn",onClick:e[5]||(e[5]=t=>D())},[n.value?(v(),N(o(P),{key:0,small:""})):(v(),f("div",q,"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C"))])]))]),l(o(b),{loading:d.value,contrAgent:u.value,period:_.value[m.value].name,status:(y=o(V).find(t=>t.id===i.value))==null?void 0:y.name,search:h.value,refresh:n.value},null,8,["loading","contrAgent","period","status","search","refresh"])])}}});export{ae as default};
