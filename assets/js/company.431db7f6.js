import{a as Z,_ as P}from"./PersonalBar.52b6abe9.js";import{N as W}from"./Notification.4853f998.js";import{m as z,a as X,b as H,_ as Y,F as K,C as J}from"./CompanyCalendar.vue_vue_type_style_index_0_lang.b1ee90c6.js";import{_ as Q}from"./doc.8e5782dc.js";import{o,b as u,a as e,d as M,h as _,L as E,V as ee,c as T,t as l,k as y,p as g,e as V,m as D,B as G,u as h,z as k,F as L,f as S,W as ae,l as U,j as v,U as te,X as se,Y as ne,i as oe,s as B,Z as N,g as ue,R as le,$ as ce,a0 as ie}from"./index.96b825e6.js";import{_ as de}from"./CompanyBarTop.14a699ef.js";import"./vee-validate.esm.466aae41.js";import"./object.ced0405a.js";const re={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"20",fill:"none"},me=e("path",{fill:"#A5A7A9","fill-rule":"evenodd",d:"M37.465 2H18.579l8.064 7.102L37.465 2ZM16.739 3.036 14.713 15.91a1 1 0 0 0 .988 1.156h19.926a1 1 0 0 0 .988-.845l1.978-12.576-11.33 7.436c-.047.03-.094.056-.142.078a.998.998 0 0 1-1.235-.067l-9.107-8.02a.957.957 0 0 1-.04-.037Zm-1.946-.502A3 3 0 0 1 17.757 0h19.926a3 3 0 0 1 2.963 3.466L38.59 16.533a3 3 0 0 1-2.963 2.534H15.7a3 3 0 0 1-2.964-3.467l2.056-13.066Z","clip-rule":"evenodd"},null,-1),pe=e("rect",{width:"8",height:"2",x:"3.7",y:"4",fill:"#A5A7A9",rx:"1"},null,-1),he=e("rect",{width:"11",height:"2",y:"8",fill:"#A5A7A9",rx:"1"},null,-1),ye=e("rect",{width:"5",height:"2",x:"5.3",y:"12",fill:"#A5A7A9",rx:"1"},null,-1),ve=[me,pe,he,ye];function ge(a,i){return o(),u("svg",re,ve)}var O={render:ge};const _e={class:"company-consultant"},fe={key:0,class:"company-consultant-wrap content-elem"},Ce={class:"company-consultant-info"},xe={key:1,class:"company-consultant-img-box"},$e=["src"],Me={key:1,class:"company-consultant-img",src:Z,alt:""},be={class:"company-consultant-info-box"},Ae={class:"company-consultant-info-about"},we={class:"company-consultant-name"},Ee=e("div",{class:"company-consultant-position"},"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",-1),De={class:"company-consultant-contact"},ke=["href"],Be=["href"],Le=["href"],Se=["title","href"],Fe=e("img",{class:"company-consultant-mail-img",src:O,alt:""},null,-1),Ve=D("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C "),Ne=[Fe,Ve],Re={key:1,class:"company-consultant-wrap content-elem"},Te={class:"company-consultant-info"},Ge=e("a",{class:"company-consultant-mail"},[e("img",{class:"company-consultant-mail-img",src:O,alt:""}),D("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C ")],-1),Ue=M({__name:"ManagerCard",props:{manager:{type:Object,required:!0}},setup(a){const i=a,t=_(!1),r=_(!1),p=_("");return E(()=>i.manager,()=>{t.value=!1,r.value=!0,i.manager&&i.manager.image?(p.value="",ee({method:"get",timeout:1e3*3,url:i.manager.image,responseType:"arraybuffer",headers:{"Content-type":"image/jpeg"}}).then(d=>{t.value=!0,r.value=!1,p.value=`data:${d.headers["content-type"]};base64,${btoa(String.fromCharCode(...new Uint8Array(d.data)))}`}).catch(()=>{r.value=!1})):r.value=!1,i.manager.image!=""&&(t.value=!0),p.value=i.manager.image}),(d,s)=>(o(),u("div",_e,[a.manager&&Object.keys(a.manager).length>0?(o(),u("div",fe,[e("div",Ce,[r.value?(o(),T(V,{key:0,style:{margin:"auto"}})):(o(),u("div",xe,[t.value?(o(),u("img",{key:0,class:"company-consultant-img",src:p.value},null,8,$e)):(o(),u("img",Me))])),e("div",be,[e("div",Ae,[e("div",we,l(a.manager.name),1),Ee]),e("div",De,[e("a",{class:"company-consultant-phone",href:"tel:"+a.manager.contact},l(a.manager.contact),9,ke),a.manager.phone1!==""?(o(),u("a",{key:0,class:"company-consultant-phone",href:"tel:"+a.manager.phone1},l(a.manager.phone1),9,Be)):y("",!0),a.manager.phone2!==""?(o(),u("a",{key:1,class:"company-consultant-phone",href:"tel:"+a.manager.phone2},l(a.manager.phone2),9,Le)):y("",!0)])])]),e("a",{class:"company-consultant-mail",title:a.manager.email,href:"mailto:"+a.manager.email},Ne,8,Se)])):(o(),u("div",Re,[e("div",Te,[g(V,{style:{margin:"auto"}})]),Ge]))]))}}),Oe={key:0},qe={class:"content-elem"},je={class:"company-head-item-title"},Ie={class:"company-card-sale"},Ze={class:"company-card-sale-box"},Pe=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),We={class:"company-card-sale-value"},ze={class:"company-card-balance"},Xe={class:"company-card-balance-box"},He={key:0,class:"company-head-info-elem l highlight"},Ye={key:1,class:"company-head-info-elem l highlight"},Ke={class:"company-head-info"},Je={class:"company-head-info-row"},Qe={class:"company-head-info-elem l"},ea={class:"company-head-info-title"},aa={key:0,class:"company-head-info-val"},ta={key:1,class:"company-head-info-val"},sa={key:0,class:"company-head-info-elem r"},na=e("span",{class:"company-head-info-title"},"\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F",-1),oa={class:"company-head-info-val"},ua={class:"company-card-footer"},la={class:"company-head-info-elem l"},ca=e("span",{class:"company-head-info-title"},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",-1),ia={class:"company-head-info-val"},da={class:"company-head-info-elem \u043A"},ra=e("span",{class:"company-head-info-title"},"\u041B\u0438\u043C\u0438\u0442",-1),ma={class:"company-head-info-val"},pa={class:"company-head-sale"},ha={class:"sale-val"},ya={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},va={class:"sale-val-money"},ga=e("div",{tooltip:"\u041F\u043B\u0430\u0442\u0435\u0436\u0438",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),_a=[ga],fa={key:1,class:"doc"},Ca={class:"content-elem"},xa={class:"company-head-item-title"},$a={class:"company-card-sale"},Ma={class:"company-card-sale-box"},ba=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),Aa={class:"company-card-sale-value"},wa={class:"company-card-balance"},Ea={class:"company-card-balance-box"},Da={key:0,class:"company-head-info-elem l highlight"},ka={key:1,class:"company-head-info-elem l highlight"},Ba=e("div",{class:"company-head-info"},[e("div",{class:"company-head-info-row"}," \u041F\u043B\u0430\u0442\u0435\u0436\u0438 ")],-1),La={class:"company-head-list-content"},Sa={key:0,class:"company-head-list"},Fa=e("img",{class:"company-head-list-img",src:Q,alt:""},null,-1),Va=["onClick"],Na={class:"company-head-sale"},Ra={class:"sale-val"},Ta={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},Ga={class:"sale-val-money"},Ua=e("div",{tooltip:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),Oa=[Ua],qa={key:1,class:"company-head-item yellow"},ja=U('<div class="content-elem active"><div class="company-head-item-title" style="margin-right:100px;">\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442</div><div class="company-card-sale"><div class="company-card-sale-box"><span class="company-card-sale-text">\u0421\u043A\u0438\u0434\u043A\u0430</span><div class="company-card-sale-value">\u0421\u043A\u0438\u0434\u043A\u0430 %</div></div></div><div class="company-card-balance"><div class="company-card-balance-box"><div class="company-head-info-elem l highlight">\u0411\u0430\u043B\u0430\u043D\u0441: 0 \u20BD</div></div></div><div class="company-head-info"><div class="company-head-info-row"><div class="company-head-info-elem l"><span class="company-head-info-title">\u041E\u0442\u0441\u0440\u043E\u0447\u043A\u0430</span><span class="company-head-info-val">0 \u0434\u043D\u0435\u0439</span></div><div class="company-head-info-elem r"><span class="company-head-info-title">\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F</span><span class="company-head-info-val">--.--.----</span></div></div></div></div>',1),Ia=e("div",{class:"company-head-sale",tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},[e("div",{class:"sale-val"},[e("span",{class:"sale-val-money"},"0 \u20BD")])],-1),Za=[ja,Ia],R=M({__name:"CompanyStorageCard",props:{data:{type:Object},active:{type:Boolean}},emits:["onClick"],setup(a,{emit:i}){const t=_(!1);let r=G("docDate"),p=function(d){let s=["\u0434\u043D\u0435\u0439","\u0434\u0435\u043D\u044C","\u0434\u043D\u044F"],n=d%100;n=n>=20?n%10:n;let c=0;return n===0||n>=5&&n<=20?c=0:n==1?c=1:c=2,s[c]};return(d,s)=>a.data?(o(),u("div",{key:0,class:k("company-head-item "+(a.data.debt>1e3?"red":"yellow")+(a.active?" content-elem-active":"")+(t.value?" doc":"")),onClick:s[2]||(s[2]=n=>d.$emit("onClick",n))},[t.value?(o(),u("div",fa,[e("div",Ca,[e("div",xa,l(a.data.name),1),e("div",$a,[e("div",Ma,[ba,e("div",Aa,l(a.data.discount)+" %",1)])]),e("div",wa,[e("div",Ea,[a.data.balance-a.data.debt<0?(o(),u("div",Da,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+l((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(o(),u("div",ka,"\u0411\u0430\u043B\u0430\u043D\u0441: "+l(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),Ba,e("div",La,[a.data.documents?(o(),u("ul",Sa,[(o(!0),u(L,null,S(a.data.documents,(n,c)=>(o(),u("li",{class:"company-head-list-elem",key:c},[Fa,e("a",{class:"company-head-list-link",href:"#CompanyCalendar",onClick:m=>ae(r)?r.value=n.expires:r=n.expires},l(n.debt.toLocaleString("ru").replace(",","."))+" \u20BD \u043E\u043F\u043B\u0430\u0442\u0438\u0442\u044C \u0434\u043E "+l(n.expires),9,Va)]))),128))])):y("",!0)])]),e("div",Na,[e("div",Ra,[e("span",Ta,[e("span",Ga,l(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:k("company-card-showdoc"+(t.value?" active":"")),onClick:s[1]||(s[1]=n=>t.value=!t.value)},Oa,2)])])):(o(),u("div",Oe,[e("div",qe,[e("div",je,l(a.data.name),1),e("div",Ie,[e("div",Ze,[Pe,e("div",We,l(a.data.discount)+" %",1)])]),e("div",ze,[e("div",Xe,[a.data.balance-a.data.debt<0?(o(),u("div",He,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+l((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(o(),u("div",Ye,"\u0411\u0430\u043B\u0430\u043D\u0441: "+l(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",Ke,[e("div",Je,[e("div",Qe,[e("span",ea,l(a.data.case),1),a.data.case==="\u043E\u0442\u0441\u0440\u043E\u0447\u043A\u0430"?(o(),u("span",aa,l(a.data.deferment)+" "+l(h(p)(a.data.deferment)),1)):y("",!0),a.data.case==="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(o(),u("span",ta,l(a.data.percent)+"%",1)):y("",!0)]),a.data.case!=="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(o(),u("div",sa,[na,e("span",oa,l(a.data.date),1)])):y("",!0)])]),e("div",ua,[e("div",la,[ca,e("span",ia,l(a.data.contract),1)]),e("div",da,[ra,e("span",ma,l(Number(a.data.limit).toLocaleString("ru").replace(",","."))+" \u20BD",1)])])]),e("div",pa,[e("div",ha,[e("span",ya,[e("span",va,l(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:k("company-card-showdoc"+(t.value?" active":"")),onClick:s[0]||(s[0]=n=>t.value=!t.value)},_a,2)])]))],2)):(o(),u("div",qa,Za))}}),Pa={key:0,class:"company-head-wrap"},Wa={key:1,class:"company-head-wrap"},za=M({__name:"CompanyStorageBar",props:{data:{type:Array,required:!0},modelValue:{type:Number}},emits:["update:modelValue","prev","next"],setup(a,{emit:i}){const t=a,r=250,p=s=>{const n=t.data[s].guid;let c=0,m=0,b=0,w=0;const x=document.querySelector("#"+n+"-"+s);x&&(b=x.getBoundingClientRect().x,w=x.getBoundingClientRect().x+x.getBoundingClientRect().width);const $=document.querySelector(".company-head-elem");$&&(c=$.getBoundingClientRect().x,m=$.getBoundingClientRect().x+$.getBoundingClientRect().width);const f=document.querySelector(".company-head-wrap");w>m?(f&&(f.scrollLeft+=r),setTimeout(()=>{i("update:modelValue",s)},250)):b<c?(f&&(f.scrollLeft-=r),setTimeout(()=>{i("update:modelValue",s)},250)):i("update:modelValue",s)},d=s=>{const n=document.querySelector(".company-head-wrap");n&&(n.scrollLeft+=s),setTimeout(()=>{s>0?i("next"):i("prev")},250)};return(s,n)=>a.data.length!==0?(o(),u("div",Pa,[e("div",{class:"btn btn-prev",onClick:n[0]||(n[0]=c=>d(-r))}," \u276E "),(o(!0),u(L,null,S(a.data,(c,m)=>(o(),T(R,{id:c.guid+"-"+m,key:m,data:c||null,active:m===a.modelValue,onOnClick:b=>p(m)},null,8,["id","data","active","onOnClick"]))),128)),e("div",{class:"btn btn-next",onClick:n[1]||(n[1]=c=>d(r))}," \u276F ")])):(o(),u("div",Wa,[g(R)]))}}),Xa={class:"company-sale sale"},Ha={class:"sale-head"},Ya={class:"sale-title"},Ka={key:0,class:"sale-lacks"},Ja=D("\u041D\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 "),Qa={class:"sale-progressbar-wrap"},et={class:"sale-progressbar content-elem tooltip"},at={class:"sale-progressbar-val"},tt={class:"sale-progressbar-val-money"},st={class:"sale-progressbar-val-percent"},nt={class:"sale-progressbar-money"},ot={class:"sale-progressbar-min"},ut={class:"sale-progressbar-max"},lt={class:"company-sale-card"},ct={class:"table"},it=e("div",{class:"table-row table-heading"},[e("div",{class:"table-elem"},"\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u043A\u0430\u0437\u0430,\u0440\u0443\u0431"),e("div",{class:"table-elem"},"\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u043A\u0430\u0437\u0430,\u0440\u0443\u0431"),e("div",{class:"table-elem"}," \u0421\u043A\u0438\u0434\u043A\u0430,% ")],-1),dt={key:0,class:"table-elem"},rt={key:1,class:"table-elem"},mt={key:2,class:"table-elem"},pt={key:3,class:"table-elem last"},ht={key:4,class:"table-elem last"},yt={key:5,class:"table-elem"},vt=M({__name:"CompanySaleBar",props:{spent:{type:Number,required:!0}},setup(a){const i=a,t=[{progressMoneyMin:0,progressMoneyMax:5e4,discount:0,next:2},{progressMoneyMin:5e4,progressMoneyMax:99e3,discount:2,next:3},{progressMoneyMin:1e5,progressMoneyMax:199999,discount:3,next:4},{progressMoneyMin:2e5,progressMoneyMax:399999,discount:4,next:6},{progressMoneyMin:4e5,progressMoneyMax:599999,discount:6,next:8},{progressMoneyMin:6e5,progressMoneyMax:799999,discount:8,next:9},{progressMoneyMin:8e5,progressMoneyMax:999999,discount:9,next:10},{progressMoneyMin:1e6,progressMoneyMax:5999999,discount:10,next:15},{progressMoneyMin:6e6,progressMoneyMax:9999999,discount:15,next:17},{progressMoneyMin:1e7,progressMoneyMax:19999999,discount:17,next:18},{progressMoneyMin:2e7,progressMoneyMax:29999999,discount:18,next:20},{progressMoneyMin:3e7,progressMoneyMax:1/0,discount:20,next:0}];let r=v(()=>{let s=t.filter(n=>i.spent>=n.progressMoneyMin&&i.spent<n.progressMoneyMax);return s.length>0?s[0]:t[0]}),p=v(()=>r.value.progressMoneyMax!=1/0?i.spent/r.value.progressMoneyMax*100:100);const d=v(()=>r.value.progressMoneyMax-i.spent);return(s,n)=>(o(),u("div",Xa,[e("div",Ha,[e("div",Ya,"\u0421\u043A\u0438\u0434\u043A\u0430 "+l(h(r).discount)+" %",1),h(d)!=1/0?(o(),u("div",Ka,[Ja,e("span",null,l(h(d).toLocaleString("ru").replace(",","."))+"\xA0\u20BD",1),D(" \u0434\u043E \u0441\u043A\u0438\u0434\u043A\u0438 "+l(h(r).next)+" %",1)])):y("",!0)]),e("div",Qa,[e("div",et,[e("div",{class:"sale-progressbar-line",style:te("width: "+h(p)+"%")},[e("div",at,[e("div",null,[e("span",tt,"("+l(a.spent.toLocaleString("ru").replace(",","."))+"\xA0\u20BD)",1),e("span",st,l(h(p).toFixed(2))+"%",1)])])],4)]),e("div",nt,[e("div",ot,l(h(r).progressMoneyMin.toLocaleString("ru")),1),e("div",ut,l(h(r).progressMoneyMax.toLocaleString("ru")),1)])]),e("div",lt,[e("div",ct,[it,(o(!0),u(L,null,S(h(t),(c,m)=>(o(),u("div",{class:"table-row",key:m},[m!=0&&c.next!=0?(o(),u("div",dt,"\u041E\u0442 "+l(c.progressMoneyMin.toLocaleString("ru")),1)):y("",!0),m!=0&&c.next!=0?(o(),u("div",rt,"\u0434\u043E "+l(c.progressMoneyMax.toLocaleString("ru")),1)):y("",!0),m!=0&&c.next!=0?(o(),u("div",mt,l(c.discount),1)):y("",!0),c.next==0?(o(),u("div",pt)):y("",!0),c.next==0?(o(),u("div",ht,"\u0411\u043E\u043B\u0435\u0435 "+l(c.progressMoneyMin.toLocaleString("ru")),1)):y("",!0),c.next==0?(o(),u("div",yt,l(c.discount),1)):y("",!0)]))),128))])])]))}}),gt={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none"},_t=e("rect",{width:"2.254",height:"22.535",x:".25",y:"2.079",fill:"#A5A7A9",rx:"1.127",transform:"rotate(-45 .25 2.08)"},null,-1),ft=e("rect",{width:"2.254",height:"22.535",fill:"#A5A7A9",rx:"1.127",transform:"scale(-1 1) rotate(-45 -6.254 22.198)"},null,-1),Ct=[_t,ft];function xt(a,i){return o(),u("svg",gt,Ct)}var $t={render:xt};const Mt={class:"company-calendar-box content-elem"},bt=U('<form class="company-search-wrap" action=""><div class="company-search-input-wrap"><input class="company-search-input" type="text" placeholder="\u041F\u043E\u0438\u0441\u043A"><img class="company-search-input-clear" src="'+$t+'" alt=""></div><button class="company-search-btn gradient-btn"><img class="company-search-btn-img" src="'+ne+'" alt=""></button></form>',1),At=M({__name:"CompanyCalendar",props:{data:{type:Array}},setup(a){var s;const i=a,t=_(),r=_((s=G("docDate"))!=null?s:"");E(r,n=>{t.value.getApi().gotoDate(new Date(n))}),se(()=>{t.value.getApi().today()});let p=v(()=>i.data===null?[]:i.data),d=v(()=>({plugins:[z,X,H],headerToolbar:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",duration:{days:3},locale:Y,events:p.value?p.value.map(n=>({title:`\u0421\u0447\u0451\u0442 \u043E\u0442 ${n.date} \u043D\u0430 ${n.debt}\u20BD`,start:n.expires_date,backgroundColor:"#378006",allDay:!0,display:"block"})):[]}));return(n,c)=>(o(),u("div",Mt,[bt,g(h(K),{ref_key:"fullCalendar",ref:t,options:h(d)},null,8,["options"])]))}}),wt={key:0},Et={class:"top-line product-page"},Dt={class:"company-head"},kt={class:"company-head-elem"},Bt={class:"company-head-elem"},Lt={id:"CompanyCalendar"},St={class:"company-calendar-wrap"},qt=M({__name:"company",props:["id"],setup(a){const i=a,t=ue(),r=le(),p=_(!1),d=_(i.id),s=_(0),n=_(""),c=v(()=>t.getters.getCompanyData(d.value)),m=v(()=>t.getters.getCompanyStoragesData(d.value)),b=v(()=>t.getters.getCompanysList),w=v(()=>t.getters.getCompanySpent(d.value)),x=v(()=>t.getters.getManagerUid(d.value)),$=v(()=>t.getters.getManager),f=v({get:()=>t.getters.getLoader,set:F=>t.commit(ce.SET_LOADER,F)}),q=v(()=>m.value.length===0?null:m.value[s.value?s.value:0].documents);E(()=>i.id,()=>{i.id!==""?d.value=i.id:d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid}),E(d,()=>{m.value.length===0?s.value=null:s.value=0,r.push(`/company/${d.value}`),t.commit(N.CLEAR_MANAGER),setTimeout(()=>t.dispatch(B.GET_MANAGER,x.value),1e3)}),oe(()=>{t.getters.isCompanysLoad?(i.id!==""?(d.value=i.id,t.commit(N.CLEAR_MANAGER),t.dispatch(B.GET_MANAGER,x.value)):d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,p.value=!0):(f.value=!0,Promise.all([t.dispatch(B.GET_COMPANYS)]).finally(()=>{setTimeout(()=>{t.getters.isCompanysLoad&&(d.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,p.value=!0),f.value=!1},500)}))}),ie("docDate",n);const j=()=>{s.value!=null&&s.value<m.value.length-1&&(s.value=s.value+1)},I=()=>{s.value&&s.value>0&&(s.value=s.value-1)};return(F,C)=>p.value?(o(),u("div",wt,[e("div",Et,[g(de,{data:h(b),modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=A=>d.value=A)},null,8,["data","modelValue"]),g(W),g(P)]),e("div",Dt,[e("div",kt,[g(za,{data:h(m),modelValue:s.value,"onUpdate:modelValue":C[1]||(C[1]=A=>s.value=A),onNext:C[2]||(C[2]=A=>j()),onPrev:C[3]||(C[3]=A=>I())},null,8,["data","modelValue"])]),e("div",Bt,[g(J,{data:h(c)},null,8,["data"])])]),g(vt,{spent:h(w)},null,8,["spent"]),e("div",Lt,[e("div",St,[g(At,{data:h(q)},null,8,["data"]),g(Ue,{manager:h($)},null,8,["manager"])])])])):y("",!0)}});export{qt as default};
