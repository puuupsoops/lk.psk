import{f as j,az as r4,g as p,ao as Z,h as b,_ as J,r as S,o,c as l,b as e,m as f,l as F,t as g,y as C,F as M,e as N,j as $,u as Q,D as U,A as o4,U as l4,aA as i4,aB as I,d as K,a as T,x as V,ax as x,k as n4,w as Y,aC as d4,av as W,ae as v4,q as m4,L as p4,aw as f4,i as c4,aD as g4,p as C4}from"./index.09a56ea9.js";import{N as E4}from"./Notification.b98f3bf7.js";import{_ as D4}from"./CompanyBarTop.a3a46566.js";const h4=j({name:"ShipmentDetailModal",components:{DeleteButton:r4},props:{modelValue:{type:Boolean,required:!0},data:{type:Object}},emits:["update:modelValue"],setup(u){const t=p(null),c=p(!1);Z(t,()=>{c.value=!0,setTimeout(()=>{c.value=!1},500)});const m=b(()=>{var w,E,A,y,B,n,P;let i=[];return i.push((w=u.data)!=null&&w.order?u.data.order.name:""),i.push("\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442: "+((E=u.data)==null?void 0:E.partner_name)),i.push("\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0434\u0430\u0442\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0438: "+((A=u.data)==null?void 0:A.date)),((y=u.data)==null?void 0:y.case)=="\u0414\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439"&&(u.data.carriers=="2"&&i.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u041F\u042D\u041A"),u.data.carriers=="3"&&i.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u0414\u0435\u043B\u043E\u0432\u044B\u0435 \u043B\u0438\u043D\u0438\u0438"),u.data.carriers=="4"&&i.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u0411\u0430\u0439\u043A\u0430\u043B"),u.data.carriers=="1"&&i.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u0414\u0440\u0443\u0433\u0430\u044F"),u.data.carriers=="1"&&i.push(`\u0410\u0434\u0440\u0435\u0441 \u0422\u041A: ${u.data.address}`),i.push(String(u.data.extra))),((B=u.data)==null?void 0:B.case)=="\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437"&&i.push(`\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437\u0430: ${u.data.address}`),((n=u.data)==null?void 0:n.case)=="\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430"&&i.push(`\u0410\u0434\u0440\u0435\u0441 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438: ${u.data.address}`),i.push("\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0440\u0438\u0439: "+((P=u.data)==null?void 0:P.comment)),i});return{targetModal:t,shake:c,view_message:m}}}),A4={key:0,class:"order-modal"},y4={class:"order-modal-content draft"},$4={class:"order-modal-header"},_4={class:"order-modal-body draft"},F4={class:"nav-tab"},w4={class:"nav-tab-wrap",style:{"justify-content":"space-around"}},B4={key:0,class:""},S4={class:"shipment-form-item"},b4={class:"shipment-form-info shipment-form-info-text"},P4=["innerHTML"];function k4(u,t,c,m,i,w){const E=S("DeleteButton");return u.modelValue?(o(),l("div",A4,[e("div",{class:C("order-modal-dialog draft"+(u.shake?" shake":"")),ref:"targetModal"},[e("div",y4,[e("div",$4,[t[1]||(t[1]=e("h3",{class:"order-modal-header-title"},"\u0414\u0435\u0442\u0430\u043B\u0438 \u0437\u0430\u044F\u0432\u043A\u0438 \u043D\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0443",-1)),f(E,{onOnClick:t[0]||(t[0]=A=>u.$emit("update:modelValue",!1))})]),e("div",_4,[F(" \u0417\u0430\u044F\u0432\u043A\u0430 \u2116 "+g(u.data.bitrix_id)+" \u043E\u0442 "+g(u.data.date_create.substring(0,10))+" ",1),t[7]||(t[7]=e("br",null,null,-1)),t[8]||(t[8]=e("br",null,null,-1)),e("div",F4,[t[5]||(t[5]=e("span",null,"\u0412\u0438\u0434 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0438:",-1)),e("div",w4,[e("a",{class:C("nav-tab-elem gradient-btn"+(u.data.case=="\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437"?" active":""))},[...t[2]||(t[2]=[e("div",{class:"gradient-btn-text"},"\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437",-1)])],2),e("a",{class:C("nav-tab-elem gradient-btn"+(u.data.case=="\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430"?" active":""))},[...t[3]||(t[3]=[e("div",{class:"gradient-btn-text"},"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430",-1)])],2),e("a",{class:C("nav-tab-elem gradient-btn"+(u.data.case=="\u0414\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439"?" active":""))},[...t[4]||(t[4]=[e("div",{class:"gradient-btn-text"},"\u0414\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439",-1)])],2)])]),u.data?(o(),l("div",B4,[e("div",S4,[t[6]||(t[6]=e("div",{class:"shipment-form-elem-title"},[e("span",null,"\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u0435")],-1)),e("div",b4,[(o(!0),l(M,null,N(u.view_message,(A,y)=>(o(),l("p",{key:y},[e("span",{innerHTML:A},null,8,P4)]))),128))])])])):$("",!0)]),t[9]||(t[9]=e("div",{class:"order-modal-action"},null,-1))])],2)])):$("",!0)}var O4=J(h4,[["render",k4]]);const V4={class:"orders-list-wrap"},U4={class:"orders-heading-info"},L4={class:"orders-heading-pagination"},I4={class:"orders-list"},T4={class:"orders-list-row orders-list-heading"},M4=["onClick"],N4={class:"orders-list-elem"},x4={class:"orders-list-elem"},j4={class:"orders-list-elem"},q4=["innerHTML"],G4={class:"orders-list-elem"},z4={class:"orders-list-elem",style:{"justify-content":"space-around"}},H4={class:"orders-list-elem"},R4=["onClick"],K4=["onClick"],Y4=["onClick"],Z4=["onClick"],J4={key:0},Q4={class:"orders-list-info-elem"},W4={class:"orders-list-info-elem"},X4={key:0,class:"orders-list-info-about tooltip"},uu=["onClick"],eu={key:1,class:"orders-list-info-about tooltip"},su={class:"orders-list-info-download disable"},tu={key:0,class:"orders-list-info-elem orders-list-info-doc-wrap"},au={key:1,class:"orders-list-info-elem orders-list-info-doc-wrap"},ru=["href"],ou=["href"],lu=["href"],iu=["href"],nu={class:"orders-list-info-elem"},du={class:"orders-list-info-elem"},vu={key:1,class:"orders-list-info-row"},mu={key:0,class:"orders-list-row orders-list-main-row"},pu={class:"order-info"},fu={key:0},cu={key:1},gu=j({__name:"ShipmentsListCard",props:{data:{type:Array,required:!0},contrAgent:{type:String},period:{type:String},status:{type:String},loading:{type:Boolean,default:!1},search:{type:Object,required:!0}},setup(u){const t=u,c=Q(),m=p(-1),i=p(-1),w=p(null),E=p([]),A=p(-1),y=p(!1),B=p(!1),n=p({maxItemOnPage:10,currentPage:1}),P=p(-1),h=p(!1),L="https://api.psk.expert",_=p([{name:"id",value:"",show:!1},{name:"name",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1}]),X=b(()=>c.getters.isOrders);Z(w,()=>{i.value=-1}),U(m,()=>{var r,s,D;if(m.value!=-1&&k.value&&Array.isArray((r=k.value[m.value].order)==null?void 0:r.checks)){let a=(D=(s=k.value[m.value].order)==null?void 0:s.checks)==null?void 0:D.map(v=>v.doc_status?null:c.dispatch(W.GET_ORDERS_DOCSTATUS,v.guid));a&&Promise.all(a).finally(()=>{})}}),U(()=>t.status,()=>{n.value.currentPage=1,m.value=-1}),U(()=>t.contrAgent,()=>{n.value.currentPage=1,m.value=-1}),U(()=>t.search,()=>{n.value.currentPage=1,m.value=-1}),U(()=>t.period,()=>{n.value.currentPage=1,m.value=-1});const k=b(()=>{let r=t.data.filter(s=>t.contrAgent==""||s.partner_guid==t.contrAgent);return r=r.filter(s=>u4(s.date)),r=r.filter(s=>e4(s)),r=r.filter(s=>O(s)),_.value[1].value!=""&&(r=r.filter(s=>`\u0417\u0430\u044F\u0432\u043A\u0430 \u2116 ${s.bitrix_id} \u043E\u0442 ${s.date_create.substring(0,10)}`.indexOf(_.value[1].value)!=-1)),r}),q=r=>n.value.maxItemOnPage!=-1?r>=(n.value.currentPage-1)*n.value.maxItemOnPage&&r<n.value.currentPage*n.value.maxItemOnPage:!0,O=r=>{if(t.search.search=="")return!0;switch(t.search.id){case 1:return`\u0417\u0430\u044F\u0432\u043A\u0430 \u2116 ${r.bitrix_id} \u043E\u0442 ${r.date_create.substring(0,10)}`.toUpperCase().indexOf(t.search.search.toUpperCase())!=-1;case 2:return r.date.toUpperCase().indexOf(t.search.search.toUpperCase())!=-1;case 3:return r.order?String(r.order.n).toUpperCase().indexOf(t.search.search.toUpperCase())!=-1:!1;default:return!0}},u4=r=>{var s;if(t.period=="\u0412\u0441\u0435")return!0;{const D=(s=t.period)==null?void 0:s.split(" - ")[0],a=D==null?void 0:D.substring(6,10),v=D==null?void 0:D.substring(3,5);return a==r.substring(6,10)&&v==r.substring(3,5)}},e4=r=>r,s4=r=>{E.value.push(r),c.dispatch(v4.GET_BILL_FILE_SAVE,r).finally(()=>{E.value=E.value.filter(s=>s!==r)})},t4=(r,s)=>{const a=c.getters.getCompanyStoragesData(r).find(v=>v.guid==s);return a?a.name.replace(/(^|\s)\S/g,v=>v.toUpperCase()).replace(/(ООО)|(")|(\s)|([а-я])/g,""):"\u0421\u043A\u043B\u0430\u0434"};return(r,s)=>{const D=S("router-link");return o(),l("div",V4,[e("div",U4,[e("div",L4,[f(o4,{maxPage:n.value.maxItemOnPage!=-1?Math.ceil(k.value.length/n.value.maxItemOnPage):1,currentPage:n.value.currentPage,"onUpdate:currentPage":s[0]||(s[0]=a=>n.value.currentPage=a),maxItemOnPage:n.value.maxItemOnPage,"onUpdate:maxItemOnPage":s[1]||(s[1]=a=>n.value.maxItemOnPage=a)},null,8,["maxPage","currentPage","maxItemOnPage"])]),e("div",{class:"orders-heading-info-text",style:l4(k.value.length!=u.data.length?"visibility: visible":"visibility: hidden")}," \u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E "+g(k.value.length)+" \u0438\u0437 "+g(u.data.length),5)]),e("div",I4,[e("div",T4,[s[11]||(s[11]=e("div",{class:"orders-list-elem"},"\u2116",-1)),e("div",{class:C("orders-list-elem"+(O.search!=""&&O.id==1?" active":"")+(_.value[1].value!=""?" active":""))},[f(i4,{modelValue:_.value[1].value,"onUpdate:modelValue":s[2]||(s[2]=a=>_.value[1].value=a),show:_.value[1].show,"onUpdate:show":s[3]||(s[3]=a=>_.value[1].show=a)},null,8,["modelValue","show"]),s[10]||(s[10]=e("div",null,"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",-1)),e("div",{class:C("orders-list-elem-filter"+(_.value[1].show||_.value[1].value!=""?" active":"")),title:"\u0424\u0438\u043B\u044C\u0442\u0440",onClick:s[4]||(s[4]=a=>_.value[1].show=!0)},[...s[9]||(s[9]=[e("svg",{width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"fill",d:"M7.00726 8.11117L12.7923 2.32601C12.9262 2.1922 13 2.01359 13 1.82313C13 1.63268 12.9262 1.45406 12.7923 1.32026L12.3664 0.894224C12.0888 0.616998 11.6378 0.616998 11.3606 0.894224L6.5027 5.75217L1.63936 0.888833C1.50545 0.755029 1.32694 0.681152 1.13659 0.681152C0.946033 0.681152 0.767522 0.755029 0.633507 0.888833L0.207681 1.31487C0.0737714 1.44878 -4.1357e-08 1.62729 -4.9682e-08 1.81774C-5.8007e-08 2.0082 0.0737714 2.18681 0.207681 2.32062L5.99802 8.11117C6.13236 8.24529 6.31171 8.31896 6.50238 8.31854C6.69378 8.31896 6.87303 8.24529 7.00726 8.11117Z",fill:"#A5A7A9"})],-1)])],2)],2),e("div",{class:C("orders-list-elem"+(u.contrAgent!=""?" active":""))},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442",2),e("div",{class:C("orders-list-elem"+(O.search!=""&&O.id==2?" active":""))},"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0434\u0430\u0442\u0430",2),e("div",{class:C("orders-list-elem"+(O.search!=""&&O.id==3?" active":"")),style:{"justify-content":"space-around"}},"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430",2),e("div",{class:C("orders-list-elem"+(u.period!="\u0412\u0441\u0435"?" active":""))},"\u0414\u0430\u0442\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0438",2),e("div",{class:C("orders-list-elem"+(u.status!="\u0412\u0441\u0435"?" active":""))},"\u0421\u0442\u0430\u0442\u0443\u0441",2),s[12]||(s[12]=e("div",{class:"orders-list-elem"},"\u0418\u043D\u0444\u043E",-1))]),(o(!0),l(M,null,N(k.value,(a,v)=>(o(),l("div",{key:v,class:C("orders-list-item"+(v==m.value?" active":""))},[q(v)?(o(),l("div",{key:0,class:"orders-list-row orders-list-main-row",onClick:d=>v===m.value?m.value=-1:m.value=v},[e("div",N4,[F(g(v+1)+" ",1),s[13]||(s[13]=e("div",{class:"table-arrow"},null,-1))]),e("div",x4," \u0417\u0430\u044F\u0432\u043A\u0430 \u2116 "+g(a.bitrix_id)+" \u043E\u0442 "+g(a.date_create.substring(0,10)),1),e("div",j4,[e("span",{innerHTML:a.partner_name},null,8,q4)]),e("div",G4,g(a.date),1),e("div",z4,g(a.order?a.order.n:""),1),s[15]||(s[15]=e("div",{class:"orders-list-elem"},null,-1)),s[16]||(s[16]=e("div",{class:"orders-list-elem"},null,-1)),e("div",H4,[e("button",{class:"orders-list-more",onClick:I(d=>i.value=v,["stop"])},"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u043E",8,R4),e("div",{class:C("orders-list-more-dropdown"+(v==i.value?" active":"")),ref_for:!0,ref_key:"target",ref:w},[e("a",{class:"orders-list-more-dropdown-link",onClick:I(d=>{A.value=a.order.n,y.value=!0,B.value=!0},["stop"])},"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437",8,K4),e("a",{class:"orders-list-more-dropdown-link",onClick:I(d=>{A.value=a.order.n,y.value=!0},["stop"])},"\u0414\u0435\u0442\u0430\u043B\u0438 \u0437\u0430\u043A\u0430\u0437\u0430",8,Y4),e("a",{class:"orders-list-more-dropdown-link",onClick:I(d=>{P.value=v,h.value=!0},["stop"])},"\u0417\u0430\u044F\u0432\u043A\u0430 \u043D\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0443",8,Z4),s[14]||(s[14]=e("a",{class:"orders-list-more-dropdown-link"},"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443",-1))],2)])],8,M4)):$("",!0),q(v)?(o(),l("div",{key:1,class:C(["orders-list-info",{active:v==m.value}]),onClick:s[5]||(s[5]=d=>i.value=-1)},[a.order&&Array.isArray(a.order.checks)?(o(),l("div",J4,[(o(!0),l(M,null,N(a.order.checks,(d,a4)=>{var G,z,H,R;return o(),l("div",{class:"orders-list-info-row",key:a4},[e("div",Q4,g(t4(a.partner_guid,d.organization_id)),1),e("div",W4,[d.status>=2?(o(),l("div",X4,[e("div",{class:"orders-list-info-download",onClick:Fu=>s4(d.guid)},[e("span",null," \u0421\u0447\u0451\u0442 \u043E\u0442 "+g(a.order.date.substring(0,10)),1),E.value.includes(a.guid)?(o(),K(T,{key:0,small:""})):$("",!0)],8,uu),s[17]||(s[17]=e("span",{class:"tooltiptext"},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0447\u0435\u0442",-1))])):(o(),l("div",eu,[e("div",su," \u0421\u0447\u0451\u0442 \u043E\u0442 "+g(a.order.date.substring(0,10)),1),s[18]||(s[18]=e("span",{class:"tooltiptext"},[F("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0447\u0435\u0442 \u043C\u043E\u0436\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E "),e("br"),F(" \u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0437\u0430\u043A\u0430\u0437\u0430")],-1))]))]),d.doc_status?(o(),l("div",au,[((G=d.doc_status)==null?void 0:G.StatusSchet)&&d.status>=2?(o(),l("a",{key:0,class:"orders-list-info-doc sc",href:`${V(L)}/api/order/print?id=${d.guid}&name=\u0421\u0447\u0435\u0442`,target:"_blank",title:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u0447\u0435\u0442"},null,8,ru)):$("",!0),(z=d.doc_status)!=null&&z.StatusUPD?(o(),l("a",{key:1,class:"orders-list-info-doc upd",href:`${V(L)}/api/order/print?id=${d.guid}&name=\u0423\u041F\u0414`,target:"_blank",title:"\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0434\u0430\u0442\u043E\u0447\u043D\u044B\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},null,8,ou)):$("",!0),(H=d.doc_status)!=null&&H.StatusSF?(o(),l("a",{key:2,class:"orders-list-info-doc sf",href:`${V(L)}/api/order/print?id=${d.guid}&name=\u0421\u0424`,target:"_blank",title:"\u0421\u0447\u0451\u0442-\u0444\u0430\u043A\u0442\u0443\u0440\u0430"},null,8,lu)):$("",!0),(R=d.doc_status)!=null&&R.StatusUPK?(o(),l("a",{key:3,class:"orders-list-info-doc kor",href:`${V(L)}/api/order/print?id=${d.guid}&name=\u0423\u041A\u0414`,target:"_blank",title:"\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u044B\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},null,8,iu)):$("",!0)])):(o(),l("div",tu,[f(T,{small:""})])),s[19]||(s[19]=e("div",{class:"orders-list-info-elem"},null,-1)),e("div",nu,g(V(x)[d.status+1]?V(x)[d.status+1].name:""),1),e("div",du,g(a.case),1)])}),128))])):(o(),l("div",vu,[...s[20]||(s[20]=[n4('<div class="orders-list-info-elem"></div><div class="orders-list-info-elem"> \u0421\u0447\u0435\u0442 \u043E\u0442\u0441\u0443\u0442\u0432\u0443\u0435\u0442 </div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div>',7)])]))],2)):$("",!0)],2))),128)),u.data.length==0&&!u.loading?(o(),l("div",mu,[e("div",pu,[X.value?(o(),l("span",fu,[s[22]||(s[22]=F("\u0417\u0430\u044F\u0432\u043E\u043A \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E. \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 ",-1)),f(D,{tag:"a",class:"order-info-link",to:"/shipments/request"},{default:Y(()=>[...s[21]||(s[21]=[F("\u043D\u043E\u0432\u0443\u044E \u0437\u0430\u044F\u0432\u043A\u0443",-1)])]),_:1}),s[23]||(s[23]=F(" \u0438 \u043E\u043D\u0430 \u043F\u043E\u044F\u0432\u0438\u0442\u0441\u044F \u0432 \u0441\u043F\u0438\u0441\u043A\u0435.",-1))])):(o(),l("span",cu,[s[25]||(s[25]=F(" \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 ",-1)),f(D,{tag:"a",class:"order-info-link",to:"/order"},{default:Y(()=>[...s[24]||(s[24]=[F("\u043D\u043E\u0432\u044B\u0439 \u0437\u0430\u043A\u0430\u0437",-1)])]),_:1}),s[26]||(s[26]=F(" \u0434\u043B\u044F \u0442\u043E\u0433\u043E \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443 \u043D\u0430 \u0435\u0433\u043E \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0443.",-1))]))])])):$("",!0)]),u.loading?(o(),K(T,{key:0,style:{width:"100%"}})):$("",!0),f(d4,{modelValue:y.value,"onUpdate:modelValue":s[6]||(s[6]=a=>y.value=a),orderId:A.value,repeatOrder:B.value,"onUpdate:repeatOrder":s[7]||(s[7]=a=>B.value=a)},null,8,["modelValue","orderId","repeatOrder"]),f(O4,{modelValue:h.value,"onUpdate:modelValue":s[8]||(s[8]=a=>h.value=a),data:u.data[P.value]},null,8,["modelValue","data"])])}}}),Cu=j({components:{PersonalBar:m4,Notification:E4,CompanyBarTop:D4,TopNav:p4,SelectInput:f4,ShipmentsListCard:gu},setup(){const u=Q(),t=p(!0),c=p(""),m=p(0),i=p(0),w=p({id:1,search:""}),E=[{id:1,name:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435"},{id:2,name:"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0434\u0430\u0442\u0430"},{id:3,name:"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430"}];return c4(async()=>{if(Promise.all([u.dispatch(W.GET_ORDERS),u.dispatch(g4.GET_CLAIMS)]).finally(()=>{t.value=!1}),u.getters.getActiveCompanyId!==""){c.value=u.getters.getActiveCompanyId;return}u.getters.isCompanysLoad||await u.dispatch(C4.GET_COMPANYS),c.value=u.getters.getCompanys===[]?"":u.getters.getCompanys[0].uid}),{filterCompanyUid:c,filterPeriod:m,OrdersSatusCode:x,filterStatus:i,search:w,loading:t,searchColumn:E,companyBarTopData:b(()=>u.getters.getCompanysList),filterCompanyData:b(()=>u.getters.getCompanysListInput()),filterPeriodData:b(()=>u.getters.getOrdersDataPeriodArray),shipmentsList:b(()=>u.getters.getShipments),isOrders:b(()=>u.getters.isOrders)}}}),Eu={class:"top-line product-page"},Du={class:"orders-heading"},hu={class:"orders-heading-elem"},Au={class:"orders-heading-item"},yu={class:"orders-heading-item"},$u={class:"orders-heading-item","data-select2-id":"147"};function _u(u,t,c,m,i,w){const E=S("CompanyBarTop"),A=S("Notification"),y=S("PersonalBar"),B=S("top-nav"),n=S("SelectInput"),P=S("ShipmentsListCard");return o(),l("div",null,[e("div",Eu,[f(E,{data:u.companyBarTopData,modelValue:u.filterCompanyUid,"onUpdate:modelValue":t[0]||(t[0]=h=>u.filterCompanyUid=h)},null,8,["data","modelValue"]),f(A),f(y)]),f(B,{shipments:u.isOrders},null,8,["shipments"]),e("div",Du,[e("div",hu,[e("div",Au,[t[5]||(t[5]=e("div",{class:"orders-heading-text"},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442:",-1)),f(n,{data:u.filterCompanyData,modelValue:u.filterCompanyUid,"onUpdate:modelValue":t[1]||(t[1]=h=>u.filterCompanyUid=h)},null,8,["data","modelValue"])]),e("div",yu,[t[6]||(t[6]=e("div",{class:"orders-heading-text"},"\u0421\u0442\u0430\u0442\u0443\u0441:",-1)),f(n,{data:u.OrdersSatusCode,modelValue:u.filterStatus,"onUpdate:modelValue":t[2]||(t[2]=h=>u.filterStatus=h)},null,8,["data","modelValue"])]),e("div",$u,[t[7]||(t[7]=e("div",{class:"orders-heading-text"},"\u041F\u0435\u0440\u0438\u043E\u0434:",-1)),f(n,{data:u.filterPeriodData,modelValue:u.filterPeriod,"onUpdate:modelValue":t[3]||(t[3]=h=>u.filterPeriod=h)},null,8,["data","modelValue"])]),e("div",{class:"orders-heading-clean",title:"\u0423\u0431\u0440\u0430\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B",onClick:t[4]||(t[4]=h=>{u.filterCompanyUid="",u.filterPeriod=0,u.filterStatus=0})})]),t[8]||(t[8]=e("div",{class:"orders-heading-elem"},null,-1))]),f(P,{data:u.shipmentsList,loading:u.loading,contrAgent:u.filterCompanyUid,period:u.filterPeriodData[u.filterPeriod].name,status:u.OrdersSatusCode[u.filterStatus].name,search:u.search},null,8,["data","loading","contrAgent","period","status","search"])])}var bu=J(Cu,[["render",_u]]);export{bu as default};
