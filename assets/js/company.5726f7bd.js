import{a as J,_ as Q}from"./PersonalBar.5f459879.js";import{N as ee}from"./Notification.f6cd786c.js";import{m as ae,a as te,b as se,_ as ne,F as oe,C as ue}from"./CompanyCalendar.vue_vue_type_style_index_0_lang.cbc51a33.js";import{_ as le}from"./doc.9fb5d18f.js";import{o as n,b as l,a as e,d as S,h as _,L,V as ie,c as P,t as r,k as D,p as g,e as q,m as j,B as W,u as x,z as F,F as z,f as X,U as H,W as O,X as U,l as Y,j as y,Y as ce,Z as de,i as re,s as G,$ as Z,a0 as me,g as pe,R as ve,a1 as he,a2 as ye}from"./index.4a61f0ff.js";import{_ as ge}from"./CompanyBarTop.af6cde13.js";import"./vee-validate.esm.5be2de93.js";import"./object.3e4e0d0e.js";const _e={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"20",fill:"none"},fe=e("path",{fill:"#A5A7A9","fill-rule":"evenodd",d:"M37.465 2H18.579l8.064 7.102L37.465 2ZM16.739 3.036 14.713 15.91a1 1 0 0 0 .988 1.156h19.926a1 1 0 0 0 .988-.845l1.978-12.576-11.33 7.436c-.047.03-.094.056-.142.078a.998.998 0 0 1-1.235-.067l-9.107-8.02a.957.957 0 0 1-.04-.037Zm-1.946-.502A3 3 0 0 1 17.757 0h19.926a3 3 0 0 1 2.963 3.466L38.59 16.533a3 3 0 0 1-2.963 2.534H15.7a3 3 0 0 1-2.964-3.467l2.056-13.066Z","clip-rule":"evenodd"},null,-1),xe=e("rect",{width:"8",height:"2",x:"3.7",y:"4",fill:"#A5A7A9",rx:"1"},null,-1),Ce=e("rect",{width:"11",height:"2",y:"8",fill:"#A5A7A9",rx:"1"},null,-1),$e=e("rect",{width:"5",height:"2",x:"5.3",y:"12",fill:"#A5A7A9",rx:"1"},null,-1),be=[fe,xe,Ce,$e];function Me(a,i){return n(),l("svg",_e,be)}var K={render:Me};const Ae={class:"company-consultant"},we={key:0,class:"company-consultant-wrap content-elem"},De={class:"company-consultant-info"},Ee={key:1,class:"company-consultant-img-box"},ke=["src"],Be={key:1,class:"company-consultant-img",src:J,alt:""},Fe={class:"company-consultant-info-box"},Le={class:"company-consultant-info-about"},Se={class:"company-consultant-name"},Ve=e("div",{class:"company-consultant-position"},"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",-1),Ne={class:"company-consultant-contact"},Re=["href"],Te=["href"],Ue=["href"],Ge=["title","href"],je=e("img",{class:"company-consultant-mail-img",src:K,alt:""},null,-1),qe=j("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C "),Oe=[je,qe],Ze={key:1,class:"company-consultant-wrap content-elem"},Ie={class:"company-consultant-info"},Pe=e("a",{class:"company-consultant-mail"},[e("img",{class:"company-consultant-mail-img",src:K,alt:""}),j("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C ")],-1),We=S({__name:"ManagerCard",props:{manager:{type:Object,required:!0}},setup(a){const i=a,s=_(!1),m=_(!1),h=_("");return L(()=>i.manager,()=>{s.value=!1,m.value=!0,i.manager&&i.manager.image?(h.value="",ie({method:"get",timeout:1e3*3,url:i.manager.image,responseType:"arraybuffer",headers:{"Content-type":"image/jpeg"}}).then(o=>{s.value=!0,m.value=!1,h.value=`data:${o.headers["content-type"]};base64,${btoa(String.fromCharCode(...new Uint8Array(o.data)))}`}).catch(()=>{m.value=!1})):m.value=!1,i.manager.image!=""&&(s.value=!0),h.value=i.manager.image}),(o,t)=>(n(),l("div",Ae,[a.manager&&Object.keys(a.manager).length>0?(n(),l("div",we,[e("div",De,[m.value?(n(),P(q,{key:0,style:{margin:"auto"}})):(n(),l("div",Ee,[s.value?(n(),l("img",{key:0,class:"company-consultant-img",src:h.value},null,8,ke)):(n(),l("img",Be))])),e("div",Fe,[e("div",Le,[e("div",Se,r(a.manager.name),1),Ve]),e("div",Ne,[e("a",{class:"company-consultant-phone",href:"tel:"+a.manager.contact},r(a.manager.contact),9,Re),a.manager.phone1!==""?(n(),l("a",{key:0,class:"company-consultant-phone",href:"tel:"+a.manager.phone1},r(a.manager.phone1),9,Te)):D("",!0),a.manager.phone2!==""?(n(),l("a",{key:1,class:"company-consultant-phone",href:"tel:"+a.manager.phone2},r(a.manager.phone2),9,Ue)):D("",!0)])])]),e("a",{class:"company-consultant-mail",title:a.manager.email,href:"mailto:"+a.manager.email},Oe,8,Ge)])):(n(),l("div",Ze,[e("div",Ie,[g(q,{style:{margin:"auto"}})]),Pe]))]))}}),ze={key:0},Xe={class:"content-elem"},He={class:"company-head-item-title"},Ye={class:"company-card-sale"},Ke={class:"company-card-sale-box"},Je=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),Qe={class:"company-card-sale-value"},ea={class:"company-card-balance"},aa={class:"company-card-balance-box"},ta={key:0,class:"company-head-info-elem l highlight"},sa={key:1,class:"company-head-info-elem l highlight"},na={class:"company-head-info"},oa={class:"company-head-info-row"},ua={class:"company-head-info-elem l"},la={class:"company-head-info-title"},ia={key:0,class:"company-head-info-val"},ca={key:1,class:"company-head-info-val"},da={key:0,class:"company-head-info-elem r"},ra=e("span",{class:"company-head-info-title"},"\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F",-1),ma={class:"company-head-info-val"},pa={class:"company-card-footer"},va={class:"company-head-info-elem l"},ha=e("span",{class:"company-head-info-title"},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",-1),ya={class:"company-head-info-val"},ga={class:"company-head-info-elem \u043A"},_a=e("span",{class:"company-head-info-title"},"\u041B\u0438\u043C\u0438\u0442",-1),fa={class:"company-head-info-val"},xa={class:"company-head-sale"},Ca={class:"sale-val"},$a={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},ba={class:"sale-val-money"},Ma=e("div",{tooltip:"\u041F\u043B\u0430\u0442\u0435\u0436\u0438",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),Aa=[Ma],wa={key:1,class:"doc"},Da={class:"content-elem"},Ea={class:"company-head-item-title"},ka={class:"company-card-sale"},Ba={class:"company-card-sale-box"},Fa=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),La={class:"company-card-sale-value"},Sa={class:"company-card-balance"},Va={class:"company-card-balance-box"},Na={key:0,class:"company-head-info-elem l highlight"},Ra={key:1,class:"company-head-info-elem l highlight"},Ta={class:"company-head-info",style:{display:"flex","justify-content":"space-between"}},Ua={key:0,class:"company-head-list-content"},Ga={key:0,class:"company-head-list"},ja=["onClick"],qa={key:1,class:"company-head-list-content"},Oa=e("span",null,"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0441\u0443\u043C\u043C\u0443 \u043F\u043B\u0430\u0442\u0435\u0436\u0430",-1),Za={style:{padding:"10px 0px",display:"flex","justify-content":"flex-start","align-items":"baseline"}},Ia=e("div",{style:{padding:"0px 5px"}},"\u0440\u0443\u0431.",-1),Pa=j(),Wa=e("div",{style:{padding:"0px 5px"}},"\u043A\u043E\u043F.",-1),za={style:{display:"flex","justify-content":"unset","flex-direction":"column","flex-wrap":"wrap"}},Xa=["disabled"],Ha=["value"],Ya={class:"company-head-sale"},Ka={class:"sale-val"},Ja={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},Qa={class:"sale-val-money"},et=e("div",{tooltip:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),at=[et],tt={key:1,class:"company-head-item yellow"},st=Y('<div class="content-elem active"><div class="company-head-item-title" style="margin-right:100px;">\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442</div><div class="company-card-sale"><div class="company-card-sale-box"><span class="company-card-sale-text">\u0421\u043A\u0438\u0434\u043A\u0430</span><div class="company-card-sale-value">\u0421\u043A\u0438\u0434\u043A\u0430 %</div></div></div><div class="company-card-balance"><div class="company-card-balance-box"><div class="company-head-info-elem l highlight">\u0411\u0430\u043B\u0430\u043D\u0441: 0 \u20BD</div></div></div><div class="company-head-info"><div class="company-head-info-row"><div class="company-head-info-elem l"><span class="company-head-info-title">\u041E\u0442\u0441\u0440\u043E\u0447\u043A\u0430</span><span class="company-head-info-val">0 \u0434\u043D\u0435\u0439</span></div><div class="company-head-info-elem r"><span class="company-head-info-title">\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F</span><span class="company-head-info-val">--.--.----</span></div></div></div></div>',1),nt=e("div",{class:"company-head-sale",tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},[e("div",{class:"sale-val"},[e("span",{class:"sale-val-money"},"0 \u20BD")])],-1),ot=[st,nt],I=S({__name:"CompanyStorageCard",props:{data:{type:Object},active:{type:Boolean}},emits:["onClick"],setup(a,{emit:i}){var V,f,b;const s=a,m=_(!1);W("docDate");let h=function(p){let d=["\u0434\u043D\u0435\u0439","\u0434\u0435\u043D\u044C","\u0434\u043D\u044F"],c=p%100;c=c>=20?c%10:c;let B=0;return c===0||c>=5&&c<=20?B=0:c==1?B=1:B=2,d[B]};const o=_(!1),t=_(0),u=_(0),v=_(""),C=new Date().toLocaleDateString("ru"),$=(V=s.data)==null?void 0:V.contract,E="f59a4d06-2f35-11e7-8fdb-0025907c0298",M=((b=(f=s.data)==null?void 0:f.guid)!=null?b:"")<E?"\u0441\u043F\u0435\u0446\u043E\u0434\u0435\u0436\u0434\u0443":"\u0441\u043F\u0435\u0446\u043E\u0431\u0443\u0432\u044C",A=function(p,d){let c=(""+p).split(".");c[1]?u.value=Number(c[1]):u.value=0,t.value=Math.trunc(p),o.value=!0},k=function(){let p=u.value<10?"0":"";return`\u041E\u043F\u043B\u0430\u0442\u0430 \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443 \u2116 ${$} \u043E\u0442 ${C}, \u0437\u0430 ${M} \u043D\u0430 \u0441\u0443\u043C\u043C\u0443 ${t.value.toLocaleString("ru")} \u0440\u0443\u0431\u043B\u0435\u0439 ${p}${u.value} \u043A\u043E\u043F \u0432 \u0442.\u0447. \u041D\u0414\u0421 20% ${R()}`},N=function(p,d){return d<10?U.exports.toNumber(p+U.exports.toNumber("0.0"+d.toString())):U.exports.toNumber(p+"."+d)},R=function(){return(N(t.value,u.value)*.2).toFixed(2)},T=function(){var d;let p=document.querySelector("#testing-code");p==null||p.setAttribute("type","text"),p==null||p.select(),document.execCommand("copy"),p==null||p.setAttribute("type","hidden"),(d=window==null?void 0:window.getSelection())==null||d.removeAllRanges(),alert("\u0422\u0435\u043A\u0441\u0442 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430.")};return L(t,async(p,d)=>{v.value=k()}),L(u,async(p,d)=>{v.value=k()}),(p,d)=>a.data?(n(),l("div",{key:0,class:F("company-head-item "+(a.data.debt>1e3?"red":"yellow")+(a.active?" content-elem-active":"")+(m.value?" doc":"")),onClick:d[7]||(d[7]=c=>p.$emit("onClick",c))},[m.value?(n(),l("div",wa,[e("div",Da,[e("div",Ea,r(a.data.name),1),e("div",ka,[e("div",Ba,[Fa,e("div",La,r(a.data.discount)+" %",1)])]),e("div",Sa,[e("div",Va,[a.data.balance-a.data.debt<0?(n(),l("div",Na,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+r((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(n(),l("div",Ra,"\u0411\u0430\u043B\u0430\u043D\u0441: "+r(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",Ta,[e("div",{class:F("company-head-info-row"+(o.value?" passive-border":" active-border")),onClick:d[1]||(d[1]=c=>o.value=!1)}," \u041F\u043B\u0430\u0442\u0435\u0436\u0438 ",2),e("div",{class:F("company-head-info-row"+(o.value?" active-border":" passive-border")),onClick:d[2]||(d[2]=c=>o.value=!0)}," \u041D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u043B\u0430\u0442\u0435\u0436\u0430 ",2)]),o.value?(n(),l("div",qa,[Oa,e("div",Za,[g(O,{modelValue:t.value,"onUpdate:modelValue":d[3]||(d[3]=c=>t.value=c),step:1,min:0,style:"max-width: 100%"},null,8,["modelValue"]),Ia,g(O,{modelValue:u.value,"onUpdate:modelValue":d[4]||(d[4]=c=>u.value=c),min:0,max:99},null,8,["modelValue"]),Pa,Wa]),e("div",za,[e("textarea",{class:"order-comment-textarea",disabled:v.value===""},r(v.value),9,Xa),e("input",{type:"hidden",id:"testing-code",value:v.value},null,8,Ha),e("span",{style:{"text-align":"center",padding:"5px 0px"},onClick:d[5]||(d[5]=c=>T())},"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C")])])):(n(),l("div",Ua,[a.data.documents?(n(),l("ul",Ga,[(n(!0),l(z,null,X(a.data.documents,(c,B)=>(n(),l("li",{style:{"align-items":"center"},class:"company-head-list-elem",key:B},[g(x(le),{class:"company-head-list-img",style:{width:"20px",height:"21px"}}),e("a",{style:H(Date.parse(c.expires_date)>new Date().getTime()?"":"background-color: #B9342D; color: white;"),class:F([Date.parse(c.expires_date)>new Date().getTime()?"":"debt","company-head-list-link"]),onClick:Nt=>A(c.debt,c.expires_date)},r(c.debt.toLocaleString("ru").replace(",","."))+" \u20BD \u0434\u043E "+r(c.expires)+" / \u0423\u041F\u0414 "+r(c.number),15,ja)]))),128))])):D("",!0)]))]),e("div",Ya,[e("div",Ka,[e("span",Ja,[e("span",Qa,r(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:F("company-card-showdoc"+(m.value?" active":"")),onClick:d[6]||(d[6]=c=>m.value=!m.value)},at,2)])])):(n(),l("div",ze,[e("div",Xe,[e("div",He,r(a.data.name),1),e("div",Ye,[e("div",Ke,[Je,e("div",Qe,r(a.data.discount)+" %",1)])]),e("div",ea,[e("div",aa,[a.data.balance-a.data.debt<0?(n(),l("div",ta,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+r((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(n(),l("div",sa,"\u0411\u0430\u043B\u0430\u043D\u0441: "+r(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",na,[e("div",oa,[e("div",ua,[e("span",la,r(a.data.case),1),a.data.case==="\u043E\u0442\u0441\u0440\u043E\u0447\u043A\u0430"?(n(),l("span",ia,r(a.data.deferment)+" "+r(x(h)(a.data.deferment)),1)):D("",!0),a.data.case==="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(n(),l("span",ca,r(a.data.percent)+"%",1)):D("",!0)]),a.data.case!=="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(n(),l("div",da,[ra,e("span",ma,r(a.data.date),1)])):D("",!0)])]),e("div",pa,[e("div",va,[ha,e("span",ya,r(a.data.contract),1)]),e("div",ga,[_a,e("span",fa,r(Number(a.data.limit).toLocaleString("ru").replace(",","."))+" \u20BD",1)])])]),e("div",xa,[e("div",Ca,[e("span",$a,[e("span",ba,r(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:F("company-card-showdoc"+(m.value?" active":"")),onClick:d[0]||(d[0]=c=>m.value=!m.value)},Aa,2)])]))],2)):(n(),l("div",tt,ot))}}),ut={key:0,class:"company-head-wrap"},lt={key:1,class:"company-head-wrap"},it=S({__name:"CompanyStorageBar",props:{data:{type:Array,required:!0},modelValue:{type:Number}},emits:["update:modelValue","prev","next"],setup(a,{emit:i}){const s=a,m=250,h=t=>{const u=s.data[t].guid;let v=0,C=0,$=0,E=0;const w=document.querySelector("#"+u+"-"+t);w&&($=w.getBoundingClientRect().x,E=w.getBoundingClientRect().x+w.getBoundingClientRect().width);const M=document.querySelector(".company-head-elem");M&&(v=M.getBoundingClientRect().x,C=M.getBoundingClientRect().x+M.getBoundingClientRect().width);const A=document.querySelector(".company-head-wrap");E>C?(A&&(A.scrollLeft+=m),setTimeout(()=>{i("update:modelValue",t)},250)):$<v?(A&&(A.scrollLeft-=m),setTimeout(()=>{i("update:modelValue",t)},250)):i("update:modelValue",t)},o=t=>{const u=document.querySelector(".company-head-wrap");u&&(u.scrollLeft+=t),setTimeout(()=>{t>0?i("next"):i("prev")},250)};return(t,u)=>a.data.length!==0?(n(),l("div",ut,[e("div",{class:"btn btn-prev",onClick:u[0]||(u[0]=v=>o(-m))}," \u276E "),(n(!0),l(z,null,X(a.data,(v,C)=>(n(),P(I,{id:v.guid+"-"+C,key:C,data:v||null,active:C===a.modelValue,onOnClick:$=>h(C)},null,8,["id","data","active","onOnClick"]))),128)),e("div",{class:"btn btn-next",onClick:u[1]||(u[1]=v=>o(m))}," \u276F ")])):(n(),l("div",lt,[g(I)]))}}),ct={class:"company-sale sale"},dt={class:"sale-progressbar-wrap"},rt={class:"sale-progressbar content-elem tooltip"},mt={class:"sale-progressbar-val"},pt={class:"sale-progressbar-val-money"},vt={class:"company-sale-card"},ht={class:"table"},yt={class:"table-row"},gt={class:"table-sale"},_t=S({__name:"CompanySaleBar",props:{spent:{type:Number,required:!0},modelValue:{type:Number,required:!0}},setup(a){const i=a,s=y(()=>i.modelValue),m=[{progressMoneyMin:0,progressMoneyMax:5e4,discount:0,next:2},{progressMoneyMin:5e4,progressMoneyMax:99e3,discount:2,next:3},{progressMoneyMin:1e5,progressMoneyMax:199999,discount:3,next:4},{progressMoneyMin:2e5,progressMoneyMax:399999,discount:4,next:6},{progressMoneyMin:4e5,progressMoneyMax:599999,discount:6,next:8},{progressMoneyMin:6e5,progressMoneyMax:799999,discount:8,next:9},{progressMoneyMin:8e5,progressMoneyMax:999999,discount:9,next:10},{progressMoneyMin:1e6,progressMoneyMax:5999999,discount:10,next:15},{progressMoneyMin:6e6,progressMoneyMax:9999999,discount:15,next:17},{progressMoneyMin:1e7,progressMoneyMax:19999999,discount:17,next:18},{progressMoneyMin:2e7,progressMoneyMax:29999999,discount:18,next:20},{progressMoneyMin:3e7,progressMoneyMax:1/0,discount:20,next:0}];let h=y(()=>{let t=m.filter(u=>i.spent>=u.progressMoneyMin&&i.spent<u.progressMoneyMax);return t.length>0?t[0]:m[0]}),o=y(()=>h.value.progressMoneyMax!=1/0?i.spent/h.value.progressMoneyMax*100:100);return y(()=>h.value.progressMoneyMax-i.spent),(t,u)=>(n(),l("div",ct,[e("div",dt,[e("div",rt,[e("div",{class:"sale-progressbar-line",style:H("width: "+x(o)+"%")},[e("div",mt,[e("div",null,[e("span",pt,"("+r(a.spent.toLocaleString("ru").replace(",","."))+"\xA0\u20BD)",1)])])],4)])]),e("div",vt,[e("div",ht,[e("div",yt,[e("div",gt,"\u0412\u0430\u0448\u0430 \u0441\u043A\u0438\u0434\u043A\u0430 "+r(x(s))+" %",1)])])])]))}}),ft={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none"},xt=e("rect",{width:"2.254",height:"22.535",x:".25",y:"2.079",fill:"#A5A7A9",rx:"1.127",transform:"rotate(-45 .25 2.08)"},null,-1),Ct=e("rect",{width:"2.254",height:"22.535",fill:"#A5A7A9",rx:"1.127",transform:"scale(-1 1) rotate(-45 -6.254 22.198)"},null,-1),$t=[xt,Ct];function bt(a,i){return n(),l("svg",ft,$t)}var Mt={render:bt};const At={class:"company-calendar-box content-elem"},wt=Y('<form class="company-search-wrap" action=""><div class="company-search-input-wrap"><input class="company-search-input" type="text" placeholder="\u041F\u043E\u0438\u0441\u043A"><img class="company-search-input-clear" src="'+Mt+'" alt=""></div><button class="company-search-btn gradient-btn"><img class="company-search-btn-img" src="'+de+'" alt=""></button></form>',1),Dt=S({__name:"CompanyCalendar",props:{data:{type:Array}},setup(a){var t;const i=a,s=_(),m=_((t=W("docDate"))!=null?t:"");L(m,u=>{s.value.getApi().gotoDate(new Date(u))}),ce(()=>{s.value.getApi().today()});let h=y(()=>i.data===null?[]:i.data),o=y(()=>({plugins:[ae,te,se],headerToolbar:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",duration:{days:3},locale:ne,events:h.value?h.value.map(u=>({title:`\u0423\u041F\u0414 ${u.number} \u043D\u0430 ${u.debt}\u20BD`,start:u.expires_date,backgroundColor:"#378006",allDay:!0,display:"block"})):[]}));return(u,v)=>(n(),l("div",At,[wt,g(x(oe),{ref_key:"fullCalendar",ref:s,options:x(o)},null,8,["options"])]))}}),Et={key:0},kt={class:"top-line product-page"},Bt={class:"company-head"},Ft={class:"company-head-elem"},Lt={class:"company-head-elem"},St={id:"CompanyCalendar"},Vt={class:"company-calendar-wrap"},It=S({__name:"company",props:["id"],setup(a){const i=a,s=pe(),m=ve(),h=_(!1),o=_(i.id),t=_(0),u=_(""),v=y(()=>s.getters.getCompanyCurrentDiscount(o.value)),C=y(()=>s.getters.getCompanyData(o.value)),$=y(()=>s.getters.getCompanyStoragesData(o.value)),E=y(()=>s.getters.getCompanysList),w=y(()=>s.getters.getCompanySpent(o.value)),M=y(()=>s.getters.getManagerUid(o.value)),A=y(()=>s.getters.getManager),k=y({get:()=>s.getters.getLoader,set:V=>s.commit(he.SET_LOADER,V)}),N=y(()=>$.value.length===0?null:$.value[t.value?t.value:0].documents);L(()=>i.id,()=>{i.id!==""?o.value=i.id:o.value=s.getters.getCompanys===[]?"":s.getters.getCompanys[0].uid}),L(o,()=>{$.value.length===0?t.value=null:t.value=0,m.push(`/company/${o.value}`),s.commit(Z.CLEAR_MANAGER),setTimeout(()=>s.dispatch(G.GET_MANAGER,M.value),1e3)}),re(()=>{s.getters.isCompanysLoad?(i.id!==""?(o.value=i.id,s.commit(Z.CLEAR_MANAGER),s.dispatch(G.GET_MANAGER,M.value)):o.value=s.getters.getCompanys===[]?"":s.getters.getCompanys[0].uid,h.value=!0):(k.value=!0,Promise.all([s.dispatch(G.GET_COMPANYS)]).finally(()=>{setTimeout(()=>{s.getters.isCompanysLoad&&(o.value=s.getters.getCompanys===[]?"":s.getters.getCompanys[0].uid,h.value=!0),k.value=!1},500)}))}),ye("docDate",u);const R=()=>{t.value!=null&&t.value<$.value.length-1&&(t.value=t.value+1)},T=()=>{t.value&&t.value>0&&(t.value=t.value-1)};return(V,f)=>h.value?(n(),l("div",Et,[e("div",kt,[g(ge,{data:x(E),modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=b=>o.value=b)},null,8,["data","modelValue"]),g(ee),g(Q)]),e("div",Bt,[e("div",Ft,[g(it,{data:x($),modelValue:t.value,"onUpdate:modelValue":f[1]||(f[1]=b=>t.value=b),onNext:f[2]||(f[2]=b=>R()),onPrev:f[3]||(f[3]=b=>T())},null,8,["data","modelValue"])]),e("div",Lt,[g(ue,{data:x(C)},null,8,["data"])])]),g(_t,{spent:x(w),modelValue:x(v),"onUpdate:modelValue":f[4]||(f[4]=b=>me(v)?v.value=b:null)},null,8,["spent","modelValue"]),e("div",St,[e("div",Vt,[g(Dt,{data:x(N)},null,8,["data"]),g(We,{manager:x(A)},null,8,["manager"])])])])):D("",!0)}});export{It as default};
