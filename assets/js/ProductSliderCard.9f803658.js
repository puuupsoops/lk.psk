import{d as F,k as q,al as G,b as r,a as e,u as v,t as x,l as M,h as Z,am as U,o as c,i as H,D as K,L as Q,f as W,a1 as Y,F as N,g as P,z as X,e as D,w as B,T as O,m as ee,Y as te,r as J,p as ae,x as se,y as oe}from"./index.88c03e93.js";const ne={class:"content-heading-wrap proudct-heading-wrap"},ie={class:"content-heading-wrap-elem"},le=["innerHTML"],de={class:"content-heading-wrap-elem tooltip"},re={class:"content-heading-price"},ce=e("div",{class:"content-heading-price-text"},"\u0412\u0430\u0448\u0430 \u0446\u0435\u043D\u0430: ",-1),ue={key:0,class:"content-heading-price-value"},ve={key:1,class:"content-heading-price-value"},pe={class:"tooltiptext",style:{transform:"translate3d(-10px, -30px, 0)"}},he={class:"content-heading-info-elem"},me={class:"content-heading-wrap-elem"},ge={class:"content-heading-price"},fe={class:"content-heading-price-text"},we={class:"content-heading-price-value"},_e=e("div",{class:"content-heading-btn"},null,-1),be={class:"content-heading-info"},ye={class:"content-heading-info-elem"},Ce=e("span",{class:"content-heading-info-text"},"\u0421\u043A\u0438\u0434\u043A\u0430: ",-1),$e={class:"content-heading-info-value"},ke={key:0,class:"content-heading-info-elem"},Le=e("span",{class:"content-heading-info-text"},"\u0421\u043A\u0438\u0434\u043A\u0430: ",-1),Ae=e("span",{class:"content-heading-info-value"},"\u041D\u0435 \u0440\u0430\u0441\u043F\u043E\u0441\u0442\u0440\u043E\u043D\u044F\u0435\u0442\u0441\u044F",-1),xe=[Le,Ae],Me={class:"content-heading-info-elem"},Ve=e("span",{class:"content-heading-info-text"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u0442\u043E\u0432\u0430\u0440\u0430: ",-1),De=["innerHTML"],ct=F({__name:"ProductHeaderCard",props:{title:{type:String},price:{type:String},status:{type:String},discount:{type:Number}},emits:["ShowSearch"],setup(t){const a=t,o=Z(),_=q(()=>{const n=o.getters.getActiveCompanyId,g=o.getters.getCompanyStoragesData(n);if(g[0])switch(g[0].pricetype){case U.Default:return"\u0426\u0435\u043D\u0430:";case U.Base:return"\u0411\u0430\u0437\u043E\u0432\u0430\u044F \u0446\u0435\u043D\u0430:";case U.Dealer:return"\u0414\u0438\u043B\u0435\u0440\u0441\u043A\u0430\u044F \u0446\u0435\u043D\u0430:";default:return"\u0426\u0435\u043D\u0430:"}return"\u0426\u0435\u043D\u0430:"}),{title:$,price:h,status:i,discount:p}=G(a);return(n,g)=>(c(),r("div",ne,[e("div",ie,[e("div",{class:"product-info-header",title:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0440\u0443\u0433\u043E\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442",onClick:g[0]||(g[0]=I=>n.$emit("ShowSearch"))},[e("span",{innerHTML:v($)},null,8,le)])]),e("div",de,[e("div",re,[ce,v(p)?(c(),r("div",ue,x(Number(v(h)?v(h)-v(h)/100*v(p):0).toLocaleString("RU",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(",","."))+" \u20BD ",1)):(c(),r("div",ve,x(Number(v(h)?v(h):0).toLocaleString("ru"))+" \u20BD ",1)),e("div",pe,[e("div",he," \u0441\u043A\u0438\u0434\u043A\u0430: "+x(v(p))+"%",1)])]),e("div",me,[e("div",ge,[e("div",fe,x(v(_)),1),e("div",we,x(Number(v(h)?v(h):0).toLocaleString("ru"))+" \u20BD ",1)])]),_e]),e("div",be,[e("div",ye,[Ce,e("span",$e,x(v(p))+"%",1)]),v(i)=="Outlet"||v(i)=="Discount"||v(i)=="Activity"?(c(),r("div",ke,xe)):M("",!0),e("div",Me,[Ve,e("span",{class:"content-heading-info-value",innerHTML:v(i)},null,8,De)])])]))}});F({props:{data:{type:Array,required:!0},discount:{type:Number,required:!0}},setup(){}});const He=F({props:{modelValue:{type:Boolean,default:!1},data:{type:Array}},emits:["update:modelValue"],setup(t,{emit:a}){let o=H([]);const _=Z(),$=q({get:()=>_.getters.getLoader,set:s=>_.commit(Y.SET_LOADER,s)}),h=H(null),i=q(()=>{var s;return o.value.length==0?0:(s=o.value[0])==null?void 0:s.id});K(h,()=>{a("update:modelValue",!1)}),Q(()=>t.modelValue,()=>{var s;o.value=[],(s=t.data)==null||s.forEach((u,d)=>o.value.push({id:d,src:u}))});function p(){const s=o.value.shift();o.value=o.value.concat(s)}function n(){const s=o.value.pop();o.value=[s].concat(o.value)}const g=s=>{s>0?o.value=o.value.concat(o.value.splice(0,s)):o.value=o.value.splice(o.value.length+s,-1*s).concat(o.value)},I=s=>new Promise((u,d)=>{const m=new FileReader;m.readAsDataURL(s),m.onload=()=>u(m.result),m.onerror=b=>d(b)});let E=async()=>{let s=o.value[0],u=new URL(s.src),d=u.pathname.split("/"),m=d[d.length-1],f=m.split(".")[0],w=window.open("about:blank",f);w==null||w.document.write(`<img src="${u.href}" alt="${m}" />`)},R=async()=>{await l("png")},A=async()=>{await l("jpg")},S=async()=>{await l("webp")},l=async s=>{let u=o.value[0],m=new URL(u.src).pathname.split("/"),f=m[m.length-1].split("."),w=f[0];f[1];var k=new Image;k.onload=function(){var T;let y=this;var L=document.createElement("canvas");L.width=y.naturalWidth,L.height=y.naturalHeight,(T=L.getContext("2d"))==null||T.drawImage(y,0,0),L.toBlob(z=>{const C=window.URL.createObjectURL(z),V=document.createElement("a");V.href=C,V.setAttribute("download",`${w}.${s}`),document.body.appendChild(V),V.click(),document.body.removeChild(V),window.URL.revokeObjectURL(C)})},k.crossOrigin="Anonymous",k.src=u.src+"?not-from-cache-please"};return{slides:o,loader:$,target:h,first:i,next:p,previous:n,shift:g,toBase64:I,downloadCurrentImage:l,downloadImageAsPng:R,downloadImageAsJpeg:A,downloadImageAsWebp:S,exploreImage:E}}}),Ie={key:0,class:"product-slider-fullscreen",ref:"target"},Se={class:"product-slider-controls"},Te=["id","onClick"],ze=["for"],Be=ee('<div class="product-slider-actions"><div class="product-slider-actions-btn"><div class="product-slider-actions-btn-img"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#53565B" d="M24 12c0 6.6274-5.3726 12-12 12S0 18.6274 0 12 5.3726 0 12 0s12 5.3726 12 12zM12 2C6.4772 2 2 6.4772 2 12s4.4772 10 10 10 10-4.4772 10-10S17.5228 2 12 2zM7 13c-.5523 0-1-.4477-1-1s.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H7z"></path></svg></div></div><div class="product-slider-actions-btn"><div class="product-slider-actions-btn-img"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#53565B" d="M18.4142 7H22c.5523 0 1 .4477 1 1s-.4477 1-1 1h-6c-.5523 0-1-.4477-1-1V2c0-.5523.4477-1 1-1s1 .4477 1 1v3.5858l5.2929-5.293c.3905-.3904 1.0237-.3904 1.4142 0 .3905.3906.3905 1.0238 0 1.4143L18.4142 7zM17 18.4142V22c0 .5523-.4477 1-1 1s-1-.4477-1-1v-6c0-.5523.4477-1 1-1h6c.5523 0 1 .4477 1 1s-.4477 1-1 1h-3.5858l5.293 5.2929c.3904.3905.3904 1.0237 0 1.4142-.3906.3905-1.0238.3905-1.4143 0L17 18.4142zM7 5.5858V2c0-.5523.4477-1 1-1s1 .4477 1 1v6c0 .5523-.4477 1-1 1H2c-.5523 0-1-.4477-1-1s.4477-1 1-1h3.5858L.2928 1.7071C-.0975 1.3166-.0975.6834.2929.293c.3906-.3905 1.0238-.3905 1.4143 0L7 5.5858zM5.5858 17H2c-.5523 0-1-.4477-1-1s.4477-1 1-1h6c.5523 0 1 .4477 1 1v6c0 .5523-.4477 1-1 1s-1-.4477-1-1v-3.5858l-5.2929 5.293c-.3905.3904-1.0237.3904-1.4142 0-.3905-.3906-.3905-1.0238 0-1.4143L5.5858 17z"></path></svg></div></div><div class="product-slider-actions-btn"><div class="product-slider-actions-btn-img"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#53565B" d="M11 11V7c0-.5523.4477-1 1-1s1 .4477 1 1v4h4c.5523 0 1 .4477 1 1s-.4477 1-1 1h-4v4c0 .5523-.4477 1-1 1s-1-.4477-1-1v-4H7c-.5523 0-1-.4477-1-1s.4477-1 1-1h4zm1-9C6.4772 2 2 6.4772 2 12s4.4772 10 10 10 10-4.4772 10-10S17.5228 2 12 2zm12 10c0 6.6274-5.3726 12-12 12S0 18.6274 0 12 5.3726 0 12 0s12 5.3726 12 12z"></path></svg></div></div></div>',1),qe=["src"],Ne=e("div",{class:"product-button-stance-download"},[e("div",{class:"product-button-stance-download-picture"},[e("a",null,[e("svg",{width:"45",height:"45",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 15V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18L4 15M8 11L12 15M12 15L16 11M12 15V3",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])])])],-1),Pe=[Ne],Fe={class:"product-button-positions"},Ee=e("div",{class:"product-buttons-position-btn-img"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[e("path",{d:"M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"})])],-1),Re=[Ee],Ue=e("div",{class:"product-buttons-position-btn-img"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#000000",width:"24",height:"24",viewBox:"0 0 1024 1024"},[e("path",{d:"M874.6 301.8L596.8 21.3c-4.5-4.5-9.4-8.3-14.7-11.5-1.4-.8-2.8-1.6-4.3-2.3-.9-.5-1.9-.9-2.8-1.3-9-4-18.9-6.2-29-6.2H201c-39.8 0-73 32.2-73 72v880c0 39.8 33.2 72 73 72h623c39.8 0 71-32.2 71-72V352.5c0-19-7-37.2-20.4-50.7zM583 110.4L783.8 312H583V110.4zM823 952H200V72h311v240c0 39.8 33.2 72 73 72h239v568zM350 696.5c0 24.2-7.5 31.4-21.9 31.4-9 0-18.4-5.8-24.8-18.5L272.9 732c13.4 22.9 32.3 34.2 61.3 34.2 41.6 0 60.8-29.9 60.8-66.2V577h-45v119.5zM501.3 577H437v186h44v-62h21.6c39.1 0 73.1-19.6 73.1-63.6 0-45.8-33.5-60.4-74.4-60.4zm-.8 89H481v-53h18.2c21.5 0 33.4 6.2 33.4 24.9 0 18.1-10.5 28.1-32.1 28.1zm182.5-9v36h30v30.1c-4 2.9-11 4.7-17.7 4.7-34.3 0-50.7-21.4-50.7-58.2 0-36.1 19.7-57.4 47.1-57.4 15.3 0 25 6.2 34 14.4l23.7-28.3c-12.7-12.8-32.1-24.2-59.2-24.2-49.6 0-91.1 35.3-91.1 97 0 62.7 40 95.1 91.5 95.1 25.9 0 49.2-10.2 61.5-22.6V657H683z"})])],-1),Oe=[Ue];function Ze(t,a,o,_,$,h){return t.modelValue?(c(),r("div",Ie,[e("div",Se,[(c(!0),r(N,null,P(t.data,(i,p)=>(c(),r("span",{key:p},[e("input",{type:"radio",id:p,onClick:n=>t.shift(p-t.first)},null,8,Te),e("label",{for:p,class:X(t.first===p?"checked":"")},null,10,ze)]))),128))]),Be,e("div",{class:"product-slider-arrow prev",onClick:a[0]||(a[0]=(...i)=>t.previous&&t.previous(...i))}),D(O,{name:"product-slider-trans",class:"product-slider big",tag:"div"},{default:B(()=>[(c(!0),r(N,null,P(t.slides,i=>(c(),r("div",{class:"product-slider-slide",key:i.id},[i.src?(c(),r("img",{key:0,src:i.src,alt:""},null,8,qe)):M("",!0)]))),128)),e("div",{class:"product-button-stance",onClick:a[1]||(a[1]=(...i)=>t.downloadImageAsPng&&t.downloadImageAsPng(...i))},Pe),e("div",Fe,[e("div",{onClick:a[2]||(a[2]=(...i)=>t.exploreImage&&t.exploreImage(...i)),class:"product-buttons-position-btn product-buttons-position-radius"},Re),e("div",{onClick:a[3]||(a[3]=(...i)=>t.downloadImageAsJpeg&&t.downloadImageAsJpeg(...i)),class:"product-buttons-position-btn product-buttons-position-rad"},Oe)])]),_:1}),e("div",{class:"product-slider-arrow next",onClick:a[4]||(a[4]=(...i)=>t.next&&t.next(...i))}),e("div",{class:"product-slider-close",onClick:a[5]||(a[5]=i=>t.$emit("update:modelValue",!1))})],512)):M("",!0)}var je=W(He,[["render",Ze]]);const Je=F({props:{data:{type:Array}},components:{ProductSliderFullscreen:je},emits:["toOrder","toLogo"],setup(t){var S;let a=H([]);const o=Z(),_=q({get:()=>o.getters.getLoader,set:l=>o.commit(Y.SET_LOADER,l)}),$=H(!1);(S=t.data)==null||S.forEach((l,s)=>a.value.push({id:s,src:l})),te(()=>{var l;a.value=[],(l=t.data)==null||l.forEach((s,u)=>a.value.push({id:u,src:s}))});let h=()=>{const l=a.value.shift();a.value=a.value.concat(l)},i=()=>{const l=a.value.pop();a.value=[l].concat(a.value)},p=H(!0);const n=l=>new Promise((s,u)=>{const d=new FileReader;d.readAsDataURL(l),d.onload=()=>s(d.result),d.onerror=m=>u(m)});let g=async()=>{let l=a.value[0],s=new URL(l.src),u=s.pathname.split("/"),d=u[u.length-1],b=d.split(".")[0],f=window.open("about:blank",b);f==null||f.document.write(`<img src="${s.href}" alt="${d}" />`)},I=async()=>{await A("png")},E=async()=>{await A("jpg")},R=async()=>{await A("webp")},A=async l=>{let s=a.value[0],d=new URL(s.src).pathname.split("/"),b=d[d.length-1].split("."),f=b[0];b[1];var w=new Image;w.onload=function(){var L;let k=this;var y=document.createElement("canvas");y.width=k.naturalWidth,y.height=k.naturalHeight,(L=y.getContext("2d"))==null||L.drawImage(k,0,0),y.toBlob(T=>{const z=window.URL.createObjectURL(T),C=document.createElement("a");C.href=z,C.setAttribute("download",`${f}.${l}`),document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(z)})},w.crossOrigin="Anonymous",w.src=s.src+"?not-from-cache-please"};return{loader:_,slides:a,fullscreen:$,hideLogoApplicationModalWindow:p,next:h,previous:i,toBase64:n,downloadCurrentImage:A,downloadImageAsPng:I,downloadImageAsJpeg:E,downloadImageAsWebp:R,exploreImage:g}}}),j=t=>(se("data-v-20619936"),t=t(),oe(),t),We={class:"content-elem"},Ye={key:0,class:"product-slider-wrap"},Ge={class:"product-slider-main"},Ke=j(()=>e("div",{class:"product-buttons-stance-download"},[e("div",{class:"product-buttons-stance-download-picture"},[e("a",null,[e("svg",{width:"45",height:"45",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 15V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18L4 15M8 11L12 15M12 15L16 11M12 15V3",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])])])],-1)),Qe=[Ke],Xe={class:"product-buttons-position"},et=j(()=>e("div",{class:"product-buttons-position-btn-img"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[e("path",{d:"M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"})])],-1)),tt=[et],at=j(()=>e("div",{class:"product-buttons-position-btn-img"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#000000",width:"24",height:"24",viewBox:"0 0 1024 1024"},[e("path",{d:"M874.6 301.8L596.8 21.3c-4.5-4.5-9.4-8.3-14.7-11.5-1.4-.8-2.8-1.6-4.3-2.3-.9-.5-1.9-.9-2.8-1.3-9-4-18.9-6.2-29-6.2H201c-39.8 0-73 32.2-73 72v880c0 39.8 33.2 72 73 72h623c39.8 0 71-32.2 71-72V352.5c0-19-7-37.2-20.4-50.7zM583 110.4L783.8 312H583V110.4zM823 952H200V72h311v240c0 39.8 33.2 72 73 72h239v568zM350 696.5c0 24.2-7.5 31.4-21.9 31.4-9 0-18.4-5.8-24.8-18.5L272.9 732c13.4 22.9 32.3 34.2 61.3 34.2 41.6 0 60.8-29.9 60.8-66.2V577h-45v119.5zM501.3 577H437v186h44v-62h21.6c39.1 0 73.1-19.6 73.1-63.6 0-45.8-33.5-60.4-74.4-60.4zm-.8 89H481v-53h18.2c21.5 0 33.4 6.2 33.4 24.9 0 18.1-10.5 28.1-32.1 28.1zm182.5-9v36h30v30.1c-4 2.9-11 4.7-17.7 4.7-34.3 0-50.7-21.4-50.7-58.2 0-36.1 19.7-57.4 47.1-57.4 15.3 0 25 6.2 34 14.4l23.7-28.3c-12.7-12.8-32.1-24.2-59.2-24.2-49.6 0-91.1 35.3-91.1 97 0 62.7 40 95.1 91.5 95.1 25.9 0 49.2-10.2 61.5-22.6V657H683z"})])],-1)),st=[at],ot=["src"],nt=["src"],it={class:"product-slider-buttons"},lt=ae(" \u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043C\u0430\u043A\u0435\u0442 \u043D\u0430\u043D\u0435\u0441\u0435\u043D\u0438\u044F");function dt(t,a,o,_,$,h){const i=J("router-link"),p=J("ProductSliderFullscreen");return c(),r("div",We,[t.loader?M("",!0):(c(),r("div",Ye,[e("div",Ge,[e("button",{class:"product-slider-arrow prev",onClick:a[0]||(a[0]=(...n)=>t.previous&&t.previous(...n))}),D(O,{name:"product-slider-trans",class:"product-slider touch",tag:"div"},{default:B(()=>[e("div",{onClick:a[1]||(a[1]=(...n)=>t.downloadImageAsPng&&t.downloadImageAsPng(...n)),class:"product-buttons-stance"},Qe),e("div",Xe,[e("div",{onClick:a[2]||(a[2]=(...n)=>t.exploreImage&&t.exploreImage(...n)),class:"product-buttons-position-btn product-buttons-position-radius"},tt),e("div",{onClick:a[3]||(a[3]=(...n)=>t.downloadImageAsJpeg&&t.downloadImageAsJpeg(...n)),class:"product-buttons-position-btn product-buttons-position-rad"},st)]),(c(!0),r(N,null,P(t.slides,n=>(c(),r("div",{class:"product-slider-slide",key:n.id},[n.src?(c(),r("img",{key:0,src:n.src,onClick:a[4]||(a[4]=g=>t.fullscreen=!0),alt:""},null,8,ot)):M("",!0)]))),128))]),_:1}),e("div",{class:"product-slider-arrow next",onClick:a[5]||(a[5]=(...n)=>t.next&&t.next(...n))})])])),D(O,{name:"product-slider-trans",class:"product-slider-small",tag:"div"},{default:B(()=>[(c(!0),r(N,null,P(t.slides,n=>(c(),r("div",{class:"product-slider-small-slide",key:n.id},[n.src?(c(),r("img",{key:0,src:n.src,alt:""},null,8,nt)):M("",!0)]))),128))]),_:1}),e("div",it,[D(i,{style:{width:"100%"},class:"product-slider-link",to:"/logo",title:"\u041D\u0430\u043D\u0435\u0441\u0442\u0438 \u043B\u043E\u0433\u043E\u0442\u0438\u043F"},{default:B(()=>[lt]),_:1})]),D(p,{modelValue:t.fullscreen,"onUpdate:modelValue":a[6]||(a[6]=n=>t.fullscreen=n),data:t.data},null,8,["modelValue","data"])])}var ut=W(Je,[["render",dt],["__scopeId","data-v-20619936"]]);export{ut as P,ct as _,je as a};
