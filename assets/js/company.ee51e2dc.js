import{a as J,_ as Q}from"./PersonalBar.0d932e9a.js";import{N as ee}from"./Notification.db0e712d.js";import{m as ae,a as te,b as se,_ as ne,F as oe,C as ue}from"./CompanyCalendar.vue_vue_type_style_index_0_lang.eae218f6.js";import{_ as le}from"./doc.04000e46.js";import{o,b as i,a as e,d as V,h as f,L,V as ie,c as Z,t as r,k as D,p as _,e as q,m as j,B as W,u as x,z as F,F as Y,f as z,U as X,W as I,X as G,l as H,j as g,Y as ce,Z as de,i as re,s as O,$ as N,a0 as me,g as pe,R as ve,a1 as he,a2 as ye}from"./index.e52d717e.js";import{_ as ge}from"./CompanyBarTop.9a8752c2.js";import"./vee-validate.esm.d2055275.js";import"./object.84c2627a.js";const _e={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"20",fill:"none"},fe=e("path",{fill:"#A5A7A9","fill-rule":"evenodd",d:"M37.465 2H18.579l8.064 7.102L37.465 2ZM16.739 3.036 14.713 15.91a1 1 0 0 0 .988 1.156h19.926a1 1 0 0 0 .988-.845l1.978-12.576-11.33 7.436c-.047.03-.094.056-.142.078a.998.998 0 0 1-1.235-.067l-9.107-8.02a.957.957 0 0 1-.04-.037Zm-1.946-.502A3 3 0 0 1 17.757 0h19.926a3 3 0 0 1 2.963 3.466L38.59 16.533a3 3 0 0 1-2.963 2.534H15.7a3 3 0 0 1-2.964-3.467l2.056-13.066Z","clip-rule":"evenodd"},null,-1),xe=e("rect",{width:"8",height:"2",x:"3.7",y:"4",fill:"#A5A7A9",rx:"1"},null,-1),Ce=e("rect",{width:"11",height:"2",y:"8",fill:"#A5A7A9",rx:"1"},null,-1),$e=e("rect",{width:"5",height:"2",x:"5.3",y:"12",fill:"#A5A7A9",rx:"1"},null,-1),be=[fe,xe,Ce,$e];function Ae(a,n){return o(),i("svg",_e,be)}var K={render:Ae};const Me={class:"company-consultant"},we={key:0,class:"company-consultant-wrap content-elem"},Ee={class:"company-consultant-info"},De={key:1,class:"company-consultant-img-box"},ke=["src"],Be={key:1,class:"company-consultant-img",src:J,alt:""},Se={class:"company-consultant-info-box"},Fe={class:"company-consultant-info-about"},Le={class:"company-consultant-name"},Ve=e("div",{class:"company-consultant-position"},"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",-1),Ne={class:"company-consultant-contact"},Te=["href"],Re=["href"],Ue=["href"],Ge=["title","href"],Oe=e("img",{class:"company-consultant-mail-img",src:K,alt:""},null,-1),je=j("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C "),qe=[Oe,je],Ie={key:1,class:"company-consultant-wrap content-elem"},Pe={class:"company-consultant-info"},Ze=e("a",{class:"company-consultant-mail"},[e("img",{class:"company-consultant-mail-img",src:K,alt:""}),j("\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C ")],-1),We=V({__name:"ManagerCard",props:{manager:{type:Object,required:!0}},setup(a){const n=a,t=f(!1),m=f(!1),h=f("");return L(()=>n.manager,()=>{t.value=!1,m.value=!0,n.manager&&n.manager.image?(h.value="",ie({method:"get",timeout:1e3*3,url:n.manager.image,responseType:"arraybuffer",headers:{"Content-type":"image/jpeg"}}).then(u=>{t.value=!0,m.value=!1,h.value=`data:${u.headers["content-type"]};base64,${btoa(String.fromCharCode(...new Uint8Array(u.data)))}`}).catch(()=>{m.value=!1})):m.value=!1,n.manager.image!=""&&(t.value=!0),h.value=n.manager.image}),(u,s)=>(o(),i("div",Me,[a.manager&&Object.keys(a.manager).length>0?(o(),i("div",we,[e("div",Ee,[m.value?(o(),Z(q,{key:0,style:{margin:"auto"}})):(o(),i("div",De,[t.value?(o(),i("img",{key:0,class:"company-consultant-img",src:h.value},null,8,ke)):(o(),i("img",Be))])),e("div",Se,[e("div",Fe,[e("div",Le,r(a.manager.name),1),Ve]),e("div",Ne,[e("a",{class:"company-consultant-phone",href:"tel:"+a.manager.contact},r(a.manager.contact),9,Te),a.manager.phone1!==""?(o(),i("a",{key:0,class:"company-consultant-phone",href:"tel:"+a.manager.phone1},r(a.manager.phone1),9,Re)):D("",!0),a.manager.phone2!==""?(o(),i("a",{key:1,class:"company-consultant-phone",href:"tel:"+a.manager.phone2},r(a.manager.phone2),9,Ue)):D("",!0)])])]),e("a",{class:"company-consultant-mail",title:a.manager.email,href:"mailto:"+a.manager.email},qe,8,Ge)])):(o(),i("div",Ie,[e("div",Pe,[_(q,{style:{margin:"auto"}})]),Ze]))]))}}),Ye={key:0},ze={class:"content-elem"},Xe={class:"company-head-item-title"},He={class:"company-card-sale"},Ke={class:"company-card-sale-box"},Je=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),Qe={class:"company-card-sale-value"},ea={class:"company-card-balance"},aa={class:"company-card-balance-box"},ta={key:0,class:"company-head-info-elem l highlight"},sa={key:1,class:"company-head-info-elem l highlight"},na={class:"company-head-info"},oa={class:"company-head-info-row"},ua={class:"company-head-info-elem l"},la={class:"company-head-info-title"},ia={key:0,class:"company-head-info-val"},ca={key:1,class:"company-head-info-val"},da={key:0,class:"company-head-info-elem r"},ra=e("span",{class:"company-head-info-title"},"\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F",-1),ma={class:"company-head-info-val"},pa={class:"company-card-footer"},va={class:"company-head-info-elem l"},ha=e("span",{class:"company-head-info-title"},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",-1),ya={class:"company-head-info-val"},ga={class:"company-head-info-elem \u043A"},_a=e("span",{class:"company-head-info-title"},"\u041B\u0438\u043C\u0438\u0442",-1),fa={class:"company-head-info-val"},xa={class:"company-head-sale"},Ca={class:"sale-val"},$a={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},ba={class:"sale-val-money"},Aa=e("div",{tooltip:"\u041F\u043B\u0430\u0442\u0435\u0436\u0438",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),Ma=[Aa],wa={key:1,class:"doc"},Ea={class:"content-elem"},Da={class:"company-head-item-title"},ka={class:"company-card-sale"},Ba={class:"company-card-sale-box"},Sa=e("span",{class:"company-card-sale-text"},"\u0421\u043A\u0438\u0434\u043A\u0430",-1),Fa={class:"company-card-sale-value"},La={class:"company-card-balance"},Va={class:"company-card-balance-box"},Na={key:0,class:"company-head-info-elem l highlight"},Ta={key:1,class:"company-head-info-elem l highlight"},Ra={class:"company-head-info",style:{display:"flex","justify-content":"space-between"}},Ua={key:0,class:"company-head-list-content"},Ga={key:0,class:"company-head-list"},Oa=["onClick"],ja={key:1,class:"company-head-list-content"},qa=e("span",null,"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0441\u0443\u043C\u043C\u0443 \u043F\u043B\u0430\u0442\u0435\u0436\u0430",-1),Ia={style:{padding:"10px 0px",display:"flex","justify-content":"flex-start","align-items":"baseline"}},Pa=e("div",{style:{padding:"0px 5px"}},"\u0440\u0443\u0431.",-1),Za=j(),Wa=e("div",{style:{padding:"0px 5px"}},"\u043A\u043E\u043F.",-1),Ya={style:{display:"flex","justify-content":"unset","flex-direction":"column","flex-wrap":"wrap"}},za=["disabled"],Xa=["value"],Ha={class:"company-head-sale"},Ka={class:"sale-val"},Ja={tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},Qa={class:"sale-val-money"},et=e("div",{tooltip:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",flow:"left"},[e("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8.84625 6.4597L2.68453 0.298103C2.54202 0.155477 2.35178 0.076904 2.14893 0.0769041C1.94608 0.0769041 1.75584 0.155478 1.61332 0.298103L1.15956 0.751758C0.864288 1.04737 0.864288 1.52781 1.15956 1.82297L6.3337 6.99711L1.15382 12.177C1.01131 12.3196 0.932619 12.5097 0.932619 12.7125C0.932619 12.9154 1.01131 13.1056 1.15382 13.2483L1.60759 13.7019C1.75021 13.8445 1.94034 13.9231 2.14319 13.9231C2.34604 13.9231 2.53628 13.8445 2.6788 13.7019L8.84625 7.53463C8.9891 7.39155 9.06756 7.20052 9.06711 6.99745C9.06756 6.79358 8.9891 6.60267 8.84625 6.4597Z",fill:"#A5A7A9"})])],-1),at=[et],tt={key:1,class:"company-head-item yellow"},st=H('<div class="content-elem active"><div class="company-head-item-title" style="margin-right:100px;">\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442</div><div class="company-card-sale"><div class="company-card-sale-box"><span class="company-card-sale-text">\u0421\u043A\u0438\u0434\u043A\u0430</span><div class="company-card-sale-value">\u0421\u043A\u0438\u0434\u043A\u0430 %</div></div></div><div class="company-card-balance"><div class="company-card-balance-box"><div class="company-head-info-elem l highlight">\u0411\u0430\u043B\u0430\u043D\u0441: 0 \u20BD</div></div></div><div class="company-head-info"><div class="company-head-info-row"><div class="company-head-info-elem l"><span class="company-head-info-title">\u041E\u0442\u0441\u0440\u043E\u0447\u043A\u0430</span><span class="company-head-info-val">0 \u0434\u043D\u0435\u0439</span></div><div class="company-head-info-elem r"><span class="company-head-info-title">\u0414\u0430\u0442\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u0438\u044F</span><span class="company-head-info-val">--.--.----</span></div></div></div></div>',1),nt=e("div",{class:"company-head-sale",tooltip:"\u0421\u0443\u043C\u043C\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043E\u043A \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443",flow:"up"},[e("div",{class:"sale-val"},[e("span",{class:"sale-val-money"},"0 \u20BD")])],-1),ot=[st,nt],P=V({__name:"CompanyStorageCard",props:{data:{type:Object},active:{type:Boolean}},emits:["onClick"],setup(a,{emit:n}){var w,y,b;const t=a,m=f(!1);W("docDate");let h=function(p){let d=["\u0434\u043D\u0435\u0439","\u0434\u0435\u043D\u044C","\u0434\u043D\u044F"],c=p%100;c=c>=20?c%10:c;let S=0;return c===0||c>=5&&c<=20?S=0:c==1?S=1:S=2,d[S]};const u=f(!1),s=f(0),l=f(0),v=f(""),C=new Date().toLocaleDateString("ru"),$=(w=t.data)==null?void 0:w.contract,k="f59a4d06-2f35-11e7-8fdb-0025907c0298",A=((b=(y=t.data)==null?void 0:y.guid)!=null?b:"")<k?"\u0441\u043F\u0435\u0446\u043E\u0434\u0435\u0436\u0434\u0443":"\u0441\u043F\u0435\u0446\u043E\u0431\u0443\u0432\u044C",M=function(p,d){let c=(""+p).split(".");c[1]?l.value=Number(c[1]):l.value=0,s.value=Math.trunc(p),u.value=!0},B=function(){let p=l.value<10?"0":"";return`\u041E\u043F\u043B\u0430\u0442\u0430 \u043F\u043E \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0443 \u2116 ${$} \u043E\u0442 ${C}, \u0437\u0430 ${A} \u043D\u0430 \u0441\u0443\u043C\u043C\u0443 ${s.value.toLocaleString("ru")} \u0440\u0443\u0431\u043B\u0435\u0439 ${p}${l.value} \u043A\u043E\u043F \u0432 \u0442.\u0447. \u041D\u0414\u0421 20% ${R()}`},T=function(p,d){return d<10?G.exports.toNumber(p+G.exports.toNumber("0.0"+d.toString())):G.exports.toNumber(p+"."+d)},R=function(){return(T(s.value,l.value)*.2).toFixed(2)},U=function(){var d;let p=document.querySelector("#testing-code");p==null||p.setAttribute("type","text"),p==null||p.select(),document.execCommand("copy"),p==null||p.setAttribute("type","hidden"),(d=window==null?void 0:window.getSelection())==null||d.removeAllRanges(),alert("\u0422\u0435\u043A\u0441\u0442 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430.")};return L(s,async(p,d)=>{v.value=B()}),L(l,async(p,d)=>{v.value=B()}),(p,d)=>a.data?(o(),i("div",{key:0,class:F("company-head-item "+(a.data.debt>1e3?"red":"yellow")+(a.active?" content-elem-active":"")+(m.value?" doc":"")),onClick:d[7]||(d[7]=c=>p.$emit("onClick",c))},[m.value?(o(),i("div",wa,[e("div",Ea,[e("div",Da,r(a.data.name),1),e("div",ka,[e("div",Ba,[Sa,e("div",Fa,r(a.data.discount)+" %",1)])]),e("div",La,[e("div",Va,[a.data.balance-a.data.debt<0?(o(),i("div",Na,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+r((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(o(),i("div",Ta,"\u0411\u0430\u043B\u0430\u043D\u0441: "+r(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",Ra,[e("div",{class:F("company-head-info-row"+(u.value?" passive-border":" active-border")),onClick:d[1]||(d[1]=c=>u.value=!1)}," \u041F\u043B\u0430\u0442\u0435\u0436\u0438 ",2),e("div",{class:F("company-head-info-row"+(u.value?" active-border":" passive-border")),onClick:d[2]||(d[2]=c=>u.value=!0)}," \u041D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u043B\u0430\u0442\u0435\u0436\u0430 ",2)]),u.value?(o(),i("div",ja,[qa,e("div",Ia,[_(I,{modelValue:s.value,"onUpdate:modelValue":d[3]||(d[3]=c=>s.value=c),step:1,min:0,style:"max-width: 100%"},null,8,["modelValue"]),Pa,_(I,{modelValue:l.value,"onUpdate:modelValue":d[4]||(d[4]=c=>l.value=c),min:0,max:99},null,8,["modelValue"]),Za,Wa]),e("div",Ya,[e("textarea",{class:"order-comment-textarea",disabled:v.value===""},r(v.value),9,za),e("input",{type:"hidden",id:"testing-code",value:v.value},null,8,Xa),e("span",{style:{"text-align":"center",padding:"5px 0px"},onClick:d[5]||(d[5]=c=>U())},"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C")])])):(o(),i("div",Ua,[a.data.documents?(o(),i("ul",Ga,[(o(!0),i(Y,null,z(a.data.documents,(c,S)=>(o(),i("li",{style:{"align-items":"center"},class:"company-head-list-elem",key:S},[_(x(le),{class:"company-head-list-img",style:{width:"20px",height:"21px"}}),e("a",{style:X(Date.parse(c.expires_date)>new Date().getTime()?"":"background-color: #B9342D; color: white;"),class:F([Date.parse(c.expires_date)>new Date().getTime()?"":"debt","company-head-list-link"]),onClick:Nt=>M(c.debt,c.expires_date)},r(c.debt.toLocaleString("ru").replace(",","."))+" \u20BD \u0434\u043E "+r(c.expires)+" / \u0423\u041F\u0414 "+r(c.number),15,Oa)]))),128))])):D("",!0)]))]),e("div",Ha,[e("div",Ka,[e("span",Ja,[e("span",Qa,r(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:F("company-card-showdoc"+(m.value?" active":"")),onClick:d[6]||(d[6]=c=>m.value=!m.value)},at,2)])])):(o(),i("div",Ye,[e("div",ze,[e("div",Xe,r(a.data.name),1),e("div",He,[e("div",Ke,[Je,e("div",Qe,r(a.data.discount)+" %",1)])]),e("div",ea,[e("div",aa,[a.data.balance-a.data.debt<0?(o(),i("div",ta,"\u0417\u0430\u0434\u043E\u043B\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C: "+r((a.data.balance-a.data.debt).toLocaleString("ru").replace(",",".").substring(1))+" \u20BD",1)):(o(),i("div",sa,"\u0411\u0430\u043B\u0430\u043D\u0441: "+r(a.data.balance.toLocaleString("ru").replace(",","."))+" \u20BD",1))])]),e("div",na,[e("div",oa,[e("div",ua,[e("span",la,r(a.data.case),1),a.data.case==="\u043E\u0442\u0441\u0440\u043E\u0447\u043A\u0430"?(o(),i("span",ia,r(a.data.deferment)+" "+r(x(h)(a.data.deferment)),1)):D("",!0),a.data.case==="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(o(),i("span",ca,r(a.data.percent)+"%",1)):D("",!0)]),a.data.case!=="\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"?(o(),i("div",da,[ra,e("span",ma,r(a.data.date),1)])):D("",!0)])]),e("div",pa,[e("div",va,[ha,e("span",ya,r(a.data.contract),1)]),e("div",ga,[_a,e("span",fa,r(Number(a.data.limit).toLocaleString("ru").replace(",","."))+" \u20BD",1)])])]),e("div",xa,[e("div",Ca,[e("span",$a,[e("span",ba,r(a.data.spent.toLocaleString("ru").replace(",","."))+" \u20BD",1)])]),e("div",{class:F("company-card-showdoc"+(m.value?" active":"")),onClick:d[0]||(d[0]=c=>m.value=!m.value)},Ma,2)])]))],2)):(o(),i("div",tt,ot))}}),ut={key:0,class:"company-head-wrap"},lt={key:1,class:"company-head-wrap"},it=V({__name:"CompanyStorageBar",props:{data:{type:Array,required:!0},modelValue:{type:Number}},emits:["update:modelValue","prev","next"],setup(a,{emit:n}){const t=a,m=250,h=s=>{const l=t.data[s].guid;let v=0,C=0,$=0,k=0;const E=document.querySelector("#"+l+"-"+s);E&&($=E.getBoundingClientRect().x,k=E.getBoundingClientRect().x+E.getBoundingClientRect().width);const A=document.querySelector(".company-head-elem");A&&(v=A.getBoundingClientRect().x,C=A.getBoundingClientRect().x+A.getBoundingClientRect().width);const M=document.querySelector(".company-head-wrap");k>C?(M&&(M.scrollLeft+=m),setTimeout(()=>{n("update:modelValue",s)},250)):$<v?(M&&(M.scrollLeft-=m),setTimeout(()=>{n("update:modelValue",s)},250)):n("update:modelValue",s)},u=s=>{const l=document.querySelector(".company-head-wrap");l&&(l.scrollLeft+=s),setTimeout(()=>{s>0?n("next"):n("prev")},250)};return(s,l)=>a.data.length!==0?(o(),i("div",ut,[e("div",{class:"btn btn-prev",onClick:l[0]||(l[0]=v=>u(-m))}," \u276E "),(o(!0),i(Y,null,z(a.data,(v,C)=>(o(),Z(P,{id:v.guid+"-"+C,key:C,data:v||null,active:C===a.modelValue,onOnClick:$=>h(C)},null,8,["id","data","active","onOnClick"]))),128)),e("div",{class:"btn btn-next",onClick:l[1]||(l[1]=v=>u(m))}," \u276F ")])):(o(),i("div",lt,[_(P)]))}}),ct={class:"company-sale sale"},dt={class:"sale-progressbar-wrap"},rt={class:"sale-progressbar content-elem tooltip"},mt={class:"sale-progressbar-val"},pt={class:"sale-progressbar-val-money"},vt={class:"company-sale-card"},ht={class:"table"},yt={class:"table-row"},gt={class:"table-sale"},_t=V({__name:"CompanySaleBar",props:{spent:{type:Number,required:!0},modelValue:{type:Number,required:!0}},setup(a){const n=a,t=g(()=>n.modelValue),m=[{progressMoneyMin:0,progressMoneyMax:5e4,discount:0,next:2},{progressMoneyMin:5e4,progressMoneyMax:99e3,discount:2,next:3},{progressMoneyMin:1e5,progressMoneyMax:199999,discount:3,next:4},{progressMoneyMin:2e5,progressMoneyMax:399999,discount:4,next:6},{progressMoneyMin:4e5,progressMoneyMax:599999,discount:6,next:8},{progressMoneyMin:6e5,progressMoneyMax:799999,discount:8,next:9},{progressMoneyMin:8e5,progressMoneyMax:999999,discount:9,next:10},{progressMoneyMin:1e6,progressMoneyMax:5999999,discount:10,next:15},{progressMoneyMin:6e6,progressMoneyMax:9999999,discount:15,next:17},{progressMoneyMin:1e7,progressMoneyMax:19999999,discount:17,next:18},{progressMoneyMin:2e7,progressMoneyMax:29999999,discount:18,next:20},{progressMoneyMin:3e7,progressMoneyMax:1/0,discount:20,next:0}];let h=g(()=>{let s=m.filter(l=>n.spent>=l.progressMoneyMin&&n.spent<l.progressMoneyMax);return s.length>0?s[0]:m[0]}),u=g(()=>h.value.progressMoneyMax!=1/0?n.spent/h.value.progressMoneyMax*100:100);return g(()=>h.value.progressMoneyMax-n.spent),(s,l)=>(o(),i("div",ct,[e("div",dt,[e("div",rt,[e("div",{class:"sale-progressbar-line",style:X("width: "+x(u)+"%")},[e("div",mt,[e("div",null,[e("span",pt,"("+r(a.spent.toLocaleString("ru").replace(",","."))+"\xA0\u20BD)",1)])])],4)])]),e("div",vt,[e("div",ht,[e("div",yt,[e("div",gt,"\u0412\u0430\u0448\u0430 \u0441\u043A\u0438\u0434\u043A\u0430 "+r(x(t))+" %",1)])])])]))}}),ft={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none"},xt=e("rect",{width:"2.254",height:"22.535",x:".25",y:"2.079",fill:"#A5A7A9",rx:"1.127",transform:"rotate(-45 .25 2.08)"},null,-1),Ct=e("rect",{width:"2.254",height:"22.535",fill:"#A5A7A9",rx:"1.127",transform:"scale(-1 1) rotate(-45 -6.254 22.198)"},null,-1),$t=[xt,Ct];function bt(a,n){return o(),i("svg",ft,$t)}var At={render:bt};const Mt={class:"company-calendar-box content-elem"},wt=H('<form class="company-search-wrap" action=""><div class="company-search-input-wrap"><input class="company-search-input" type="text" placeholder="\u041F\u043E\u0438\u0441\u043A"><img class="company-search-input-clear" src="'+At+'" alt=""></div><button class="company-search-btn gradient-btn"><img class="company-search-btn-img" src="'+de+'" alt=""></button></form>',1),Et=V({__name:"CompanyCalendar",props:{data:{type:Array}},setup(a){var s;const n=a,t=f(),m=f((s=W("docDate"))!=null?s:"");L(m,l=>{t.value.getApi().gotoDate(new Date(l))}),ce(()=>{t.value.getApi().today()});let h=g(()=>n.data===null?[]:n.data),u=g(()=>({plugins:[ae,te,se],headerToolbar:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",duration:{days:3},locale:ne,events:h.value?h.value.map(l=>({title:`\u0423\u041F\u0414 ${l.number} \u043D\u0430 ${l.debt}\u20BD`,start:l.expires_date,backgroundColor:"#378006",allDay:!0,display:"block"})):[]}));return(l,v)=>(o(),i("div",Mt,[wt,_(x(oe),{ref_key:"fullCalendar",ref:t,options:x(u)},null,8,["options"])]))}}),Dt={key:0},kt={class:"top-line product-page"},Bt={class:"company-head"},St={class:"company-head-elem"},Ft={class:"company-head-elem"},Lt={id:"CompanyCalendar"},Vt={class:"company-calendar-wrap"},Pt=V({__name:"company",props:["id"],setup(a){const n=a,t=pe(),m=ve(),h=f(!1),u=f(n.id),s=f(0),l=f(""),v=g(()=>t.getters.getCompanyCurrentDiscount(u.value)),C=g(()=>t.getters.getCompanyData(u.value)),$=g(()=>t.getters.getCompanyStoragesData(u.value)),k=g(()=>t.getters.getCompanysList),E=g(()=>t.getters.getCompanySpent(u.value)),A=g(()=>t.getters.getManagerUid(u.value)),M=g(()=>t.getters.getManager),B=g({get:()=>t.getters.getLoader,set:w=>t.commit(he.SET_LOADER,w)}),T=g(()=>$.value.length===0?null:$.value[s.value?s.value:0].documents);L(()=>n.id,()=>{n.id!==""?u.value=n.id:u.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid}),L(u,()=>{$.value.length===0?s.value=null:s.value=0,m.push(`/company/${u.value}`),t.commit(N.CLEAR_MANAGER),setTimeout(()=>t.dispatch(O.GET_MANAGER,A.value),1e3)}),re(()=>{t.getters.isCompanysLoad?(n.id!==""?(u.value=n.id,console.log(n.id),t.commit(N.SET_ACTIVE_COMPANY_ID,n.id),t.commit(N.CLEAR_MANAGER),t.dispatch(O.GET_MANAGER,A.value)):u.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid,h.value=!0):(B.value=!0,Promise.all([t.dispatch(O.GET_COMPANYS)]).finally(()=>{setTimeout(()=>{if(t.getters.isCompanysLoad){const w=t.getters.getCompanys.find(y=>y.uid===n.id);u.value=w?w.uid:t.getters.getCompanys[0].uid,t.commit(N.SET_ACTIVE_COMPANY_ID,n.id),h.value=!0,B.value=!1}else B.value=!1},500)}))}),ye("docDate",l);const R=()=>{s.value!=null&&s.value<$.value.length-1&&(s.value=s.value+1)},U=()=>{s.value&&s.value>0&&(s.value=s.value-1)};return(w,y)=>h.value?(o(),i("div",Dt,[e("div",kt,[_(ge,{data:x(k),modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=b=>u.value=b)},null,8,["data","modelValue"]),_(ee),_(Q)]),e("div",Bt,[e("div",St,[_(it,{data:x($),modelValue:s.value,"onUpdate:modelValue":y[1]||(y[1]=b=>s.value=b),onNext:y[2]||(y[2]=b=>R()),onPrev:y[3]||(y[3]=b=>U())},null,8,["data","modelValue"])]),e("div",Ft,[_(ue,{data:x(C)},null,8,["data"])])]),_(_t,{spent:x(E),modelValue:x(v),"onUpdate:modelValue":y[4]||(y[4]=b=>me(v)?v.value=b:null)},null,8,["spent","modelValue"]),e("div",Lt,[e("div",Vt,[_(Et,{data:x(T)},null,8,["data"]),_(We,{manager:x(M)},null,8,["manager"])])])])):D("",!0)}});export{Pt as default};
