import{_ as r4,N as i4}from"./PersonalBar.9b84b0fc.js";import{_ as l4}from"./CompanyBarTop.48f64128.js";import{_ as n4}from"./TopNav.c2e2c6d8.js";import{S as d4}from"./SelectInput.d490096b.js";import{d as q,g as v,z as Q,i as P,_ as Y,r as b,o as r,b as i,a as u,m as _,l as B,t as h,y as p,F as M,e as N,j as y,f as Z,J as U,u as A,Q as c4,ad as I,c as J,w as K,k as W,ak as X,ag as m4,B as v4,h as _4,al as h4,q as p4}from"./index.dd5c42dc.js";import{P as T}from"./PreloaderLocal.0fdb54b9.js";import{M as f4,O as j,a as g4}from"./types.27837570.js";import{D as E4}from"./DeleteButton.f5aacfdc.js";import{_ as C4}from"./CatalogPagination.cced27d2.js";import"./OrderDraftCard.41d10b78.js";const D4=q({name:"ShipmentDetailModal",components:{DeleteButton:E4},props:{modelValue:{type:Boolean,required:!0},data:{type:Object}},emits:["update:modelValue"],setup(e){const a=v(null),E=v(!1);Q(a,()=>{E.value=!0,setTimeout(()=>{E.value=!1},500)});const m=P(()=>{var w,f,D,$,S,n,k;let l=[];return l.push((w=e.data)!=null&&w.order?e.data.order.name:""),l.push("\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442: "+((f=e.data)==null?void 0:f.partner_name)),l.push("\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0434\u0430\u0442\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0438: "+((D=e.data)==null?void 0:D.date)),(($=e.data)==null?void 0:$.case)=="\u0414\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439"&&(e.data.carriers=="2"&&l.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u041F\u042D\u041A"),e.data.carriers=="3"&&l.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u0414\u0435\u043B\u043E\u0432\u044B\u0435 \u043B\u0438\u043D\u0438\u0438"),e.data.carriers=="4"&&l.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u0411\u0430\u0439\u043A\u0430\u043B"),e.data.carriers=="1"&&l.push("\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u0430\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F: \u0414\u0440\u0443\u0433\u0430\u044F"),e.data.carriers=="1"&&l.push(`\u0410\u0434\u0440\u0435\u0441 \u0422\u041A: ${e.data.address}`),l.push(String(e.data.extra))),((S=e.data)==null?void 0:S.case)=="\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437"&&l.push(`\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437\u0430: ${e.data.address}`),((n=e.data)==null?void 0:n.case)=="\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430"&&l.push(`\u0410\u0434\u0440\u0435\u0441 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438: ${e.data.address}`),l.push("\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0440\u0438\u0439: "+((k=e.data)==null?void 0:k.comment)),l});return{targetModal:a,shake:E,view_message:m}}}),$4={key:0,class:"order-modal"},A4={class:"order-modal-content draft"},y4={class:"order-modal-header"},F4=u("h3",{class:"order-modal-header-title"},"\u0414\u0435\u0442\u0430\u043B\u0438 \u0437\u0430\u044F\u0432\u043A\u0438 \u043D\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0443",-1),B4={class:"order-modal-body draft"},w4=u("br",null,null,-1),S4=u("br",null,null,-1),b4={class:"nav-tab"},P4=u("span",null,"\u0412\u0438\u0434 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0438:",-1),k4={class:"nav-tab-wrap",style:{"justify-content":"space-around"}},O4=u("div",{class:"gradient-btn-text"},"\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437",-1),V4=[O4],U4=u("div",{class:"gradient-btn-text"},"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430",-1),L4=[U4],I4=u("div",{class:"gradient-btn-text"},"\u0414\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439",-1),T4=[I4],M4={key:0,class:""},N4={class:"shipment-form-item"},j4=u("div",{class:"shipment-form-elem-title"},[u("span",null,"\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u0435")],-1),q4={class:"shipment-form-info shipment-form-info-text"},x4=["innerHTML"],G4=u("div",{class:"order-modal-action"},null,-1);function H4(e,a,E,m,l,w){const f=b("DeleteButton");return e.modelValue?(r(),i("div",$4,[u("div",{class:p("order-modal-dialog draft"+(e.shake?" shake":"")),ref:"targetModal"},[u("div",A4,[u("div",y4,[F4,_(f,{onOnClick:a[0]||(a[0]=D=>e.$emit("update:modelValue",!1))})]),u("div",B4,[B(" \u0417\u0430\u044F\u0432\u043A\u0430 \u2116 "+h(e.data.bitrix_id)+" \u043E\u0442 "+h(e.data.date_create.substring(0,10))+" ",1),w4,S4,u("div",b4,[P4,u("div",k4,[u("a",{class:p("nav-tab-elem gradient-btn"+(e.data.case=="\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437"?" active":""))},V4,2),u("a",{class:p("nav-tab-elem gradient-btn"+(e.data.case=="\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430"?" active":""))},L4,2),u("a",{class:p("nav-tab-elem gradient-btn"+(e.data.case=="\u0414\u043E \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439"?" active":""))},T4,2)])]),e.data?(r(),i("div",M4,[u("div",N4,[j4,u("div",q4,[(r(!0),i(M,null,N(e.view_message,(D,$)=>(r(),i("p",{key:$},[u("span",{innerHTML:D},null,8,x4)]))),128))])])])):y("",!0)]),G4])],2)])):y("",!0)}var z4=Y(D4,[["render",H4]]);const R4={class:"orders-list-wrap"},J4={class:"orders-heading-info"},K4={class:"orders-heading-pagination"},Q4={class:"orders-list"},Y4={class:"orders-list-row orders-list-heading"},Z4=u("div",{class:"orders-list-elem"},"\u2116",-1),W4=u("div",null,"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",-1),X4=u("svg",{width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{class:"fill",d:"M7.00726 8.11117L12.7923 2.32601C12.9262 2.1922 13 2.01359 13 1.82313C13 1.63268 12.9262 1.45406 12.7923 1.32026L12.3664 0.894224C12.0888 0.616998 11.6378 0.616998 11.3606 0.894224L6.5027 5.75217L1.63936 0.888833C1.50545 0.755029 1.32694 0.681152 1.13659 0.681152C0.946033 0.681152 0.767522 0.755029 0.633507 0.888833L0.207681 1.31487C0.0737714 1.44878 -4.1357e-08 1.62729 -4.9682e-08 1.81774C-5.8007e-08 2.0082 0.0737714 2.18681 0.207681 2.32062L5.99802 8.11117C6.13236 8.24529 6.31171 8.31896 6.50238 8.31854C6.69378 8.31896 6.87303 8.24529 7.00726 8.11117Z",fill:"#A5A7A9"})],-1),uu=[X4],eu=u("div",{class:"orders-list-elem"},"\u0418\u043D\u0444\u043E",-1),su=["onClick"],tu={class:"orders-list-elem"},au=u("div",{class:"table-arrow"},null,-1),ou={class:"orders-list-elem"},ru={class:"orders-list-elem"},iu=["innerHTML"],lu={class:"orders-list-elem"},nu={class:"orders-list-elem",style:{"justify-content":"space-around"}},du=u("div",{class:"orders-list-elem"},null,-1),cu=u("div",{class:"orders-list-elem"},null,-1),mu={class:"orders-list-elem"},vu=["onClick"],_u=["onClick"],hu=["onClick"],pu=["onClick"],fu=u("a",{class:"orders-list-more-dropdown-link"},"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443",-1),gu={key:0},Eu={class:"orders-list-info-elem"},Cu={class:"orders-list-info-elem"},Du={key:0,class:"orders-list-info-about tooltip"},$u=["onClick"],Au=u("span",{class:"tooltiptext"},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0447\u0435\u0442",-1),yu={key:1,class:"orders-list-info-about tooltip"},Fu={class:"orders-list-info-download disable"},Bu=u("span",{class:"tooltiptext"},[B("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0447\u0435\u0442 \u043C\u043E\u0436\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E "),u("br"),B(" \u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0437\u0430\u043A\u0430\u0437\u0430")],-1),wu={key:0,class:"orders-list-info-elem orders-list-info-doc-wrap"},Su={key:1,class:"orders-list-info-elem orders-list-info-doc-wrap"},bu=["href"],Pu=["href"],ku=["href"],Ou=["href"],Vu=u("div",{class:"orders-list-info-elem"},null,-1),Uu={class:"orders-list-info-elem"},Lu={class:"orders-list-info-elem"},Iu={key:1,class:"orders-list-info-row"},Tu=v4('<div class="orders-list-info-elem"></div><div class="orders-list-info-elem"> \u0421\u0447\u0435\u0442 \u043E\u0442\u0441\u0443\u0442\u0432\u0443\u0435\u0442 </div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div>',7),Mu=[Tu],Nu={key:0,class:"orders-list-row orders-list-main-row"},ju={class:"order-info"},qu={key:0},xu=B("\u0417\u0430\u044F\u0432\u043E\u043A \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E. \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 "),Gu=B("\u043D\u043E\u0432\u0443\u044E \u0437\u0430\u044F\u0432\u043A\u0443"),Hu=B(" \u0438 \u043E\u043D\u0430 \u043F\u043E\u044F\u0432\u0438\u0442\u0441\u044F \u0432 \u0441\u043F\u0438\u0441\u043A\u0435."),zu={key:1},Ru=B(" \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 "),Ju=B("\u043D\u043E\u0432\u044B\u0439 \u0437\u0430\u043A\u0430\u0437"),Ku=B(" \u0434\u043B\u044F \u0442\u043E\u0433\u043E \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443 \u043D\u0430 \u0435\u0433\u043E \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0443."),Qu=q({__name:"ShipmentsListCard",props:{data:{type:Array,required:!0},contrAgent:{type:String},period:{type:String},status:{type:String},loading:{type:Boolean,default:!1},search:{type:Object,required:!0}},setup(e){const a=e,E=Z(W),m=v(-1),l=v(-1),w=v(null),f=v([]),D=v(-1),$=v(!1),S=v(!1),n=v({maxItemOnPage:10,currentPage:1}),k=v(-1),C=v(!1),L="http://91.232.12.198:82",F=v([{name:"id",value:"",show:!1},{name:"name",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1}]),u4=P(()=>E.getters.isOrders);Q(w,()=>{l.value=-1}),U(m,()=>{var o,s,g;if(m.value!=-1&&O.value&&Array.isArray((o=O.value[m.value].order)==null?void 0:o.checks)){let t=(g=(s=O.value[m.value].order)==null?void 0:s.checks)==null?void 0:g.map(c=>c.doc_status?null:E.dispatch(X.GET_ORDERS_DOCSTATUS,c.guid));t&&Promise.all(t).finally(()=>{})}}),U(()=>a.status,()=>{n.value.currentPage=1,m.value=-1}),U(()=>a.contrAgent,()=>{n.value.currentPage=1,m.value=-1}),U(()=>a.search,()=>{n.value.currentPage=1,m.value=-1}),U(()=>a.period,()=>{n.value.currentPage=1,m.value=-1});const O=P(()=>{let o=a.data.filter(s=>a.contrAgent==""||s.partner_guid==a.contrAgent);return o=o.filter(s=>e4(s.date)),o=o.filter(s=>s4(s)),o=o.filter(s=>V(s)),F.value[1].value!=""&&(o=o.filter(s=>`\u0417\u0430\u044F\u0432\u043A\u0430 \u2116 ${s.bitrix_id} \u043E\u0442 ${s.date_create.substring(0,10)}`.indexOf(F.value[1].value)!=-1)),o}),x=o=>n.value.maxItemOnPage!=-1?o>=(n.value.currentPage-1)*n.value.maxItemOnPage&&o<n.value.currentPage*n.value.maxItemOnPage:!0,V=o=>{if(a.search.search=="")return!0;switch(a.search.id){case 1:return`\u0417\u0430\u044F\u0432\u043A\u0430 \u2116 ${o.bitrix_id} \u043E\u0442 ${o.date_create.substring(0,10)}`.toUpperCase().indexOf(a.search.search.toUpperCase())!=-1;case 2:return o.date.toUpperCase().indexOf(a.search.search.toUpperCase())!=-1;case 3:return o.order?String(o.order.n).toUpperCase().indexOf(a.search.search.toUpperCase())!=-1:!1;default:return!0}},e4=o=>{var s;if(a.period=="\u0412\u0441\u0435")return!0;{const g=(s=a.period)==null?void 0:s.split(" - ")[0],t=g==null?void 0:g.substring(6,10),c=g==null?void 0:g.substring(3,5);return t==o.substring(6,10)&&c==o.substring(3,5)}},s4=o=>o,t4=o=>{f.value.push(o),E.dispatch(m4.GET_BILL_FILE_SAVE,o).finally(()=>{f.value=f.value.filter(s=>s!==o)})},a4=(o,s)=>{const t=E.getters.getCompanyStoragesData(o).find(c=>c.guid==s);return t?t.name.replace(/(^|\s)\S/g,c=>c.toUpperCase()).replace(/(ООО)|(")|(\s)|([а-я])/g,""):"\u0421\u043A\u043B\u0430\u0434"};return(o,s)=>{const g=b("router-link");return r(),i("div",R4,[u("div",J4,[u("div",K4,[_(C4,{maxPage:n.value.maxItemOnPage!=-1?Math.ceil(A(O).length/n.value.maxItemOnPage):1,currentPage:n.value.currentPage,"onUpdate:currentPage":s[0]||(s[0]=t=>n.value.currentPage=t),maxItemOnPage:n.value.maxItemOnPage,"onUpdate:maxItemOnPage":s[1]||(s[1]=t=>n.value.maxItemOnPage=t)},null,8,["maxPage","currentPage","maxItemOnPage"])]),u("div",{class:"orders-heading-info-text",style:c4(A(O).length!=e.data.length?"visibility: visible":"visibility: hidden")}," \u041F\u043E\u043A\u0430\u0437\u0430\u043D\u043E "+h(A(O).length)+" \u0438\u0437 "+h(e.data.length),5)]),u("div",Q4,[u("div",Y4,[Z4,u("div",{class:p("orders-list-elem"+(V.search!=""&&V.id==1?" active":"")+(F.value[1].value!=""?" active":""))},[_(f4,{modelValue:F.value[1].value,"onUpdate:modelValue":s[2]||(s[2]=t=>F.value[1].value=t),show:F.value[1].show,"onUpdate:show":s[3]||(s[3]=t=>F.value[1].show=t)},null,8,["modelValue","show"]),W4,u("div",{class:p("orders-list-elem-filter"+(F.value[1].show||F.value[1].value!=""?" active":"")),title:"\u0424\u0438\u043B\u044C\u0442\u0440",onClick:s[4]||(s[4]=t=>F.value[1].show=!0)},uu,2)],2),u("div",{class:p("orders-list-elem"+(e.contrAgent!=""?" active":""))},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442",2),u("div",{class:p("orders-list-elem"+(V.search!=""&&V.id==2?" active":""))},"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0434\u0430\u0442\u0430",2),u("div",{class:p("orders-list-elem"+(V.search!=""&&V.id==3?" active":"")),style:{"justify-content":"space-around"}},"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430",2),u("div",{class:p("orders-list-elem"+(e.period!="\u0412\u0441\u0435"?" active":""))},"\u0414\u0430\u0442\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0438",2),u("div",{class:p("orders-list-elem"+(e.status!="\u0412\u0441\u0435"?" active":""))},"\u0421\u0442\u0430\u0442\u0443\u0441",2),eu]),(r(!0),i(M,null,N(A(O),(t,c)=>(r(),i("div",{key:c,class:p("orders-list-item"+(c==m.value?" active":""))},[x(c)?(r(),i("div",{key:0,class:"orders-list-row orders-list-main-row",onClick:d=>c===m.value?m.value=-1:m.value=c},[u("div",tu,[B(h(c+1)+" ",1),au]),u("div",ou," \u0417\u0430\u044F\u0432\u043A\u0430 \u2116 "+h(t.bitrix_id)+" \u043E\u0442 "+h(t.date_create.substring(0,10)),1),u("div",ru,[u("span",{innerHTML:t.partner_name},null,8,iu)]),u("div",lu,h(t.date),1),u("div",nu,h(t.order?t.order.n:""),1),du,cu,u("div",mu,[u("button",{class:"orders-list-more",onClick:I(d=>l.value=c,["stop"])},"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u043E",8,vu),u("div",{class:p("orders-list-more-dropdown"+(c==l.value?" active":"")),ref_for:!0,ref_key:"target",ref:w},[u("a",{class:"orders-list-more-dropdown-link",onClick:I(d=>{D.value=t.order.n,$.value=!0,S.value=!0},["stop"])},"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437",8,_u),u("a",{class:"orders-list-more-dropdown-link",onClick:I(d=>{D.value=t.order.n,$.value=!0},["stop"])},"\u0414\u0435\u0442\u0430\u043B\u0438 \u0437\u0430\u043A\u0430\u0437\u0430",8,hu),u("a",{class:"orders-list-more-dropdown-link",onClick:I(d=>{k.value=c,C.value=!0},["stop"])},"\u0417\u0430\u044F\u0432\u043A\u0430 \u043D\u0430 \u043E\u0442\u0433\u0440\u0443\u0437\u043A\u0443",8,pu),fu],2)])],8,su)):y("",!0),x(c)?(r(),i("div",{key:1,class:p(["orders-list-info",{active:c==m.value}]),onClick:s[5]||(s[5]=d=>l.value=-1)},[t.order&&Array.isArray(t.order.checks)?(r(),i("div",gu,[(r(!0),i(M,null,N(t.order.checks,(d,o4)=>{var G,H,z,R;return r(),i("div",{class:"orders-list-info-row",key:o4},[u("div",Eu,h(a4(t.partner_guid,d.organization_id)),1),u("div",Cu,[d.status>=2?(r(),i("div",Du,[u("div",{class:"orders-list-info-download",onClick:l0=>t4(d.guid)},[u("span",null," \u0421\u0447\u0451\u0442 \u043E\u0442 "+h(t.order.date.substring(0,10)),1),f.value.includes(t.guid)?(r(),J(T,{key:0,small:""})):y("",!0)],8,$u),Au])):(r(),i("div",yu,[u("div",Fu," \u0421\u0447\u0451\u0442 \u043E\u0442 "+h(t.order.date.substring(0,10)),1),Bu]))]),d.doc_status?(r(),i("div",Su,[((G=d.doc_status)==null?void 0:G.StatusSchet)&&d.status>=2?(r(),i("a",{key:0,class:"orders-list-info-doc sc",href:`${A(L)}/api/order/print?id=${d.guid}&name=\u0421\u0447\u0435\u0442`,target:"_blank",title:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u0447\u0435\u0442"},null,8,bu)):y("",!0),(H=d.doc_status)!=null&&H.StatusUPD?(r(),i("a",{key:1,class:"orders-list-info-doc upd",href:`${A(L)}/api/order/print?id=${d.guid}&name=\u0423\u041F\u0414`,target:"_blank",title:"\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0434\u0430\u0442\u043E\u0447\u043D\u044B\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},null,8,Pu)):y("",!0),(z=d.doc_status)!=null&&z.StatusSF?(r(),i("a",{key:2,class:"orders-list-info-doc sf",href:`${A(L)}/api/order/print?id=${d.guid}&name=\u0421\u0424`,target:"_blank",title:"\u0421\u0447\u0451\u0442-\u0444\u0430\u043A\u0442\u0443\u0440\u0430"},null,8,ku)):y("",!0),(R=d.doc_status)!=null&&R.StatusUPK?(r(),i("a",{key:3,class:"orders-list-info-doc kor",href:`${A(L)}/api/order/print?id=${d.guid}&name=\u0423\u041A\u0414`,target:"_blank",title:"\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u044B\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},null,8,Ou)):y("",!0)])):(r(),i("div",wu,[_(T,{small:""})])),Vu,u("div",Uu,h(A(j)[d.status+1]?A(j)[d.status+1].name:""),1),u("div",Lu,h(t.case),1)])}),128))])):(r(),i("div",Iu,Mu))],2)):y("",!0)],2))),128)),e.data.length==0&&!e.loading?(r(),i("div",Nu,[u("div",ju,[A(u4)?(r(),i("span",qu,[xu,_(g,{tag:"a",class:"order-info-link",to:"/shipments/request"},{default:K(()=>[Gu]),_:1}),Hu])):(r(),i("span",zu,[Ru,_(g,{tag:"a",class:"order-info-link",to:"/order"},{default:K(()=>[Ju]),_:1}),Ku]))])])):y("",!0)]),e.loading?(r(),J(T,{key:0,style:{width:"100%"}})):y("",!0),_(g4,{modelValue:$.value,"onUpdate:modelValue":s[6]||(s[6]=t=>$.value=t),orderId:D.value,repeatOrder:S.value,"onUpdate:repeatOrder":s[7]||(s[7]=t=>S.value=t)},null,8,["modelValue","orderId","repeatOrder"]),_(z4,{modelValue:C.value,"onUpdate:modelValue":s[8]||(s[8]=t=>C.value=t),data:e.data[k.value]},null,8,["modelValue","data"])])}}}),Yu=q({components:{PersonalBar:r4,Notification:i4,CompanyBarTop:l4,TopNav:n4,SelectInput:d4,ShipmentsListCard:Qu},setup(){const e=Z(W),a=v(!0),E=v(""),m=v(0),l=v(0),w=v({id:1,search:""}),f=[{id:1,name:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435"},{id:2,name:"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0434\u0430\u0442\u0430"},{id:3,name:"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430"}];return _4(()=>{e.dispatch(X.GET_ORDERS).finally(()=>{e.dispatch(h4.GET_SHIPMENTS).finally(()=>{a.value=!1})}),e.getters.isCompanysLoad||e.dispatch(p4.GET_COMPANYS)}),{filterCompanyUid:E,filterPeriod:m,OrdersSatusCode:j,filterStatus:l,search:w,loading:a,searchColumn:f,companyBarTopData:P(()=>e.getters.getCompanysList),filterCompanyData:P(()=>e.getters.getCompanysListInput),filterPeriodData:P(()=>e.getters.getOrdersDataPeriodArray),shipmentsList:P(()=>e.getters.getShipments),isOrders:P(()=>e.getters.isOrders)}}}),Zu={class:"top-line product-page"},Wu={class:"orders-heading"},Xu={class:"orders-heading-elem"},u0={class:"orders-heading-item"},e0=u("div",{class:"orders-heading-text"},"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442:",-1),s0={class:"orders-heading-item"},t0=u("div",{class:"orders-heading-text"},"\u0421\u0442\u0430\u0442\u0443\u0441:",-1),a0={class:"orders-heading-item","data-select2-id":"147"},o0=u("div",{class:"orders-heading-text"},"\u041F\u0435\u0440\u0438\u043E\u0434:",-1),r0=u("div",{class:"orders-heading-elem"},null,-1);function i0(e,a,E,m,l,w){const f=b("CompanyBarTop"),D=b("Notification"),$=b("PersonalBar"),S=b("top-nav"),n=b("SelectInput"),k=b("ShipmentsListCard");return r(),i("div",null,[u("div",Zu,[_(f,{data:e.companyBarTopData,modelValue:e.filterCompanyUid,"onUpdate:modelValue":a[0]||(a[0]=C=>e.filterCompanyUid=C)},null,8,["data","modelValue"]),_(D),_($)]),_(S,{shipments:e.isOrders},null,8,["shipments"]),u("div",Wu,[u("div",Xu,[u("div",u0,[e0,_(n,{data:e.filterCompanyData,modelValue:e.filterCompanyUid,"onUpdate:modelValue":a[1]||(a[1]=C=>e.filterCompanyUid=C)},null,8,["data","modelValue"])]),u("div",s0,[t0,_(n,{data:e.OrdersSatusCode,modelValue:e.filterStatus,"onUpdate:modelValue":a[2]||(a[2]=C=>e.filterStatus=C)},null,8,["data","modelValue"])]),u("div",a0,[o0,_(n,{data:e.filterPeriodData,modelValue:e.filterPeriod,"onUpdate:modelValue":a[3]||(a[3]=C=>e.filterPeriod=C)},null,8,["data","modelValue"])]),u("div",{class:"orders-heading-clean",title:"\u0423\u0431\u0440\u0430\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B",onClick:a[4]||(a[4]=C=>{e.filterCompanyUid="",e.filterPeriod=0,e.filterStatus=0})})]),r0]),_(k,{data:e.shipmentsList,loading:e.loading,contrAgent:e.filterCompanyUid,period:e.filterPeriodData[e.filterPeriod].name,status:e.OrdersSatusCode[e.filterStatus].name,search:e.search},null,8,["data","loading","contrAgent","period","status","search"])])}var E0=Y(Yu,[["render",i0]]);export{E0 as default};
