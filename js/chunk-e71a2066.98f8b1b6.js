(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e71a2066"],{1276:function(e,t,r){"use strict";var a=r("2ba4"),n=r("c65b"),o=r("e330"),c=r("d784"),l=r("44e7"),i=r("825a"),d=r("1d80"),s=r("4840"),u=r("8aa5"),m=r("50c4"),b=r("577e"),O=r("dc4a"),p=r("4dae"),f=r("14c3"),j=r("9263"),v=r("9f7f"),h=r("d039"),g=v.UNSUPPORTED_Y,V=4294967295,E=Math.min,k=[].push,N=o(/./.exec),C=o(k),y=o("".slice),w=!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));c("split",(function(e,t,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var o=b(d(this)),c=void 0===r?V:r>>>0;if(0===c)return[];if(void 0===e)return[o];if(!l(e))return n(t,o,e,c);var i,s,u,m=[],O=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,v=new RegExp(e.source,O+"g");while(i=n(j,v,o)){if(s=v.lastIndex,s>f&&(C(m,y(o,f,i.index)),i.length>1&&i.index<o.length&&a(k,m,p(i,1)),u=i[0].length,f=s,m.length>=c))break;v.lastIndex===i.index&&v.lastIndex++}return f===o.length?!u&&N(v,"")||C(m,""):C(m,y(o,f)),m.length>c?p(m,0,c):m}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:n(t,this,e,r)}:t,[function(t,r){var a=d(this),c=void 0==t?void 0:O(t,e);return c?n(c,t,a,r):n(o,b(a),t,r)},function(e,a){var n=i(this),c=b(e),l=r(o,n,c,a,o!==t);if(l.done)return l.value;var d=s(n,RegExp),O=n.unicode,p=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(g?"g":"y"),j=new d(g?"^(?:"+n.source+")":n,p),v=void 0===a?V:a>>>0;if(0===v)return[];if(0===c.length)return null===f(j,c)?[c]:[];var h=0,k=0,N=[];while(k<c.length){j.lastIndex=g?0:k;var w,B=f(j,g?y(c,k):c);if(null===B||(w=E(m(j.lastIndex+(g?k:0)),c.length))===h)k=u(c,k,O);else{if(C(N,y(c,h,k)),N.length===v)return N;for(var S=1;S<=B.length-1;S++)if(C(N,B[S]),N.length===v)return N;k=h=w}}return C(N,y(c,h)),N}]}),!w,g)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},2532:function(e,t,r){"use strict";var a=r("23e7"),n=r("e330"),o=r("5a34"),c=r("1d80"),l=r("577e"),i=r("ab13"),d=n("".indexOf);a({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~d(l(c(this)),l(o(e)),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,r){var a=r("da84"),n=r("44e7"),o=a.TypeError;e.exports=function(e){if(n(e))throw o("The method doesn't accept regular expressions");return e}},"841c":function(e,t,r){"use strict";var a=r("c65b"),n=r("d784"),o=r("825a"),c=r("1d80"),l=r("129f"),i=r("577e"),d=r("dc4a"),s=r("14c3");n("search",(function(e,t,r){return[function(t){var r=c(this),n=void 0==t?void 0:d(t,e);return n?a(n,t,r):new RegExp(t)[e](i(r))},function(e){var a=o(this),n=i(e),c=r(t,a,n);if(c.done)return c.value;var d=a.lastIndex;l(d,0)||(a.lastIndex=0);var u=s(a,n);return l(a.lastIndex,d)||(a.lastIndex=d),null===u?-1:u.index}]}))},8876:function(e,t,r){"use strict";r.r(t);r("b0c0"),r("ac1f"),r("841c");var a=r("7a23"),n={class:"top-line product-page"},o={class:"orders-heading"},c={class:"orders-heading-elem"},l={class:"orders-heading-item"},i=Object(a["createElementVNode"])("div",{class:"orders-heading-text"},"Контрагент:",-1),d={class:"orders-heading-item"},s=Object(a["createElementVNode"])("div",{class:"orders-heading-text"},"Статус:",-1),u={class:"orders-heading-item","data-select2-id":"147"},m=Object(a["createElementVNode"])("div",{class:"orders-heading-text"},"Период:",-1),b=Object(a["createElementVNode"])("div",{class:"orders-heading-elem"},null,-1);function O(e,t,r,O,p,f){var j=Object(a["resolveComponent"])("CompanyBarTop"),v=Object(a["resolveComponent"])("Notification"),h=Object(a["resolveComponent"])("PersonalBar"),g=Object(a["resolveComponent"])("top-nav"),V=Object(a["resolveComponent"])("SelectInput"),E=Object(a["resolveComponent"])("ShipmentsListCard");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",n,[Object(a["createVNode"])(j,{data:e.companyBarTopData,modelValue:e.filterCompanyUid,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filterCompanyUid=t})},null,8,["data","modelValue"]),Object(a["createVNode"])(v),Object(a["createVNode"])(h)]),Object(a["createVNode"])(g,{shipments:e.isOrders},null,8,["shipments"]),Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",l,[i,Object(a["createVNode"])(V,{data:e.filterCompanyData,modelValue:e.filterCompanyUid,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filterCompanyUid=t})},null,8,["data","modelValue"])]),Object(a["createElementVNode"])("div",d,[s,Object(a["createVNode"])(V,{data:e.OrdersSatusCode,modelValue:e.filterStatus,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filterStatus=t})},null,8,["data","modelValue"])]),Object(a["createElementVNode"])("div",u,[m,Object(a["createVNode"])(V,{data:e.filterPeriodData,modelValue:e.filterPeriod,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filterPeriod=t})},null,8,["data","modelValue"])]),Object(a["createElementVNode"])("div",{class:"orders-heading-clean",title:"Убрать фильтры",onClick:t[4]||(t[4]=function(t){e.filterCompanyUid="",e.filterPeriod=0,e.filterStatus=0})})]),b]),Object(a["createVNode"])(E,{data:e.shipmentsList,loading:e.loading,contrAgent:e.filterCompanyUid,period:e.filterPeriodData[e.filterPeriod].name,status:e.OrdersSatusCode[e.filterStatus].name,search:e.search},null,8,["data","loading","contrAgent","period","status","search"])])}r("d3b7");var p=r("1e34"),f=r("c6d3"),j=r("0169"),v=r("3d45"),h=r("195d"),g=(r("4de4"),r("caad"),r("2532"),{class:"orders-list-wrap"}),V={class:"orders-list",ref:"target"},E={class:"orders-list-row orders-list-heading"},k=Object(a["createElementVNode"])("div",{class:"orders-list-elem"},"№",-1),N=Object(a["createElementVNode"])("div",null,"Наименование",-1),C=Object(a["createElementVNode"])("svg",{width:"13",height:"9",viewBox:"0 0 13 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(a["createElementVNode"])("path",{class:"fill",d:"M7.00726 8.11117L12.7923 2.32601C12.9262 2.1922 13 2.01359 13 1.82313C13 1.63268 12.9262 1.45406 12.7923 1.32026L12.3664 0.894224C12.0888 0.616998 11.6378 0.616998 11.3606 0.894224L6.5027 5.75217L1.63936 0.888833C1.50545 0.755029 1.32694 0.681152 1.13659 0.681152C0.946033 0.681152 0.767522 0.755029 0.633507 0.888833L0.207681 1.31487C0.0737714 1.44878 -4.1357e-08 1.62729 -4.9682e-08 1.81774C-5.8007e-08 2.0082 0.0737714 2.18681 0.207681 2.32062L5.99802 8.11117C6.13236 8.24529 6.31171 8.31896 6.50238 8.31854C6.69378 8.31896 6.87303 8.24529 7.00726 8.11117Z",fill:"#A5A7A9"})],-1),y=[C],w=Object(a["createElementVNode"])("div",{class:"orders-list-elem"},"Инфо",-1),B=["onClick"],S={class:"orders-list-elem"},x=Object(a["createElementVNode"])("div",{class:"table-arrow"},null,-1),D={class:"orders-list-elem"},_={class:"orders-list-elem"},T=["innerHTML"],I={class:"orders-list-elem"},L={class:"orders-list-elem",style:{"justify-content":"space-around"}},U=Object(a["createElementVNode"])("div",{class:"orders-list-elem"},null,-1),M=Object(a["createElementVNode"])("div",{class:"orders-list-elem"},null,-1),A={class:"orders-list-elem"},P=["onClick"],R=["onClick"],z=["onClick"],F=["onClick"],G=Object(a["createElementVNode"])("a",{class:"orders-list-more-dropdown-link"},"Скачать заявку",-1),$={key:0},H={class:"orders-list-info-elem"},q={class:"orders-list-info-elem"},J={key:0,class:"orders-list-info-about tooltip"},Y=["onClick"],K=Object(a["createElementVNode"])("span",{class:"tooltiptext"},"Сохранить счет",-1),Z={key:1,class:"orders-list-info-about tooltip"},Q={class:"orders-list-info-download disable"},W=Object(a["createElementVNode"])("span",{class:"tooltiptext"},[Object(a["createTextVNode"])("Сохранить счет можно только "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" после подтверждения заказа")],-1),X={key:0,class:"orders-list-info-elem orders-list-info-doc-wrap"},ee={key:1,class:"orders-list-info-elem orders-list-info-doc-wrap"},te=["href"],re=["href"],ae=["href"],ne=["href"],oe=Object(a["createElementVNode"])("div",{class:"orders-list-info-elem"},null,-1),ce={class:"orders-list-info-elem"},le={class:"orders-list-info-elem"},ie={key:1,class:"orders-list-info-row"},de=Object(a["createStaticVNode"])('<div class="orders-list-info-elem"></div><div class="orders-list-info-elem"> Счет отсутвует </div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div><div class="orders-list-info-elem"></div>',7),se=[de],ue={key:0,class:"orders-list-row orders-list-main-row"},me={class:"order-info"},be={key:0},Oe=Object(a["createTextVNode"])("Заявок не найдено. Создайте "),pe=Object(a["createTextVNode"])("новую заявку"),fe=Object(a["createTextVNode"])(" и она появится в списке."),je={key:1},ve=Object(a["createTextVNode"])(" Создайте "),he=Object(a["createTextVNode"])("новый заказ"),ge=Object(a["createTextVNode"])(" для того чтобы создать заявку на его отгрузку.");function Ve(e,t){var r=Object(a["resolveComponent"])("modal-input"),n=Object(a["resolveComponent"])("preloader-local"),o=Object(a["resolveComponent"])("PreloaderLocal"),c=Object(a["resolveComponent"])("router-link"),l=Object(a["resolveComponent"])("OrderDetailModal"),i=Object(a["resolveComponent"])("ShipmentDetailModal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",g,[Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])(e.data_filtred.length!=e.data.length?"visibility: visible":"visibility: hidden"),class:"orders-heading-info"}," Показано "+Object(a["toDisplayString"])(e.data_filtred.length)+" из "+Object(a["toDisplayString"])(e.data.length),5),Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("div",E,[k,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem"+(""!=e.search.search&&1==e.search.id?" active":"")+(""!=e.filter[1].value?" active":""))},[Object(a["createVNode"])(r,{modelValue:e.filter[1].value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filter[1].value=t}),show:e.filter[1].show,"onUpdate:show":t[1]||(t[1]=function(t){return e.filter[1].show=t})},null,8,["modelValue","show"]),N,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem-filter"+(e.filter[1].show||""!=e.filter[1].value?" active":"")),title:"Фильтр",onClick:t[2]||(t[2]=function(t){return e.filter[1].show=!0})},y,2)],2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem"+(""!=e.contrAgent?" active":""))},"Контрагент",2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem"+(""!=e.search.search&&2==e.search.id?" active":""))},"Желаемая дата",2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem"+(""!=e.search.search&&3==e.search.id?" active":"")),style:{"justify-content":"space-around"}},"Номер заказа",2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem"+("Все"!=e.period?" active":""))},"Дата отгрузки",2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-elem"+("Все"!=e.status?" active":""))},"Статус",2),w]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.data_filtred,(function(r,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:c,class:Object(a["normalizeClass"])("orders-list-item"+(c==e.active?" active":""))},[Object(a["createElementVNode"])("div",{class:"orders-list-row orders-list-main-row",onClick:function(t){c===e.active?e.active=-1:e.active=c,e.active_more=-1}},[Object(a["createElementVNode"])("div",S,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(c+1)+" ",1),x]),Object(a["createElementVNode"])("div",D," Заявка № "+Object(a["toDisplayString"])(r.bitrix_id)+" от "+Object(a["toDisplayString"])(r.date_create.substring(0,10)),1),Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("span",{innerHTML:r.partner_name},null,8,T)]),Object(a["createElementVNode"])("div",I,Object(a["toDisplayString"])(r.date),1),Object(a["createElementVNode"])("div",L,Object(a["toDisplayString"])(r.order?r.order.n:""),1),U,M,Object(a["createElementVNode"])("div",A,[Object(a["createElementVNode"])("button",{class:"orders-list-more",onClick:Object(a["withModifiers"])((function(t){return e.active_more=c}),["stop"])},"Подробно",8,P),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-more-dropdown"+(c==e.active_more?" active":""))},[Object(a["createElementVNode"])("a",{class:"orders-list-more-dropdown-link",onClick:Object(a["withModifiers"])((function(t){e.detailOrderId=r.order.n,e.showDetailOrder=!0,e.repeatOrder=!0}),["stop"])},"Повторить заказ",8,R),Object(a["createElementVNode"])("a",{class:"orders-list-more-dropdown-link",onClick:Object(a["withModifiers"])((function(t){e.detailOrderId=r.order.n,e.showDetailOrder=!0}),["stop"])},"Детали заказа",8,z),Object(a["createElementVNode"])("a",{class:"orders-list-more-dropdown-link",onClick:Object(a["withModifiers"])((function(t){e.detailShipmentId=c,e.showDetailShipment=!0}),["stop"])},"Заявка на отгрузку",8,F),G],2)])],8,B),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("orders-list-info"+(c==e.active?" active":"")),onClick:t[3]||(t[3]=function(t){return e.active_more=-1})},[r.order&&Array.isArray(r.order.checks)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.order.checks,(function(t,c){var l,i,d,s;return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"orders-list-info-row",key:c},[Object(a["createElementVNode"])("div",H,Object(a["toDisplayString"])(e.getStorageName(r.partner_guid,t.organization_id)),1),Object(a["createElementVNode"])("div",q,[t.status>=2?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",J,[Object(a["createElementVNode"])("div",{class:"orders-list-info-download",onClick:function(r){return e.downloadBill(t.guid)}},[Object(a["createElementVNode"])("span",null," Счёт от "+Object(a["toDisplayString"])(r.order.date.substring(0,10)),1),e.loading_bill.includes(r.guid)?(Object(a["openBlock"])(),Object(a["createBlock"])(n,{key:0,small:""})):Object(a["createCommentVNode"])("",!0)],8,Y),K])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Z,[Object(a["createElementVNode"])("div",Q," Счёт от "+Object(a["toDisplayString"])(r.order.date.substring(0,10)),1),W]))]),t.doc_status?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ee,[null!==(l=t.doc_status)&&void 0!==l&&l.StatusSchet&&t.status>=2?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,class:"orders-list-info-doc sc",href:"http://89.111.136.61/api/order/print?id=".concat(t.guid,"&name=Счет"),target:"_blank",title:"Открыть счет"},null,8,te)):Object(a["createCommentVNode"])("",!0),null!==(i=t.doc_status)&&void 0!==i&&i.StatusUPD?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:1,class:"orders-list-info-doc upd",href:"http://89.111.136.61/api/order/print?id=".concat(t.guid,"&name=УПД"),target:"_blank",title:"Универсальный передаточный документ"},null,8,re)):Object(a["createCommentVNode"])("",!0),null!==(d=t.doc_status)&&void 0!==d&&d.StatusSF?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:2,class:"orders-list-info-doc sf",href:"http://89.111.136.61/api/order/print?id=".concat(t.guid,"&name=СФ"),target:"_blank",title:"Счёт-фактура"},null,8,ae)):Object(a["createCommentVNode"])("",!0),null!==(s=t.doc_status)&&void 0!==s&&s.StatusUPK?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:3,class:"orders-list-info-doc kor",href:"http://89.111.136.61/api/order/print?id=".concat(t.guid,"&name=УКД"),target:"_blank",title:"Универсальный корректировочный документ"},null,8,ne)):Object(a["createCommentVNode"])("",!0)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",X,[Object(a["createVNode"])(o,{small:""})])),oe,Object(a["createElementVNode"])("div",ce,Object(a["toDisplayString"])(e.OrdersSatusCode[t.status+1]?e.OrdersSatusCode[t.status+1].name:""),1),Object(a["createElementVNode"])("div",le,Object(a["toDisplayString"])(r.case),1)])})),128))])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ie,se))],2)],2)})),128)),0!=e.data.length||e.loading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ue,[Object(a["createElementVNode"])("div",me,[e.isOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",be,[Oe,Object(a["createVNode"])(c,{tag:"a",class:"order-info-link",to:"/shipments/request"},{default:Object(a["withCtx"])((function(){return[pe]})),_:1}),fe])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",je,[ve,Object(a["createVNode"])(c,{tag:"a",class:"order-info-link",to:"/order"},{default:Object(a["withCtx"])((function(){return[he]})),_:1}),ge]))])]))],512),e.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(o,{key:0,style:{width:"100%"}})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(l,{modelValue:e.showDetailOrder,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.showDetailOrder=t}),orderId:e.detailOrderId,repeatOrder:e.repeatOrder,"onUpdate:repeatOrder":t[5]||(t[5]=function(t){return e.repeatOrder=t})},null,8,["modelValue","orderId","repeatOrder"]),Object(a["createVNode"])(i,{modelValue:e.showDetailShipment,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.showDetailShipment=t}),data:e.data[e.detailShipmentId]},null,8,["modelValue","data"])])}r("d81d"),r("3ca3"),r("ddb0"),r("99af"),r("1276"),r("7db0"),r("5319");var Ee=r("6888"),ke=r("a25e"),Ne=r("dde0"),Ce={key:0,class:"order-modal"},ye={class:"order-modal-content draft"},we={class:"order-modal-header"},Be=Object(a["createElementVNode"])("h3",{class:"order-modal-header-title"},"Детали заявки на отгрузку",-1),Se={class:"order-modal-body draft"},xe=Object(a["createElementVNode"])("br",null,null,-1),De=Object(a["createElementVNode"])("br",null,null,-1),_e={class:"nav-tab"},Te=Object(a["createElementVNode"])("span",null,"Вид отгрузки:",-1),Ie={class:"nav-tab-wrap",style:{"justify-content":"space-around"}},Le=Object(a["createElementVNode"])("div",{class:"gradient-btn-text"},"Самовывоз",-1),Ue=[Le],Me=Object(a["createElementVNode"])("div",{class:"gradient-btn-text"},"Доставка",-1),Ae=[Me],Pe=Object(a["createElementVNode"])("div",{class:"gradient-btn-text"},"До транспортной",-1),Re=[Pe],ze={key:0,class:""},Fe={class:"shipment-form-item"},Ge=Object(a["createElementVNode"])("div",{class:"shipment-form-elem-title"},[Object(a["createElementVNode"])("span",null,"Представление")],-1),$e={class:"shipment-form-info shipment-form-info-text"},He=["innerHTML"],qe=Object(a["createElementVNode"])("div",{class:"order-modal-action"},null,-1);function Je(e,t){var r=Object(a["resolveComponent"])("DeleteButton");return e.modelValue?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ce,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("order-modal-dialog draft"+(e.shake?" shake":"")),ref:"targetModal"},[Object(a["createElementVNode"])("div",ye,[Object(a["createElementVNode"])("div",we,[Be,Object(a["createVNode"])(r,{onOnClick:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",!1)})})]),Object(a["createElementVNode"])("div",Se,[Object(a["createTextVNode"])(" Заявка № "+Object(a["toDisplayString"])(e.data.bitrix_id)+" от "+Object(a["toDisplayString"])(e.data.date_create.substring(0,10))+" ",1),xe,De,Object(a["createElementVNode"])("div",_e,[Te,Object(a["createElementVNode"])("div",Ie,[Object(a["createElementVNode"])("a",{class:Object(a["normalizeClass"])("nav-tab-elem gradient-btn"+("Самовывоз"==e.data.case?" active":""))},Ue,2),Object(a["createElementVNode"])("a",{class:Object(a["normalizeClass"])("nav-tab-elem gradient-btn"+("Доставка"==e.data.case?" active":""))},Ae,2),Object(a["createElementVNode"])("a",{class:Object(a["normalizeClass"])("nav-tab-elem gradient-btn"+("До транспортной"==e.data.case?" active":""))},Re,2)])]),e.data?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ze,[Object(a["createElementVNode"])("div",Fe,[Ge,Object(a["createElementVNode"])("div",$e,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.view_message,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("p",{key:t},[Object(a["createElementVNode"])("span",{innerHTML:e},null,8,He)])})),128))])])])):Object(a["createCommentVNode"])("",!0)]),qe])],2)])):Object(a["createCommentVNode"])("",!0)}var Ye=r("1e3a"),Ke=r("2c28"),Ze=Object(a["defineComponent"])({name:"ShipmentDetailModal",components:{DeleteButton:Ye["a"]},props:{modelValue:{type:Boolean,required:!0},data:{type:Object}},emits:["update:modelValue"],setup:function(e){var t=Object(a["ref"])(null),r=Object(a["ref"])(!1);Object(Ke["onClickOutside"])(t,(function(){r.value=!0,setTimeout((function(){r.value=!1}),500)}));var n=Object(a["computed"])((function(){var t,r,a,n,o,c,l,i=[];return i.push(null!==(t=e.data)&&void 0!==t&&t.order?e.data.order.name:""),i.push("Контрагент: "+(null===(r=e.data)||void 0===r?void 0:r.partner_name)),i.push("Желаемая дата отгрузки: "+(null===(a=e.data)||void 0===a?void 0:a.date)),"До транспортной"==(null===(n=e.data)||void 0===n?void 0:n.case)&&("2"==e.data.carriers&&i.push("Транспортная компания: ПЭК"),"3"==e.data.carriers&&i.push("Транспортная компания: Деловые линии"),"4"==e.data.carriers&&i.push("Транспортная компания: Байкал"),"1"==e.data.carriers&&i.push("Транспортная компания: Другая"),"1"==e.data.carriers&&i.push("Адрес ТК: ".concat(e.data.address)),i.push(String(e.data.extra))),"Самовывоз"==(null===(o=e.data)||void 0===o?void 0:o.case)&&i.push("Адрес самовывоза: ".concat(e.data.address)),"Доставка"==(null===(c=e.data)||void 0===c?void 0:c.case)&&i.push("Адрес доставки: ".concat(e.data.address)),i.push("Комментрий: "+(null===(l=e.data)||void 0===l?void 0:l.comment)),i}));return{targetModal:t,shake:r,view_message:n}}}),Qe=r("6b0d"),We=r.n(Qe);const Xe=We()(Ze,[["render",Je]]);var et=Xe,tt=r("5502"),rt=r("0613"),at=r("cd15"),nt=r("43d2"),ot=r("ae0a"),ct=r("649f"),lt=Object(a["defineComponent"])({props:{data:{type:Array,required:!0},contrAgent:{type:String},period:{type:String},status:{type:String},loading:{type:Boolean,default:!1},search:{type:Object,required:!0}},components:{PreloaderLocal:Ee["a"],OrderDetailModal:ke["a"],ShipmentDetailModal:et,ModalInput:Ne["a"]},setup:function(e){var t=Object(tt["b"])(rt["a"]),r=Object(a["ref"])(-1),n=Object(a["ref"])(-1),o=Object(a["ref"])(null),c=Object(a["ref"])([]),l=Object(a["ref"])(-1),i=Object(a["ref"])(!1),d=Object(a["ref"])(!1),s=Object(a["ref"])(-1),u=Object(a["ref"])(!1),m=Object(a["ref"])([{name:"id",value:"",show:!1},{name:"name",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1},{name:"id",value:"",show:!1}]);Object(Ke["onClickOutside"])(o,(function(){n.value=-1})),Object(a["watch"])(r,(function(){var e;if(-1!=r.value&&b.value&&Array.isArray(null===(e=b.value[r.value].order)||void 0===e?void 0:e.checks)){var a,n,o=null===(a=b.value[r.value].order)||void 0===a||null===(n=a.checks)||void 0===n?void 0:n.map((function(e){if(!e.doc_status)return t.dispatch(nt["a"].GET_ORDERS_DOCSTATUS,e.guid)}));o&&Promise.all(o).finally((function(){}))}})),Object(a["watch"])((function(){return e.status}),(function(){r.value=-1})),Object(a["watch"])((function(){return e.contrAgent}),(function(){r.value=-1})),Object(a["watch"])((function(){return e.search}),(function(){r.value=-1})),Object(a["watch"])((function(){return e.period}),(function(){r.value=-1}));var b=Object(a["computed"])((function(){var t=e.data.filter((function(t){return""==e.contrAgent||t.partner_guid==e.contrAgent}));return t=t.filter((function(e){return p(e.date)})),t=t.filter((function(e){return f(e)})),t=t.filter((function(e){return O(e)})),""!=m.value[1].value&&(t=t.filter((function(e){return-1!="Заявка № ".concat(e.bitrix_id," от ").concat(e.date_create.substring(0,10)).indexOf(m.value[1].value)}))),t})),O=function(t){if(""==e.search.search)return!0;switch(e.search.id){case 1:return-1!="Заявка № ".concat(t.bitrix_id," от ").concat(t.date_create.substring(0,10)).toUpperCase().indexOf(e.search.search.toUpperCase());case 2:return-1!=t.date.toUpperCase().indexOf(e.search.search.toUpperCase());case 3:return!!t.order&&-1!=String(t.order.n).toUpperCase().indexOf(e.search.search.toUpperCase());default:return!0}},p=function(t){if("Все"==e.period)return!0;var r,a=null===(r=e.period)||void 0===r?void 0:r.split(" - ")[0],n=null===a||void 0===a?void 0:a.substring(6,10),o=null===a||void 0===a?void 0:a.substring(3,5);return n==t.substring(6,10)&&o==t.substring(3,5)},f=function(e){return e},j=function(e){c.value.push(e),t.dispatch(at["a"].GET_BILL_FILE_SAVE,e).finally((function(){c.value=c.value.filter((function(t){return t!==e}))}))},v=function(e,r){var a=t.getters.getCompanyStoragesData(e),n=a.find((function(e){return e.guid==r}));return n?n.name.replace(/(^|\s)\S/g,(function(e){return e.toUpperCase()})).replace(/(ООО)|(")|(\s)|([а-я])/g,""):"Склад"},h=function(e){t.commit(ct["a"].SET_CURRENT_ORDER,e)},g=function(e){var t=!1;return""!=m.value[1].value?-1!=e.title.indexOf(m.value[1].value)&&(t=!0):t=!0,t};return{target:o,active:r,active_more:n,loading_bill:c,showDetailOrder:i,detailOrderId:l,repeatOrder:d,OrdersSatusCode:ot["a"],filter:m,detailShipmentId:s,showDetailShipment:u,data_filtred:b,isOrders:Object(a["computed"])((function(){return t.getters.isOrders})),checkStatus:f,downloadBill:j,getStorageName:v,setOrderId:h,filtred:g}}});const it=We()(lt,[["render",Ve]]);var dt=it,st=r("e3c4"),ut=r("5937"),mt=Object(a["defineComponent"])({components:{PersonalBar:p["a"],Notification:f["a"],CompanyBarTop:j["a"],TopNav:v["a"],SelectInput:h["a"],ShipmentsListCard:dt},setup:function(){var e=Object(tt["b"])(rt["a"]),t=Object(a["ref"])(!0),r=Object(a["ref"])(""),n=Object(a["ref"])(0),o=Object(a["ref"])(0),c=Object(a["ref"])({id:1,search:""}),l=[{id:1,name:"Наименование"},{id:2,name:"Желаемая дата"},{id:3,name:"Номер заказа"}];return Object(a["onMounted"])((function(){e.dispatch(nt["a"].GET_ORDERS).finally((function(){e.dispatch(ut["a"].GET_SHIPMENTS).finally((function(){t.value=!1}))})),e.getters.isCompanysLoad||e.dispatch(st["a"].GET_COMPANYS)})),{filterCompanyUid:r,filterPeriod:n,OrdersSatusCode:ot["a"],filterStatus:o,search:c,loading:t,searchColumn:l,companyBarTopData:Object(a["computed"])((function(){return e.getters.getCompanysList})),filterCompanyData:Object(a["computed"])((function(){return e.getters.getCompanysListInput})),filterPeriodData:Object(a["computed"])((function(){return e.getters.getOrdersDataPeriodArray})),shipmentsList:Object(a["computed"])((function(){return e.getters.getShipments})),isOrders:Object(a["computed"])((function(){return e.getters.isOrders}))}}});const bt=We()(mt,[["render",O]]);t["default"]=bt},a25e:function(e,t,r){"use strict";r("b0c0");var a=r("7a23"),n={key:0,class:"order-modal"},o={class:"order-modal-content draft"},c={class:"order-modal-header"},l=Object(a["createElementVNode"])("h3",{class:"order-modal-header-title"},"Детали заказа ",-1),i={class:"order-modal-body draft"},d=Object(a["createElementVNode"])("br",null,null,-1),s=Object(a["createElementVNode"])("br",null,null,-1),u={key:0,style:{display:"flex","justify-content":"center"}},m={key:0},b={key:0,class:"shipment-address-list-row-info"},O=Object(a["createElementVNode"])("div",null,"Использовать позиции заказа для оформления нового заказа?",-1),p={key:1,class:"order-modal-action"};function f(e,t,r,f,j,v){var h=Object(a["resolveComponent"])("DeleteButton"),g=Object(a["resolveComponent"])("PreloaderLocal"),V=Object(a["resolveComponent"])("OrderDraftCard");return e.modelValue?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])("order-modal-dialog draft"+(e.shake?" shake":"")),ref:"targetModal"},[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",c,[l,Object(a["createVNode"])(h,{onOnClick:t[0]||(t[0]=function(t){return e.close()})})]),Object(a["createElementVNode"])("div",i,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.order.name)+" ",1),d,s,e.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",u,[Object(a["createVNode"])(g)])):(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:1,data:e.order_detail},null,8,["data"]))])]),e.loading||0==e.order_detail.id?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",m,[e.repeatOrder?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",b,[O,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("a",{href:"#",onClick:t[1]||(t[1]=function(t){return e.setOrder()})},"Да"),Object(a["createElementVNode"])("a",{href:"#",onClick:t[2]||(t[2]=function(t){return e.$emit("update:repeatOrder",!1)})},"Нет")])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[Object(a["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("update:repeatOrder",!0)}),class:"order-list-btn"},"Повторить заказ")]))]))],2)])):Object(a["createCommentVNode"])("",!0)}var j=r("1da1"),v=(r("96cf"),r("a9e3"),r("d3b7"),r("1e3a")),h=r("6888"),g=r("faa6"),V=r("5502"),E=r("2c28"),k=r("0613"),N=r("cd15"),C=r("6c02"),y=r("7ec4"),w=Object(a["defineComponent"])({name:"OrderDetailModal",components:{DeleteButton:v["a"],PreloaderLocal:h["a"],OrderDraftCard:g["a"]},props:{modelValue:{type:Boolean},orderId:{type:Number,default:-1},repeatOrder:{type:Boolean,default:!1}},emits:["update:modelValue","update:repeatOrder"],setup:function(e,t){var r=t.emit,n=Object(V["b"])(k["a"]),o=Object(C["c"])(),c=Object(a["ref"])(!1),l=Object(a["ref"])(null),i=Object(a["ref"])(!1),d=Object(a["ref"])(!1);Object(E["onClickOutside"])(l,(function(){c.value=!0,setTimeout((function(){c.value=!1}),500)}));var s=function(){r("update:repeatOrder",!1),r("update:modelValue",!1)};Object(a["watch"])((function(){return e.orderId}),(function(){-1!=e.orderId&&(i.value=!0,n.dispatch(N["a"].GET_ORDER_DETAIL,e.orderId).finally((function(){i.value=!1})))}));var u=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.commit(y["a"].CREATE_ORDER_FROM_DETAIL);case 2:o.push({name:"Order"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{shake:c,targetModal:l,loading:i,useRepeat:d,order_detail:Object(a["computed"])((function(){return n.getters.getOrderDetail})),order:Object(a["computed"])((function(){return n.getters.getOrdersByID(e.orderId)})),close:s,setOrder:u}}}),B=r("6b0d"),S=r.n(B);const x=S()(w,[["render",f]]);t["a"]=x},ab13:function(e,t,r){var a=r("b622"),n=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(a){}}return!1}},ae0a:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=[{id:0,name:"Все"},{id:1,name:"Создан."},{id:2,name:"В ожидании."},{id:3,name:"Подтвержден."},{id:4,name:"Передан на склад."},{id:5,name:"Собран."},{id:6,name:"Отгружен."}]},caad:function(e,t,r){"use strict";var a=r("23e7"),n=r("4d64").includes,o=r("d039"),c=r("44d2"),l=o((function(){return!Array(1).includes()}));a({target:"Array",proto:!0,forced:l},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},dde0:function(e,t,r){"use strict";var a=r("7a23"),n={class:"modal-input",ref:"target"},o=["value"];function c(e,t,r,c,l,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])("modal-input-wrap"+(e.show?" show":"")),ref:"target"},[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])("modal-input-text"+(e.show?" show":"")),type:"text",ref:"searchInput",value:e.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,42,o)],512),Object(a["createElementVNode"])("div",{class:"product-search-clear",onClick:t[1]||(t[1]=function(t){return""==e.modelValue?e.$emit("update:show",!1):e.$emit("update:modelValue","")})})],2)}var l=r("2c28"),i=Object(a["defineComponent"])({props:{show:{type:Boolean,default:!0},modelValue:{type:String,default:""}},emits:["update:modelValue","update:show","onInput"],setup:function(e,t){var r=t.emit,n=Object(a["ref"])(null),o=Object(a["ref"])(null);return Object(l["onClickOutside"])(n,(function(){r("update:show",!1)})),Object(a["watch"])((function(){return e.show}),(function(){Object(a["nextTick"])((function(){setTimeout((function(){o.value.focus()}),500)}))})),{target:n,searchInput:o}}}),d=r("6b0d"),s=r.n(d);const u=s()(i,[["render",c]]);t["a"]=u}}]);
//# sourceMappingURL=chunk-e71a2066.98f8b1b6.js.map