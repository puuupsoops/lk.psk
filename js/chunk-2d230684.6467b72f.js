(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230684"],{ebc4:function(e,t,c){"use strict";c.r(t);var r=c("7a23"),o={class:"top-line product-page"},l={key:0,class:"order-info"},n=Object(r["createTextVNode"])(" Для оформления заказа выберите товар в "),a=Object(r["createTextVNode"])("каталоге"),d=Object(r["createTextVNode"])(" или воспользуйтесь "),i=Object(r["createTextVNode"])("поиском"),s=Object(r["createTextVNode"])(". "),u={key:1},m={class:"content-wrap content-product-wrap"},O={class:"content-wrap-elem"},b={class:"content-wrap-elem"},j={key:3,class:"content-heading-wrap proudct-heading-wrap"},p={key:0,class:"content-heading-wrap-elem"},v=Object(r["createElementVNode"])("div",{class:"order-info"},"Добавьте позиции к заказу и тогда он будет сформирован",-1),f=[v],E={class:"content-wrap-elem"},C={key:0,class:"content-wrap-elem"};function V(e,t){var c=Object(r["resolveComponent"])("CompanyBarTop"),v=Object(r["resolveComponent"])("Notification"),V=Object(r["resolveComponent"])("PersonalBar"),k=Object(r["resolveComponent"])("top-nav"),N=Object(r["resolveComponent"])("router-link"),h=Object(r["resolveComponent"])("OrderProductSearchInput"),g=Object(r["resolveComponent"])("ProductHeaderCard"),B=Object(r["resolveComponent"])("ProductSearchResultCard"),A=Object(r["resolveComponent"])("ProductOffersOrderCard"),D=Object(r["resolveComponent"])("OrderHeaderCard"),y=Object(r["resolveComponent"])("OrderCard"),w=Object(r["resolveComponent"])("ProductSliderSmallCard"),S=Object(r["resolveComponent"])("OrderModal"),I=Object(r["resolveComponent"])("SnackBar"),R=Object(r["resolveComponent"])("OrderDraftModal");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("div",o,[Object(r["createVNode"])(c,{data:e.companyBarTopData,modelValue:e.activeCompanyUid,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.activeCompanyUid=t})},null,8,["data","modelValue"]),Object(r["createVNode"])(v),Object(r["createVNode"])(V)]),Object(r["createVNode"])(k,{toDraft:"",draft:e.getOrderDraftCount,onOnClick:t[1]||(t[1]=function(t){return e.showDraft=!0})},null,8,["draft"]),e.isProduct?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",u,[Object(r["createVNode"])(h,{modelValue:e.productSearch,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.productSearch=t})},null,8,["modelValue"]),Object(r["createVNode"])(g,{title:String(e.product.NAME),price:String(e.product.PRICE),discount:e.discount,status:String(e.product.STATUS),onShowSearch:t[3]||(t[3]=function(t){return e.productSearch=!e.productSearch})},null,8,["title","price","discount","status"]),Object(r["createElementVNode"])("div",m,[Object(r["createElementVNode"])("div",O,[Object(r["createVNode"])(B,{data:e.productFound,cardType:"order",modelValue:e.activeProductId,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.activeProductId=t}),onOnClick:t[5]||(t[5]=function(t){return e.loadProduct()}),onShowSearch:t[6]||(t[6]=function(t){return e.productSearch=!e.productSearch})},null,8,["data","modelValue"])]),Object(r["createElementVNode"])("div",b,[Object(r["createVNode"])(A,{data:e.productOffers,modelValue:e.productItems,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.productItems=t}),onOnClick:t[8]||(t[8]=function(t){return e.addToOrder()})},null,8,["data","modelValue"])])])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",l,[n,Object(r["createVNode"])(N,{tag:"a",to:"/catalog",class:"order-info-link"},{default:Object(r["withCtx"])((function(){return[a]})),_:1}),d,Object(r["createVNode"])(N,{tag:"a",to:"/product",class:"order-info-link"},{default:Object(r["withCtx"])((function(){return[i]})),_:1}),s])),e.isOrder?(Object(r["openBlock"])(),Object(r["createBlock"])(D,{key:2,data:e.order},null,8,["data"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",j,[e.isProduct?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",p,f)):Object(r["createCommentVNode"])("",!0)])),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(e.isProduct?"content-wrap content-order-wrap":"")},[Object(r["createElementVNode"])("div",E,[e.isOrder?(Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:0,data:e.order,companys:e.companyBarTopData,modelValue:e.activeCompanyUid,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.activeCompanyUid=t}),onOnClick:e.addOrder},null,8,["data","companys","modelValue","onOnClick"])):Object(r["createCommentVNode"])("",!0)]),e.isProduct?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",C,[Object(r["createVNode"])(w,{data:e.productImages},null,8,["data"])])):Object(r["createCommentVNode"])("",!0)],2),Object(r["createVNode"])(S,{modelValue:e.showModal,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.showModal=t})},null,8,["modelValue"]),Object(r["createVNode"])(I,{modelValue:e.error,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.error=t}),message:e.errorMsg},null,8,["modelValue","message"]),Object(r["createVNode"])(R,{modelValue:e.showDraft,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.showDraft=t})},null,8,["modelValue"])])}c("d3b7");var k=c("1e34"),N=c("c6d3"),h=c("0169"),g=c("3d45"),B=c("6797"),A=c("833f"),D=(c("b0c0"),{class:"product-search-input-container"}),y={class:"product-search-input options"},w={key:0},S={key:1},I={class:"article"},R=Object(r["createTextVNode"])(),L={class:"name"},x={key:0},T={key:1};function P(e,t,c,o,l,n){var a=Object(r["resolveComponent"])("PreloaderLocal"),d=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])("product-search fullwidth"+(e.modelValue?"":" none")),ref:"target"},[Object(r["createElementVNode"])("div",D,[Object(r["createElementVNode"])("div",y,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",placeholder:"Поиск",autocomplete:"off",onKeyup:t[0]||(t[0]=function(t){return e.doSearch()}),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.search_str=t}),ref:"searchInput"},null,544),[[r["vModelText"],e.search_str]]),e.loading?(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:0,small:""})):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",{class:"product-search-clear",onClick:t[2]||(t[2]=function(t){return e.close()})})]),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])("product-search-input-options"+(""==e.search_str||0==e.articles.length?" default":""))},[""==e.search_str?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",w,"Чтобы добавить в заказ новый продукт - начните ввод для поиска продукта")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",S,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.articles,(function(c,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("p",{key:o,class:Object(r["normalizeClass"])("product-search-input-options-item"+(e.loading?" loading":""))},[Object(r["createVNode"])(d,{tag:"a",onClick:t[3]||(t[3]=function(t){return e.close()}),to:"/order/"+c.article},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",I,Object(r["toDisplayString"])(c.article),1),R,Object(r["createElementVNode"])("div",L,Object(r["toDisplayString"])(c.name),1)]})),_:2},1032,["to"])],2)})),128)),e.loading&&0==e.articles.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",x," Поиск...")):Object(r["createCommentVNode"])("",!0),e.loading||0!=e.articles.length?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",T,"Не найдено"))]))],2)])],2)}var _=c("6888"),M=c("0613"),U=c("4e40"),H=c("7ea8"),F=c("2c28"),z=c("5502"),G=Object(r["defineComponent"])({props:{modelValue:{type:Boolean,required:!0}},components:{PreloaderLocal:_["a"]},setup:function(e,t){var c=t.emit,o=Object(z["b"])(M["a"]),l=Object(r["ref"])(""),n=Object(r["ref"])(!1),a=Object(r["ref"])(void 0),d=Object(r["ref"])(null),i=Object(r["ref"])(null),s=function(){clearTimeout(a.value),n.value=!0,a.value=setTimeout((function(){l.value.length>=2&&o.dispatch(U["a"].SEARCH_PRODUCT_ARTICLE,l.value).then((function(){setTimeout((function(){n.value=!1}),500)}))}),500)},u=function(){l.value="",o.commit(H["a"].SET_PRODUCT_ARTICLS,[]),c("update:modelValue",!1)};return Object(F["onClickOutside"])(d,(function(){u()})),Object(r["watch"])((function(){return e.modelValue}),(function(){Object(r["nextTick"])((function(){i.value.focus()}))})),{search_str:l,loading:n,target:d,searchInput:i,articles:Object(r["computed"])((function(){return o.getters.getProductArticles})),doSearch:s,close:u}}}),Z=c("d959"),$=c.n(Z);const q=$()(G,[["render",P]]);var J=q,Y=(c("a9e3"),{class:"content-elem"}),K={class:"order-amount-table-wrap scroll-elem"},Q={class:"table order-amount-table"},W=Object(r["createStaticVNode"])('<div class="table-row table-heading"><div class="table-elem">Характеристика</div><div class="table-elem">Остаток</div><div class="table-elem">Цена</div><div class="table-elem">Количество</div><div class="table-elem">Пп / Дата</div></div>',1),X={class:"table-wrap"},ee={class:"table-elem"},te=["innerHTML"],ce={class:"table-elem"},re=["innerHTML"],oe={class:"table-elem"},le=["innerHTML"],ne={class:"table-elem"},ae={class:"table-elem"},de={class:"order-amount-more"},ie=Object(r["createElementVNode"])("span",{class:"order-amount-more-text"},"Добавить в заказ ",-1),se={class:"order-amount-more-value"},ue={key:0,class:"order-amount-more-text presail"},me={key:1,class:"order-amount-more-value"};function Oe(e,t){var c=Object(r["resolveComponent"])("AmountInput"),o=Object(r["resolveComponent"])("CheckButton");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Y,[Object(r["createElementVNode"])("div",K,[Object(r["createElementVNode"])("div",Q,[W,Object(r["createElementVNode"])("div",X,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.characteristicArray,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])("table-row"+(t.count>0?" active":"")+(t.count>t.RESIDUE&&0!=t.count?" presail":"")),key:t.ID},[Object(r["createElementVNode"])("div",ee,[Object(r["createElementVNode"])("span",{innerHTML:t.CHARACTERISTIC},null,8,te)]),Object(r["createElementVNode"])("div",ce,[Object(r["createElementVNode"])("span",{innerHTML:t.RESIDUE},null,8,re)]),Object(r["createElementVNode"])("div",oe,[Object(r["createElementVNode"])("span",{innerHTML:Number(t.PRICE).toLocaleString()+" ₽"},null,8,le)]),Object(r["createElementVNode"])("div",ne,[Object(r["createVNode"])(c,{modelValue:t.count,"onUpdate:modelValue":function(e){return t.count=e},onOnInput:function(c){return e.onInput(t)}},null,8,["modelValue","onUpdate:modelValue","onOnInput"]),Object(r["createVNode"])(o,{modelValue:t.check,"onUpdate:modelValue":function(e){return t.check=e},onOnClick:function(c){return e.onCheck(t)}},null,8,["modelValue","onUpdate:modelValue","onOnClick"])]),Object(r["createElementVNode"])("div",ae,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(t.PPDATA),1)])],2)})),128))])])]),Object(r["createElementVNode"])("div",de,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(0!=e.count||0!=e.countPresail?"order-amount-more-btn":"order-amount-more-btn disable"),onClick:t[0]||(t[0]=function(t){return e.addToOrder()})},[ie,Object(r["createElementVNode"])("span",se,"("+Object(r["toDisplayString"])(e.count)+")",1),e.countPresail>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",ue," + предзаказ ")):Object(r["createCommentVNode"])("",!0),e.countPresail>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",me,"("+Object(r["toDisplayString"])(e.countPresail)+")",1)):Object(r["createCommentVNode"])("",!0)],2)])])}c("4de4"),c("7db0"),c("159b"),c("d81d");var be=c("946b"),je=Object(r["createElementVNode"])("svg",{class:"check-btn-img active",viewBox:"0 0 15 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(r["createElementVNode"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7952 0.265077C13.4418 -0.0883587 12.8687 -0.0883589 12.5153 0.265076L5.41912 7.36126L1.54498 3.48711C1.19154 3.13368 0.618512 3.13368 0.265076 3.48711C-0.0883589 3.84055 -0.0883588 4.41358 0.265077 4.76702L4.75226 9.2542C4.88175 9.38369 5.04072 9.46574 5.20757 9.50034C5.50792 9.57832 5.84052 9.49967 6.0758 9.26438L13.7952 1.54498C14.1486 1.19154 14.1486 0.618512 13.7952 0.265077Z",fill:"#C4C4C4"})],-1),pe=[je],ve=Object(r["createElementVNode"])("svg",{class:"check-btn-img",viewBox:"0 0 15 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(r["createElementVNode"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7952 0.265077C13.4418 -0.0883587 12.8687 -0.0883589 12.5153 0.265076L5.41912 7.36126L1.54498 3.48711C1.19154 3.13368 0.618512 3.13368 0.265076 3.48711C-0.0883589 3.84055 -0.0883588 4.41358 0.265077 4.76702L4.75226 9.2542C4.88175 9.38369 5.04072 9.46574 5.20757 9.50034C5.50792 9.57832 5.84052 9.49967 6.0758 9.26438L13.7952 1.54498C14.1486 1.19154 14.1486 0.618512 13.7952 0.265077Z",fill:"#C4C4C4"})],-1),fe=[ve],Ee=Object(r["createElementVNode"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7952 0.265077C13.4418 -0.0883587 12.8687 -0.0883589 12.5153 0.265076L5.41912 7.36126L1.54498 3.48711C1.19154 3.13368 0.618512 3.13368 0.265076 3.48711C-0.0883589 3.84055 -0.0883588 4.41358 0.265077 4.76702L4.75226 9.2542C4.88175 9.38369 5.04072 9.46574 5.20757 9.50034C5.50792 9.57832 5.84052 9.49967 6.0758 9.26438L13.7952 1.54498C14.1486 1.19154 14.1486 0.618512 13.7952 0.265077Z",fill:"#C4C4C4"},null,-1),Ce=[Ee];function Ve(e,t,c,o,l,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[c.t&&!c.f?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,class:"check-btn active",onClick:t[0]||(t[0]=function(t){return e.$emit("onClick",t)})},pe)):Object(r["createCommentVNode"])("",!0),!c.t&&c.f?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:1,class:"check-btn",onClick:t[1]||(t[1]=function(t){return e.$emit("onClick",t)})},fe)):Object(r["createCommentVNode"])("",!0),c.t||c.f?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:2,class:Object(r["normalizeClass"])(o.buttonClass),onClick:t[2]||(t[2]=function(t){e.$emit("update:modelValue",c.disabled?c.modelValue:!c.modelValue),e.$emit("onClick",t)})},[(Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",{class:Object(r["normalizeClass"])(c.modelValue?"check-btn-img active":"check-btn-img"),viewBox:"0 0 15 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ce,2))],2))],64)}var ke={props:{disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},t:{type:Boolean,default:!1},f:{type:Boolean,default:!1}},emits:["update:modelValue","onClick"],setup:function(e){var t=Object(r["computed"])((function(){var t="check-btn";return t+=e.disabled?" disable":"",t+=e.modelValue?" active":"",t}));return{buttonClass:t}}};const Ne=$()(ke,[["render",Ve]]);var he=Ne,ge=Object(r["defineComponent"])({components:{AmountInput:be["a"],CheckButton:he},props:{data:{type:Array,required:!0},modelValue:{type:Array}},emits:["update:modelValue","onClick"],setup:function(e,t){var c=t.emit,o=Object(r["ref"])([]),l=Object(r["computed"])((function(){return o.value.filter((function(e){return e.count>0})).length})),n=Object(r["computed"])((function(){return o.value.filter((function(e){return e.count>e.RESIDUE&&0!=e.count})).length})),a=function(e){if(e.check){var t=o.value.find((function(t){return t.ID==e.ID}));t&&(t.count=1)}else{var c=o.value.find((function(t){return t.ID==e.ID}));c&&(c.count=0)}},d=function(e){if(e.count>0){var t=o.value.find((function(t){return t.ID==e.ID}));t&&(t.check=!0)}else{var c=o.value.find((function(t){return t.ID==e.ID}));c&&(c.check=!1)}},i=function(){if(l.value>0){var e=[];o.value.forEach((function(t){t.count>0&&e.push({ID:t.ID,CHARACTERISTIC:t.CHARACTERISTIC,count:t.count,PRICE:t.PRICE,RESIDUE:t.RESIDUE,GUID:t.GUID,ORGGUID:t.ORGGUID})})),c("update:modelValue",e),c("onClick"),o.value.forEach((function(e){e.count=0,e.check=!1}))}},s=function(){o.value=e.data.map((function(e){return{ID:e.ID,CHARACTERISTIC:e.CHARACTERISTIC,RESIDUE:e.RESIDUE,PRICE:e.PRICE,PPDATA:e.PPDATA,GUID:e.GUID,ORGGUID:e.ORGGUID,count:0,check:!1}}))};return Object(r["onMounted"])((function(){s()})),Object(r["watch"])((function(){return e.data}),(function(){s()})),{onCheck:a,onInput:d,addToOrder:i,count:l,countPresail:n,characteristicArray:o}}});const Be=$()(ge,[["render",Oe]]);var Ae=Be,De={class:"content-elem"},ye={key:0,class:"product-slider-wrap"},we=["src"];function Se(e,t){var c=Object(r["resolveComponent"])("ProductInfoCard"),o=Object(r["resolveComponent"])("ProductSliderFullscreen");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",De,[e.loader?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ye,[Object(r["createElementVNode"])("div",{class:"product-slider-arrow prev",onClick:t[0]||(t[0]=function(){return e.previous&&e.previous.apply(e,arguments)})}),Object(r["createVNode"])(r["TransitionGroup"],{name:"product-slider-horisont-trans",class:"product-slider-horisont",tag:"div"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.slides,(function(c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"product-slider-horisont-slide",key:c.id},[c.src?(Object(r["openBlock"])(),Object(r["createElementBlock"])("img",{key:0,src:c.src,onClick:t[1]||(t[1]=function(t){return e.fullscreen=!0})},null,8,we)):Object(r["createCommentVNode"])("",!0)])})),128))]})),_:1}),Object(r["createElementVNode"])("div",{class:"product-slider-arrow next",onClick:t[2]||(t[2]=function(){return e.next&&e.next.apply(e,arguments)})})])),Object(r["createVNode"])(c,{data:e.product,protect:e.productProtect},null,8,["data","protect"]),Object(r["createVNode"])(o,{modelValue:e.fullscreen,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.fullscreen=t}),data:e.data},null,8,["modelValue","data"])])}c("99af");var Ie=c("649f"),Re=c("fc84"),Le=c("4b57"),xe=Object(r["defineComponent"])({props:{data:{type:Array}},emits:["toOrder"],components:{ProductSliderFullscreen:Re["a"],ProductInfoCard:Le["a"]},setup:function(e){var t,c=Object(r["ref"])([]),o=Object(z["b"])(M["a"]),l=Object(r["computed"])({get:function(){return o.getters.getLoader},set:function(e){return o.commit(Ie["a"].SET_LOADER,e)}}),n=Object(r["ref"])(!1);null===(t=e.data)||void 0===t||t.forEach((function(e,t){return c.value.push({id:t,src:e})})),Object(r["onUpdated"])((function(){var t;c.value=[],null===(t=e.data)||void 0===t||t.forEach((function(e,t){return c.value.push({id:t,src:e})}))}));var a=function(){var e=c.value.shift();c.value=c.value.concat(e)},d=function(){var e=c.value.pop();c.value=[e].concat(c.value)};return{loader:l,slides:c,fullscreen:n,product:Object(r["computed"])((function(){return o.getters.getProduct})),productProtect:Object(r["computed"])((function(){return o.getters.getProductProtect})),next:a,previous:d}}});const Te=$()(xe,[["render",Se]]);var Pe=Te,_e={class:"content-heading-wrap proudct-heading-wrap"},Me={class:"content-heading-wrap-elem"},Ue={class:"content-heading"},He={class:"content-heading-wrap-elem"},Fe={class:"content-heading-price"},ze=Object(r["createElementVNode"])("div",{class:"content-heading-price-text"},"Сумма заказа: ",-1),Ge={class:"content-heading-price-value"},Ze={class:"content-heading-info"},$e={class:"content-heading-info-elem"},qe=Object(r["createElementVNode"])("span",{class:"content-heading-info-text"},"Колечество едениц: ",-1),Je={class:"content-heading-info-value"},Ye={class:"content-heading-info-elem"},Ke=Object(r["createElementVNode"])("span",{class:"content-heading-info-text"},"Общий вес: ",-1),Qe={class:"content-heading-info-value"},We={class:"content-heading-info-elem"},Xe=Object(r["createElementVNode"])("span",{class:"content-heading-info-text"},"Общий объем: ",-1),et={class:"content-heading-info-value"};function tt(e,t,c,o,l,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",_e,[Object(r["createElementVNode"])("div",Me,[Object(r["createElementVNode"])("div",Ue,"Заказ № Новый заказ от "+Object(r["toDisplayString"])(new Date(c.data.id).toLocaleDateString()),1)]),Object(r["createElementVNode"])("div",He,[Object(r["createElementVNode"])("div",Fe,[ze,Object(r["createElementVNode"])("div",Ge,Object(r["toDisplayString"])(Number(c.data.total).toLocaleString())+" ₽",1)])]),Object(r["createElementVNode"])("div",Ze,[Object(r["createElementVNode"])("div",$e,[qe,Object(r["createElementVNode"])("span",Je,Object(r["toDisplayString"])(c.data.total_count),1)]),Object(r["createElementVNode"])("div",Ye,[Ke,Object(r["createElementVNode"])("span",Qe,Object(r["toDisplayString"])(c.data.total_weight)+" кг.",1)]),Object(r["createElementVNode"])("div",We,[Xe,Object(r["createElementVNode"])("span",et,Object(r["toDisplayString"])(c.data.total_valume)+" м.куб.",1)])])])}var ct={props:{data:{type:Object}},setup:function(){}};const rt=$()(ct,[["render",tt]]);var ot=rt,lt=(c("a434"),{class:"order-list content-elem"}),nt={class:"order-list-top"},at={class:"order-list-top-elem"},dt=Object(r["createElementVNode"])("div",{class:"product-search-text"},"Контрагент:",-1),it={class:"order-list-top-elem"},st=Object(r["createElementVNode"])("button",{class:"order-list-btn"},"Добавить печатный каталог",-1),ut=["title"],mt=Object(r["createStaticVNode"])('<svg class="content-heading-btn-img" width="30" height="29" viewBox="0 0 30 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="fill stroke" d="M23.3935 26.1033L23.3938 26.1031C25.1061 24.6558 26.5848 23.406 27.6138 22.1745M23.3935 26.1033L20.9256 14.8664C21.2129 14.4998 21.5321 14.1811 21.8798 13.9144C22.6709 13.3077 23.5695 13 24.5508 13C25.8637 13 27.0713 13.5213 27.9513 14.4679C28.821 15.4035 29.2998 16.6816 29.2998 18.0669C29.2998 19.4928 28.7641 20.798 27.6138 22.1745M23.3935 26.1033C22.8083 26.5978 22.1452 27.1584 21.4569 27.7553C21.2752 27.913 21.0417 28 20.7998 28C20.5578 28 20.3245 27.913 20.1426 27.7551M23.3935 26.1033L20.1426 27.7551M27.6138 22.1745L27.7673 22.3028C27.7673 22.3028 27.7673 22.3028 27.7673 22.3028M27.6138 22.1745L27.7673 22.3028M27.7673 22.3028C26.7272 23.5475 25.2376 24.8066 23.5348 26.2458L23.5226 26.2561L23.5226 26.2561C22.9374 26.7506 22.2752 27.3104 21.588 27.9064L21.4575 27.7561L21.5879 27.9064C21.3696 28.0958 21.0896 28.2 20.7998 28.2C20.5099 28.2 20.2299 28.0958 20.0115 27.9061C19.3259 27.3115 18.6647 26.7527 18.0805 26.2589L18.0789 26.2576L18.079 26.2576L18.0775 26.2563L18.076 26.255L18.0667 26.2472C16.3631 24.8074 14.8728 23.5479 13.8324 22.3029L13.8324 22.3029C12.66 20.8998 12.0998 19.5508 12.0998 18.0669C12.0998 16.6357 12.5949 15.3076 13.5019 14.3318L13.5019 14.3318C14.4205 13.3437 15.6814 12.8 17.0489 12.8C18.075 12.8 19.0163 13.1227 19.8416 13.7557L19.8417 13.7558C20.1907 14.0235 20.5111 14.3407 20.7998 14.703C21.0886 14.3408 21.409 14.0235 21.7581 13.7557C22.5834 13.1227 23.5248 12.8 24.5508 12.8C25.9183 12.8 27.1793 13.3437 28.0978 14.3318L28.0978 14.3318C29.0049 15.3076 29.4998 16.6357 29.4998 18.0669C29.4998 19.5508 28.9397 20.8998 27.7673 22.3028ZM14.906 21.4162L14.906 21.4162C15.8662 22.5653 17.2989 23.7771 18.9807 25.1986C18.9809 25.1988 18.9812 25.199 18.9815 25.1992L18.9829 25.2004L18.9846 25.2018C19.5339 25.6661 20.1528 26.1893 20.7986 26.7476C21.448 26.1882 22.068 25.6641 22.6186 25.199C24.3006 23.7772 25.7334 22.5655 26.6937 21.4162C27.6806 20.2351 28.1041 19.2064 28.1041 18.0669C28.1041 16.9751 27.7341 15.9851 27.0727 15.2735C26.4221 14.5737 25.5279 14.1876 24.5508 14.1876C23.8402 14.1876 23.1891 14.4107 22.6106 14.8543C22.0919 15.2523 21.7269 15.7588 21.5111 16.1175C21.36 16.3685 21.093 16.5186 20.7998 16.5186C20.5066 16.5186 20.2396 16.3685 20.0885 16.1175L20.0885 16.1174C19.8728 15.7588 19.5078 15.2523 18.989 14.8543C18.4105 14.4107 17.7594 14.1876 17.0489 14.1876C16.0718 14.1876 15.1776 14.5736 14.5269 15.2735L14.906 21.4162ZM14.906 21.4162C13.919 20.2351 13.4955 19.2064 13.4955 18.0669C13.4955 16.9751 13.8655 15.9851 14.5269 15.2735L14.906 21.4162ZM20.1426 27.7551C19.4559 27.1595 18.7937 26.5998 18.2096 26.1062L20.1426 27.7551Z" fill="#A5A7A9" stroke="#A5A7A9" stroke-width="0.4"></path><path class="fill" fill-rule="evenodd" clip-rule="evenodd" d="M3 2H18.75C19.3023 2 19.75 2.44772 19.75 3V15H21.75V3C21.75 1.34315 20.4069 0 18.75 0H3C1.34315 0 0 1.34315 0 3V21.8571C0 23.514 1.34315 24.8571 3 24.8571H16.4846C16.1942 24.6822 16 24.3638 16 24V22.8571H3C2.44772 22.8571 2 22.4094 2 21.8571V3C2 2.44772 2.44772 2 3 2Z" fill="#A5A7A9"></path><rect class="fill" x="17.6074" y="5.17871" width="1.7" height="13.4643" rx="0.85" transform="rotate(90 17.6074 5.17871)" fill="#A5A7A9"></rect><rect class="fill" x="10" y="13" width="1.7" height="6" rx="0.85" transform="rotate(90 10 13)" fill="#A5A7A9"></rect><rect class="fill" x="14" y="9" width="1.7" height="10" rx="0.85" transform="rotate(90 14 9)" fill="#A5A7A9"></rect></svg>',1),Ot=[mt],bt={class:"order-list-bottom scroll-elem"},jt={class:"order-list-bottom-wrap"},pt={key:0,class:"order-list-row order-list-heading"},vt=Object(r["createStaticVNode"])('<div class="order-list-elem">№</div><div class="order-list-elem">Наименование</div><div class="order-list-elem">Цена</div><div class="order-list-elem">Кол-во</div><div class="order-list-elem">Стоимость</div><div class="order-list-elem"></div>',6),ft=[vt],Et=["onClick"],Ct={class:"order-list-elem"},Vt=Object(r["createElementVNode"])("div",{class:"table-arrow"},null,-1),kt={class:"order-list-elem"},Nt=["innerHTML"],ht={class:"order-list-elem"},gt={class:"order-list-elem"},Bt={class:"order-list-elem"},At={class:"order-list-elem-delete"},Dt=Object(r["createElementVNode"])("div",{class:"order-list-elem"},null,-1),yt={class:"order-list-elem"},wt={class:"order-list-elem"},St={class:"order-list-elem"},It={class:"order-list-elem"},Rt={class:"order-list-elem-delete"},Lt={key:0,class:"order-list-bottom-wrap"},xt=Object(r["createStaticVNode"])('<div class="order-list-row order-list-subheading"><div>Позиции для предзаказа</div></div><div class="order-list-row order-list-heading"><div class="order-list-elem">№</div><div class="order-list-elem">Наименование</div><div class="order-list-elem">Цена</div><div class="order-list-elem">Кол-во</div><div class="order-list-elem">Стоимость</div><div class="order-list-elem"></div></div>',2),Tt=["onClick"],Pt={class:"order-list-elem"},_t=Object(r["createElementVNode"])("div",{class:"table-arrow"},null,-1),Mt={class:"order-list-elem"},Ut=["innerHTML"],Ht={class:"order-list-elem"},Ft={class:"order-list-elem"},zt={class:"order-list-elem"},Gt={class:"order-list-elem-delete"},Zt=Object(r["createElementVNode"])("div",{class:"order-list-elem"},null,-1),$t={class:"order-list-elem"},qt={class:"order-list-elem"},Jt={class:"order-list-elem"},Yt={class:"order-list-elem"},Kt={class:"order-list-elem-delete"},Qt={class:"order-list-buttons"},Wt=Object(r["createElementVNode"])("div",{class:"gradient-btn-text"},"Оформить заказ",-1),Xt=[Wt];function ec(e,t,c,o,l,n){var a=Object(r["resolveComponent"])("SelectInput"),d=Object(r["resolveComponent"])("DeleteButton"),i=Object(r["resolveComponent"])("AmountInput"),s=Object(r["resolveComponent"])("SnackBar");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",lt,[Object(r["createElementVNode"])("div",nt,[Object(r["createElementVNode"])("div",at,[dt,Object(r["createVNode"])(a,{data:e.companys,error:e.error,modelValue:e.selectCompany,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectCompany=t})},null,8,["data","error","modelValue"])]),Object(r["createElementVNode"])("div",it,[st,Object(r["createElementVNode"])("div",{to:"#",class:Object(r["normalizeClass"])("content-heading-btn"+(e.isOrderInDraft?" active":"")),onClick:t[1]||(t[1]=function(t){return e.addToDraft()}),title:e.isOrderInDraft?"Удалить из черновика":"Сохранить в черновик"},Ot,10,ut)])]),Object(r["createElementVNode"])("div",bt,[Object(r["createElementVNode"])("div",jt,[e.data.position.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",pt,ft)):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data.position,(function(c,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(-1!==e.open.indexOf(o)?"order-list-item active":"order-list-item"),key:o},[Object(r["createElementVNode"])("div",{class:"order-list-row order-list-main-row",onClick:function(t){return-1===e.open.indexOf(o)?e.open.push(o):e.open.splice(e.open.indexOf(o),1)}},[Object(r["createElementVNode"])("div",Ct,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(o+1)+" ",1),Vt]),Object(r["createElementVNode"])("div",kt,[Object(r["createElementVNode"])("span",{innerHTML:c.product.NAME},null,8,Nt)]),Object(r["createElementVNode"])("div",ht,Object(r["toDisplayString"])(Number(c.product.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",gt,Object(r["toDisplayString"])(c.count),1),Object(r["createElementVNode"])("div",Bt,Object(r["toDisplayString"])(Number(c.total).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",At,[Object(r["createVNode"])(d,{onOnClick:function(t){return e.removePosition(!1,c.product.ID)}},null,8,["onOnClick"])])],8,Et),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(-1!==e.open.indexOf(o)?"order-list-sublist active":"order-list-sublist")},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.characteristics,(function(o,l){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:l,class:"order-list-row"},[Dt,Object(r["createElementVNode"])("div",yt,Object(r["toDisplayString"])(o.CHARACTERISTIC),1),Object(r["createElementVNode"])("div",wt,Object(r["toDisplayString"])(Number(o.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",St,[Object(r["createVNode"])(i,{modelValue:o.count,"onUpdate:modelValue":function(e){return o.count=e},min:1,max:o.RESIDUE,onOnInput:t[2]||(t[2]=function(t){return e.updOrder()})},null,8,["modelValue","onUpdate:modelValue","max"])]),Object(r["createElementVNode"])("div",It,Object(r["toDisplayString"])(Number(o.PRICE*o.count).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Rt,[Object(r["createVNode"])(d,{onOnClick:function(t){return e.removeCharacteristic(!1,{product:c.product,characteristics:[o]})}},null,8,["onOnClick"])])])})),128))],2)],2)})),128))]),e.data.position_presail.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Lt,[xt,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data.position_presail,(function(c,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(-1!==e.open_presail.indexOf(o)?"order-list-item active":"order-list-item"),key:o},[Object(r["createElementVNode"])("div",{class:"order-list-row order-list-main-row",onClick:function(t){return-1===e.open_presail.indexOf(o)?e.open_presail.push(o):e.open_presail.splice(e.open_presail.indexOf(o),1)}},[Object(r["createElementVNode"])("div",Pt,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(o+1)+" ",1),_t]),Object(r["createElementVNode"])("div",Mt,[Object(r["createElementVNode"])("span",{innerHTML:c.product.NAME},null,8,Ut)]),Object(r["createElementVNode"])("div",Ht,Object(r["toDisplayString"])(Number(c.product.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Ft,Object(r["toDisplayString"])(c.count),1),Object(r["createElementVNode"])("div",zt,Object(r["toDisplayString"])(Number(c.total).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Gt,[Object(r["createVNode"])(d,{onOnClick:function(t){return e.removePosition(!0,c.product.ID)}},null,8,["onOnClick"])])],8,Tt),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(-1!==e.open_presail.indexOf(o)?"order-list-sublist active":"order-list-sublist")},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.characteristics,(function(o,l){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:l,class:"order-list-row"},[Zt,Object(r["createElementVNode"])("div",$t,Object(r["toDisplayString"])(o.CHARACTERISTIC),1),Object(r["createElementVNode"])("div",qt,Object(r["toDisplayString"])(Number(o.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Jt,[Object(r["createVNode"])(i,{modelValue:o.count,"onUpdate:modelValue":function(e){return o.count=e},min:o.RESIDUE+1,onOnInput:t[3]||(t[3]=function(t){return e.updOrder()})},null,8,["modelValue","onUpdate:modelValue","min"])]),Object(r["createElementVNode"])("div",Yt,Object(r["toDisplayString"])(Number(o.PRICE*o.count).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Kt,[Object(r["createVNode"])(d,{onOnClick:function(t){return e.removeCharacteristic(!0,{product:c.product,characteristics:[o]})}},null,8,["onOnClick"])])])})),128))],2)],2)})),128))])):Object(r["createCommentVNode"])("",!0)])]),Object(r["createElementVNode"])("div",Qt,[Object(r["createElementVNode"])("button",{class:"order-list-submit gradient-btn",onClick:t[4]||(t[4]=function(t){return e.onClick()})},Xt)]),Object(r["createVNode"])(s,{modelValue:e.snack,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.snack=t}),message:e.snackMsg,timeout:2e3,notification:""},null,8,["modelValue","message"])],64)}var tc=c("1e3a"),cc=c("195d"),rc=c("8fcc"),oc=c("7ec4"),lc=c("cd15"),nc=Object(r["defineComponent"])({props:{data:{type:Object},companys:{type:Array},modelValue:{type:String,required:!0}},emits:["update:modelValue","onClick"],components:{AmountInput:be["a"],DeleteButton:tc["a"],SelectInput:cc["a"],SnackBar:rc["a"]},setup:function(e,t){var c=t.emit,o=Object(z["b"])(M["a"]),l=Object(r["ref"])([]),n=Object(r["ref"])([]),a=Object(r["ref"])(!1),d=Object(r["ref"])(!1),i=Object(r["ref"])(""),s=Object(r["computed"])({get:function(){return e.modelValue},set:function(e){return c("update:modelValue",e)}}),u=function(){o.commit(oc["a"].CALC_ORDER)},m=function(e,t){e?o.dispatch(lc["a"].REMOVE_POSITION_PRESAIL,t):o.dispatch(lc["a"].REMOVE_POSITION,t)},O=function(e,t){e?o.dispatch(lc["a"].REMOVE_CHARACTERISTIC_PRESAIL,t):o.dispatch(lc["a"].REMOVE_CHARACTERISTIC,t)},b=function(){""==e.modelValue&&(a.value=!0,setTimeout((function(){a.value=!1}),5e3)),c("onClick")},j=function(){var t;o.getters.isOrderInDraft?(o.commit(oc["a"].DEL_ORDER_FROM_DRAFT,null===(t=e.data)||void 0===t?void 0:t.id),d.value=!0,i.value="Заказ удален из черновика"):(o.commit(oc["a"].ADD_ORDER_TO_DRAFT),d.value=!0,i.value="Заказ добавлен в черновик")};return{updOrder:u,removePosition:m,removeCharacteristic:O,onClick:b,addToDraft:j,isOrderInDraft:Object(r["computed"])((function(){return o.getters.isOrderInDraft})),selectCompany:s,open:l,open_presail:n,error:a,snack:d,snackMsg:i}}});const ac=$()(nc,[["render",ec]]);var dc=ac,ic={key:0,class:"order-modal"},sc={class:"order-modal-content"},uc={class:"order-modal-header"},mc=Object(r["createElementVNode"])("h3",{class:"order-modal-header-title"},"Создание заказа",-1),Oc={class:"order-modal-body"},bc={key:0},jc={key:0},pc=Object(r["createStaticVNode"])('<span class="loading">Ваш заказ регистрируется! <br> Подождите минутку<span>.</span><span>.</span><span>.</span></span><svg width="32" height="28" viewBox="0 0 32 28" fill="none" xmlns="http://www.w3.org/2000/svg"><rect class="fill" x="0.0802612" y="2.04846" width="4.25606" height="2.07613" rx="1.03806" fill="#A5A7A9"></rect><rect class="fill" x="3.9931" y="2" width="17.8806" height="2.07613" rx="1.03806" transform="rotate(69.6255 3.9931 2)" fill="#A5A7A9"></rect><rect class="fill" x="8.38477" y="6.20068" width="16.609" height="2.07613" rx="1.03806" fill="#A5A7A9"></rect><rect class="fill" x="21.0491" y="19.1241" width="13.0871" height="2.07613" rx="1.03806" transform="rotate(-80.9286 21.0491 19.1241)" fill="#A5A7A9"></rect><rect class="fill" x="7.34668" y="17.6194" width="15.8824" height="2.07613" rx="1.03806" fill="#A5A7A9"></rect><rect class="fill" x="6.30865" y="21.7716" width="9.34257" height="2.07613" rx="1.03806" fill="#A5A7A9"></rect><path class="stroke" d="M8.38477 18.6575C6.82768 18.6575 5.78961 18.9374 5.78961 20.7336C5.78961 22.8097 7.34671 22.8097 7.86574 22.8097" stroke="#A5A7A9" stroke-width="2"></path><circle class="stroke" cx="9.42285" cy="24.8858" r="2.11419" stroke="#A5A7A9" stroke-width="2"></circle><circle class="stroke" cx="20.8415" cy="24.8858" r="2.11419" stroke="#A5A7A9" stroke-width="2"></circle><animateTransform attributeName="transform" dur="1s" type="translate" values="0 0; 1 -1; 1 1; 0 0;" repeatCount="indefinite" begin="0.1"></animateTransform></svg>',2),vc=[pc],fc={key:1},Ec={key:1},Cc={class:"order-modal-action"},Vc={key:0,class:"order-list-buttons-wrap"},kc={class:"order-list-buttons-item later"},Nc=Object(r["createElementVNode"])("svg",{class:"order-list-buttons-item-img",width:"32",height:"21",viewBox:"0 0 32 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(r["createElementVNode"])("rect",{class:"fill",x:"2.06573",y:"4.13147",width:"10.3286",height:"2.06571",rx:"1.03286",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",y:"7.74646",width:"10.3286",height:"2.06571",rx:"1.03286",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"2.06573",y:"11.3615",width:"7.23",height:"2.06571",rx:"1.03286",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"3.09857",width:"18.5914",height:"2.06571",rx:"1.03286",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"27.3458",y:"10.0944",width:"8.32268",height:"2.14434",rx:"1.07217",transform:"rotate(-116.966 27.3458 10.0944)",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"29.761",y:"12.6008",width:"6.17839",height:"2.14434",rx:"1.07217",transform:"rotate(-128.694 29.761 12.6008)",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"19.6243",y:"8.26282",width:"9.29572",height:"2.06571",rx:"1.03286",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"21.69",width:"10.3286",height:"2.06571",rx:"1.03286",transform:"rotate(90 21.69 0)",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"25.8214",y:"4.13147",width:"5.16429",height:"2.06571",rx:"1.03286",transform:"rotate(-180 25.8214 4.13147)",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"30.9857",y:"18.5914",width:"5.16429",height:"2.06571",rx:"1.03286",transform:"rotate(-180 30.9857 18.5914)",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"28.92",y:"18.5914",width:"8.26286",height:"2.06571",rx:"1.03286",transform:"rotate(-90 28.92 18.5914)",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"12.3943",y:"16.5258",width:"9.64955",height:"2.14434",rx:"1.07217",fill:"#A5A7A9"}),Object(r["createElementVNode"])("rect",{class:"fill",x:"4.13141",y:"16.5258",width:"5.16429",height:"2.06571",rx:"1.03286",fill:"#A5A7A9"}),Object(r["createElementVNode"])("circle",{class:"stroke",cx:"10.6824",cy:"17.4406",r:"2.21652",stroke:"#A5A7A9","stroke-width":"2"}),Object(r["createElementVNode"])("circle",{class:"stroke",cx:"23.8737",cy:"17.4406",r:"2.21652",stroke:"#A5A7A9","stroke-width":"2"})],-1);function hc(e,t,c,o,l,n){var a=Object(r["resolveComponent"])("DeleteButton"),d=Object(r["resolveComponent"])("Button"),i=Object(r["resolveComponent"])("router-link");return e.modelValue?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ic,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(e.shake?"order-modal-dialog shake":"order-modal-dialog"),ref:"target_modal"},[Object(r["createElementVNode"])("div",sc,[Object(r["createElementVNode"])("div",uc,[mc,Object(r["createVNode"])(a,{onOnClick:t[0]||(t[0]=function(t){return e.close()})})]),Object(r["createElementVNode"])("div",Oc,[e.error?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ec,Object(r["toDisplayString"])(e.errorMsg),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",bc,[e.isAddNewOrder?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",fc,Object(r["toDisplayString"])(e.newOrder.message),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",jc,vc))]))]),Object(r["createElementVNode"])("div",Cc,[e.error?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,name:"Сохранить заказ",onOnClick:t[1]||(t[1]=function(t){return e.close()})})):Object(r["createCommentVNode"])("",!0),e.error?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:1,name:"Новый заказ",onOnClick:t[2]||(t[2]=function(t){return e.delOrder()})})):Object(r["createCommentVNode"])("",!0),e.isAddNewOrder?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:2,name:"Список заказов",onOnClick:t[3]||(t[3]=function(t){return e.toOrders()})})):Object(r["createCommentVNode"])("",!0),e.isAddNewOrder?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:3,name:"Новый заказ",onOnClick:t[4]||(t[4]=function(t){return e.delOrder()})})):Object(r["createCommentVNode"])("",!0)]),e.isAddNewOrder?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Vc,[Object(r["createElementVNode"])("div",kc,[Object(r["createVNode"])(i,{tag:"a",to:"/shipments/request",title:"Заявка на транспорт"},{default:Object(r["withCtx"])((function(){return[Nc]})),_:1})])])):Object(r["createCommentVNode"])("",!0)])],2)])):Object(r["createCommentVNode"])("",!0)}var gc={class:""};function Bc(e,t,c,o,l,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{class:"default-btn",onClick:t[0]||(t[0]=function(t){return e.$emit("onClick")})},[Object(r["createElementVNode"])("div",gc,Object(r["toDisplayString"])(c.name),1)])}var Ac={props:{name:{type:String}},emits:["onClick"],setup:function(){}};const Dc=$()(Ac,[["render",Bc]]);var yc=Dc,wc=c("6c02"),Sc=Object(r["defineComponent"])({components:{Button:yc,DeleteButton:tc["a"]},props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup:function(e,t){var c=t.emit,o=Object(z["b"])(M["a"]),l=Object(wc["c"])(),n=Object(r["ref"])(!1),a=Object(r["ref"])(null);Object(F["onClickOutside"])(a,(function(){n.value=!0,setTimeout((function(){n.value=!1}),500)}));var d=function(){o.commit(oc["a"].CLEAN_ORDER_ERROR),o.commit(oc["a"].CLEAN_ADD_ORDER),c("update:modelValue",!1)},i=function(){o.commit(oc["a"].CLEAN_ORDER),o.commit(oc["a"].CLEAN_ORDER_ERROR),o.commit(oc["a"].CLEAN_ADD_ORDER),c("update:modelValue",!1)},s=function(){o.commit(oc["a"].CLEAN_ORDER),o.commit(oc["a"].CLEAN_ADD_ORDER),c("update:modelValue",!1),l.push({name:"Orders"})};return{close:d,delOrder:i,toOrders:s,shake:n,target_modal:a,error:Object(r["computed"])((function(){return o.getters.getOrderError})),errorMsg:Object(r["computed"])((function(){return o.getters.getOrderErrorMsg})),isAddNewOrder:Object(r["computed"])((function(){return o.getters.isOrderAddNew})),newOrder:Object(r["computed"])((function(){return o.getters.getOrderAddNew}))}}});const Ic=$()(Sc,[["render",hc]]);var Rc=Ic,Lc={key:0,class:"order-modal"},xc={class:"order-modal-content draft"},Tc={class:"order-modal-header"},Pc=Object(r["createElementVNode"])("h3",{class:"order-modal-header-title"},"Черновики",-1),_c={class:"order-modal-body draft"},Mc={key:0},Uc={key:1,class:"shipment-address-list"},Hc={class:"shipment-address-list-wrap"},Fc=["onClick"],zc={class:"shipment-address-list-elem"},Gc={class:"shipment-address-list-elem"},Zc=Object(r["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"30px",viewBox:"0 0 24 24",width:"30px",fill:"#8D8D8D"},[Object(r["createElementVNode"])("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(r["createElementVNode"])("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"})],-1),$c=[Zc],qc={key:0,class:"shipment-address-list-row-info"},Jc=Object(r["createElementVNode"])("div",null,"Удалить черновик?",-1),Yc=["onClick"],Kc={class:"orders-list-info-row draft"},Qc={key:0,class:"shipment-address-list-row-info"},Wc=Object(r["createElementVNode"])("div",null,"Удалить все черновики?",-1),Xc={key:1,class:"shipment-address-list-row-info"},er=Object(r["createElementVNode"])("div",null,"Использовать черновик для продолжения оформления заказа?",-1),tr={key:2,class:"order-modal-action"};function cr(e,t,c,o,l,n){var a=Object(r["resolveComponent"])("DeleteButton"),d=Object(r["resolveComponent"])("OrderDraftCard");return e.modelValue?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Lc,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])("order-modal-dialog draft"+(e.shake?" shake":"")),ref:"targetModal"},[Object(r["createElementVNode"])("div",xc,[Object(r["createElementVNode"])("div",Tc,[Pc,Object(r["createVNode"])(a,{onOnClick:t[0]||(t[0]=function(t){return e.close()})})]),Object(r["createElementVNode"])("div",_c,[0==e.orderDraft.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Mc," Черновики отсутсвуют ")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Uc,[Object(r["createElementVNode"])("div",Hc,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.orderDraft,(function(c,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:o},[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])("shipment-address-list-row"+(c.id==e.active?" active":"")),onClick:function(t){c.id===e.active?e.active=-1:e.active=c.id,e.delAll=!1,e.useDraft=!1}},[Object(r["createElementVNode"])("div",zc,Object(r["toDisplayString"])(o+1),1),Object(r["createElementVNode"])("div",Gc," Создан "+Object(r["toDisplayString"])(new Date(c.id).toLocaleString()),1),c.id==e.active?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:0,class:Object(r["normalizeClass"])("shipment-address-list-elem actions"+(e.delItem?" active":""))},[Object(r["createElementVNode"])("div",{onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(t){e.delItem=!e.delItem,e.delAll=!1,e.useDraft=!1}),["stop"]))},$c)],2)):Object(r["createCommentVNode"])("",!0)],10,Fc),e.delItem&&c.id==e.active?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",qc,[Jc,Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("a",{href:"#",onClick:function(t){return e.del(c.id)}},"Да",8,Yc),Object(r["createElementVNode"])("a",{href:"#",onClick:t[2]||(t[2]=function(t){return e.delItem=!1})},"Нет")])])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])("orders-list-info draft"+(e.delItem||c.id!=e.active?"":" active"))},[Object(r["createElementVNode"])("div",Kc,[Object(r["createVNode"])(d,{data:c},null,8,["data"])])],2)])})),128))])]))])]),e.delAll?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Qc,[Wc,Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("a",{href:"#",onClick:t[3]||(t[3]=function(t){return e.del(-1)})},"Да"),Object(r["createElementVNode"])("a",{href:"#",onClick:t[4]||(t[4]=function(t){return e.delAll=!1})},"Нет")])])):Object(r["createCommentVNode"])("",!0),e.useDraft?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Xc,[er,Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("a",{href:"#",onClick:t[5]||(t[5]=function(t){return e.draftToOrder(e.active)})},"Да"),Object(r["createElementVNode"])("a",{href:"#",onClick:t[6]||(t[6]=function(t){return e.useDraft=!1})},"Нет")])])):Object(r["createCommentVNode"])("",!0),e.delAll||e.useDraft?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",tr,[Object(r["createElementVNode"])("button",{onClick:t[7]||(t[7]=function(t){e.active=-1,e.delAll=!0}),class:"order-list-btn"},"Удалить все черновики"),-1!=e.active?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:t[8]||(t[8]=function(t){return e.useDraft=!0}),class:"order-list-btn"},"Использовать черновик")):Object(r["createCommentVNode"])("",!0)]))],2)])):Object(r["createCommentVNode"])("",!0)}var rr={class:"order-list content-elem"},or={class:"order-list-bottom scroll-elem"},lr={class:"order-list-bottom-wrap"},nr={key:0,class:"order-list-row order-list-heading"},ar=Object(r["createStaticVNode"])('<div class="order-list-elem">№</div><div class="order-list-elem">Наименование</div><div class="order-list-elem">Цена</div><div class="order-list-elem">Кол-во</div><div class="order-list-elem">Стоимость</div><div class="order-list-elem"></div>',6),dr=[ar],ir=["onClick"],sr={class:"order-list-elem"},ur={class:"order-list-elem"},mr=["innerHTML"],Or={class:"order-list-elem"},br={class:"order-list-elem"},jr={class:"order-list-elem"},pr=Object(r["createElementVNode"])("div",{class:"order-list-elem-delete"},null,-1),vr=Object(r["createElementVNode"])("div",{class:"order-list-elem"},null,-1),fr={class:"order-list-elem"},Er={class:"order-list-elem"},Cr={class:"order-list-elem"},Vr={class:"order-list-elem"},kr=Object(r["createElementVNode"])("div",{class:"order-list-elem-delete"},null,-1),Nr={key:0,class:"order-list-bottom-wrap"},hr=Object(r["createStaticVNode"])('<div class="order-list-row order-list-subheading"><div>Позиции для предзаказа</div></div><div class="order-list-row order-list-heading"><div class="order-list-elem">№</div><div class="order-list-elem">Наименование</div><div class="order-list-elem">Цена</div><div class="order-list-elem">Кол-во</div><div class="order-list-elem">Стоимость</div><div class="order-list-elem"></div></div>',2),gr=["onClick"],Br={class:"order-list-elem"},Ar={class:"order-list-elem"},Dr=["innerHTML"],yr={class:"order-list-elem"},wr={class:"order-list-elem"},Sr={class:"order-list-elem"},Ir=Object(r["createElementVNode"])("div",{class:"order-list-elem-delete"},null,-1),Rr=Object(r["createElementVNode"])("div",{class:"order-list-elem"},null,-1),Lr={class:"order-list-elem"},xr={class:"order-list-elem"},Tr={class:"order-list-elem"},Pr={class:"order-list-elem"},_r=Object(r["createElementVNode"])("div",{class:"order-list-elem-delete"},null,-1);function Mr(e,t,c,o,l,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",rr,[Object(r["createElementVNode"])("div",or,[Object(r["createElementVNode"])("div",lr,[e.data.position.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",nr,dr)):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data.position,(function(t,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(-1!==e.open.indexOf(c)?"order-list-item active":"order-list-item"),key:c},[Object(r["createElementVNode"])("div",{class:"order-list-row order-list-main-row",onClick:function(t){return-1===e.open.indexOf(c)?e.open.push(c):e.open.splice(e.open.indexOf(c),1)}},[Object(r["createElementVNode"])("div",sr,Object(r["toDisplayString"])(c+1),1),Object(r["createElementVNode"])("div",ur,[Object(r["createElementVNode"])("span",{innerHTML:t.product.NAME},null,8,mr)]),Object(r["createElementVNode"])("div",Or,Object(r["toDisplayString"])(Number(t.product.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",br,Object(r["toDisplayString"])(t.count),1),Object(r["createElementVNode"])("div",jr,Object(r["toDisplayString"])(Number(t.total).toLocaleString())+" ₽",1),pr],8,ir),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(-1!==e.open.indexOf(c)?"order-list-sublist active":"order-list-sublist")},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t.characteristics,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:t,class:"order-list-row"},[vr,Object(r["createElementVNode"])("div",fr,Object(r["toDisplayString"])(e.CHARACTERISTIC),1),Object(r["createElementVNode"])("div",Er,Object(r["toDisplayString"])(Number(e.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Cr,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.count),1)]),Object(r["createElementVNode"])("div",Vr,Object(r["toDisplayString"])(Number(e.PRICE*e.count).toLocaleString())+" ₽",1),kr])})),128))],2)],2)})),128))]),e.data.position_presail.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Nr,[hr,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data.position_presail,(function(t,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(-1!==e.open_presail.indexOf(c)?"order-list-item active":"order-list-item"),key:c},[Object(r["createElementVNode"])("div",{class:"order-list-row order-list-main-row",onClick:function(t){return-1===e.open_presail.indexOf(c)?e.open_presail.push(c):e.open_presail.splice(e.open_presail.indexOf(c),1)}},[Object(r["createElementVNode"])("div",Br,Object(r["toDisplayString"])(c+1),1),Object(r["createElementVNode"])("div",Ar,[Object(r["createElementVNode"])("span",{innerHTML:t.product.NAME},null,8,Dr)]),Object(r["createElementVNode"])("div",yr,Object(r["toDisplayString"])(Number(t.product.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",wr,Object(r["toDisplayString"])(t.count),1),Object(r["createElementVNode"])("div",Sr,Object(r["toDisplayString"])(Number(t.total).toLocaleString())+" ₽",1),Ir],8,gr),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(-1!==e.open_presail.indexOf(c)?"order-list-sublist active":"order-list-sublist")},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t.characteristics,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:t,class:"order-list-row"},[Rr,Object(r["createElementVNode"])("div",Lr,Object(r["toDisplayString"])(e.CHARACTERISTIC),1),Object(r["createElementVNode"])("div",xr,Object(r["toDisplayString"])(Number(e.PRICE).toLocaleString())+" ₽",1),Object(r["createElementVNode"])("div",Tr,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.count),1)]),Object(r["createElementVNode"])("div",Pr,Object(r["toDisplayString"])(Number(e.PRICE*e.count).toLocaleString())+" ₽",1),_r])})),128))],2)],2)})),128))])):Object(r["createCommentVNode"])("",!0)])])}var Ur=Object(r["defineComponent"])({props:{data:{type:Object}},setup:function(){var e=Object(r["ref"])([]),t=Object(r["ref"])([]);return{open:e,open_presail:t}}});const Hr=$()(Ur,[["render",Mr]]);var Fr=Hr,zr=Object(r["defineComponent"])({name:"OrderDraftModal",components:{DeleteButton:tc["a"],OrderDraftCard:Fr},props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup:function(e,t){var c=t.emit,o=Object(z["b"])(M["a"]),l=Object(r["ref"])(!1),n=Object(r["ref"])(!1),a=Object(r["ref"])(!1),d=Object(r["ref"])(!1),i=Object(r["ref"])(null),s=Object(r["ref"])(-1);Object(F["onClickOutside"])(i,(function(){d.value=!0,setTimeout((function(){d.value=!1}),500)}));var u=function(){o.commit(oc["a"].CLEAN_ORDER_ERROR),o.commit(oc["a"].CLEAN_ADD_ORDER),c("update:modelValue",!1)},m=function(e){-1!=e?(o.commit(oc["a"].DEL_ORDER_FROM_DRAFT,e),l.value=!1,s.value=-1):(o.commit(oc["a"].DEL_ALL_DRAFT),n.value=!1)},O=function(e){o.commit(oc["a"].USE_DRAFT,e),n.value=!1,a.value=!1,l.value=!1,s.value=-1,c("update:modelValue",!1)};return{shake:d,targetModal:i,active:s,delItem:l,delAll:n,useDraft:a,orderDraft:Object(r["computed"])((function(){return o.getters.getOrderDraft})),close:u,del:m,draftToOrder:O}}});const Gr=$()(zr,[["render",cr]]);var Zr=Gr,$r=c("e3c4"),qr=Object(r["defineComponent"])({components:{PersonalBar:k["a"],Notification:N["a"],CompanyBarTop:h["a"],TopNav:g["a"],ProductHeaderCard:B["a"],ProductSearchResultCard:A["a"],OrderProductSearchInput:J,ProductOffersOrderCard:Ae,ProductSliderSmallCard:Pe,OrderHeaderCard:ot,OrderCard:dc,OrderModal:Rc,SnackBar:rc["a"],OrderDraftModal:Zr},props:["article"],setup:function(e){var t=Object(z["b"])(M["a"]),c=Object(wc["c"])(),o=Object(r["computed"])({get:function(){return t.getters.getLoader},set:function(e){return t.commit(Ie["a"].SET_LOADER,e)}}),l=Object(r["ref"])(""),n=Object(r["ref"])(""),a=Object(r["ref"])(!1),d=Object(r["ref"])(""),i=Object(r["ref"])(!1),s=Object(r["ref"])(!1),u=Object(r["ref"])(!1),m=Object(r["ref"])([]),O=function(){var e={product:t.getters.getProduct,characteristics:m.value};t.dispatch(lc["a"].ADD_POSITION,e)},b=function(){""==l.value?(a.value=!0,setTimeout((function(){a.value=!1}),5e3),d.value="Для оформления заказа выберите контрагента"):(i.value=!0,t.commit(oc["a"].ADD_ORDER_PARTNER_ID,l.value),setTimeout((function(){t.dispatch(lc["a"].ADD_ORDER,t.getters.getOrderToAdd)}),3e3))};Object(r["watch"])((function(){return e.article}),(function(r){""!==r&&void 0!==r&&(o.value=!0,t.dispatch(U["a"].SEARCH_PRODUCT,e.article).then((function(){t.getters.getProduct.ID?n.value=t.getters.getProduct.ID:c.push({name:"Order"})})).finally((function(){o.value=!1})))})),Object(r["onMounted"])((function(){t.getters.isCompanysLoad||t.dispatch($r["a"].GET_COMPANYS).finally((function(){setTimeout((function(){l.value=t.getters.getCompanys===[]?"":t.getters.getCompanys[0].uid}),500)})),n.value=t.getters.getProduct.ID,""!==e.article&&void 0!==e.article&&(o.value=!0,t.dispatch(U["a"].SEARCH_PRODUCT,e.article).then((function(){t.getters.getProduct.ID?n.value=t.getters.getProduct.ID:c.push({name:"Order"})})).finally((function(){o.value=!1})))}));var j=function(){o.value=!0,t.dispatch(U["a"].GET_PRODUCT_BY_ID,n.value).then((function(){n.value=t.getters.getProduct.ID})).finally((function(){o.value=!1}))},p=Object(r["computed"])((function(){return t.getters.getCompanyDiscount(l.value,t.getters.getProductOffersORGGUID)}));return{error:a,errorMsg:d,activeCompanyUid:l,activeProductId:n,showModal:i,showDraft:s,productItems:m,productSearch:u,isProduct:Object(r["computed"])((function(){return t.getters.isProduct})),companyBarTopData:Object(r["computed"])((function(){return t.getters.getCompanysList})),productOffers:Object(r["computed"])((function(){return t.getters.getProductOffers})),product:Object(r["computed"])((function(){return t.getters.getProduct})),productFound:Object(r["computed"])((function(){return t.getters.getProductFound})),productImages:Object(r["computed"])((function(){return t.getters.getProductImages})),productProtect:Object(r["computed"])((function(){return t.getters.getProductProtect})),isOrder:Object(r["computed"])((function(){return t.getters.isOrder})),order:Object(r["computed"])((function(){return t.getters.getOrder})),getOrderDraftCount:Object(r["computed"])((function(){return t.getters.getOrderDraftCount})),discount:p,addToOrder:O,addOrder:b,loadProduct:j}}});const Jr=$()(qr,[["render",V]]);t["default"]=Jr}}]);
//# sourceMappingURL=chunk-2d230684.6467b72f.js.map