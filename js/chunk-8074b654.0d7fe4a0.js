(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8074b654"],{"25f0":function(e,t,a){"use strict";var l=a("e330"),c=a("5e77").PROPER,n=a("6eeb"),o=a("825a"),r=a("3a9b"),i=a("577e"),d=a("d039"),s=a("ad6d"),u="toString",m=RegExp.prototype,b=m[u],p=l(s),O=d((function(){return"/a/b"!=b.call({source:"a",flags:"b"})})),j=c&&b.name!=u;(O||j)&&n(RegExp.prototype,u,(function(){var e=o(this),t=i(e.source),a=e.flags,l=i(void 0===a&&r(m,e)&&!("flags"in m)?p(e):a);return"/"+t+"/"+l}),{unsafe:!0})},"27b1":function(e,t,a){"use strict";a.r(t);var l=a("7a23"),c={class:"claim-bottom"},n=Object(l["createElementVNode"])("div",{class:"gradient-btn-text"},"Оформить претензию",-1),o=[n];function r(e,t,a,n,r,i){var d=Object(l["resolveComponent"])("top-nav"),s=Object(l["resolveComponent"])("ClaimCard"),u=Object(l["resolveComponent"])("preloader-local"),m=Object(l["resolveComponent"])("preloader");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(d),Object(l["createElementVNode"])("div",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.calim_new,(function(t,a){return Object(l["openBlock"])(),Object(l["createBlock"])(s,{key:a,modelValue:e.calim_new[a],"onUpdate:modelValue":function(t){return e.calim_new[a]=t},cardId:a,onClose:function(t){return e.del(a)}},null,8,["modelValue","onUpdate:modelValue","cardId","onClose"])})),128))]),Object(l["createElementVNode"])("div",c,[e.loading_claim?(Object(l["openBlock"])(),Object(l["createBlock"])(u,{key:0})):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"claim-add-basis",onClick:t[0]||(t[0]=function(){return e.add&&e.add.apply(e,arguments)})},"Добавить")),Object(l["createElementVNode"])("div",{class:"gradient-btn claim-submit",onClick:t[1]||(t[1]=function(t){return e.send()})},o)]),e.loading?(Object(l["openBlock"])(),Object(l["createBlock"])(m,{key:0})):Object(l["createCommentVNode"])("",!0)])}var i=a("1da1"),d=(a("96cf"),a("d3b7"),a("159b"),a("25f0"),a("e9c4"),a("3d45")),s=a("f152"),u=a("6888"),m=(a("7db0"),a("b0c0"),{key:0,class:"claim-header"}),b={class:"shipment-heading claim-heading"},p={class:"shipment-heading-elem"},O={class:"shipment-heading-info"},j={key:0,class:"shipment-title"},v={key:1,class:"shipment-title"},f=Object(l["createElementVNode"])("span",null,"Отсутвуют заказы",-1),g=[f],E={class:"shipment-heading-select"},V=Object(l["createElementVNode"])("span",null,"Основание:  ",-1),N={class:"base-select-wrap"},k=["value"],C={class:"shipment-heading-elem"},h={class:"orders-heading-item"},y=Object(l["createElementVNode"])("div",{class:"orders-heading-text"},"Контрагент:",-1),B={class:"nav-tab claim-tab"},w=Object(l["createElementVNode"])("span",null,"Причина претензии:",-1),S={class:"nav-tab-wrap"},_=Object(l["createElementVNode"])("div",{class:"gradient-btn-text"},"Недосдача",-1),I=[_],D=Object(l["createElementVNode"])("div",{class:"gradient-btn-text"},"Пересорт",-1),x=[D],L=Object(l["createElementVNode"])("div",{class:"gradient-btn-text"},"Качество",-1),A=[L],R=Object(l["createElementVNode"])("div",{class:"gradient-btn-text"},"Другое",-1),M=[R],U={class:"claim-info"},T={class:"claim-info-elem"},P={class:"content-elem"},F={class:"order-list-bottom scroll-elem"},z={key:0,style:{display:"flex","justify-content":"center"}},q={class:"claim-info-elem"},G=Object(l["createElementVNode"])("div",{class:"claim-info-title"},"Сопроводительный текст претензии",-1),H={class:"claim-info-textarea-wrap"},W={class:"claim-info-add-file"},J=["id"],Z=["for"],$={class:"claim-info-add-file-val"},Y={class:"claim-doc"},K=["onClick"],Q={class:"claim-doc-elem-name"};function X(e,t){var a,c=Object(l["resolveComponent"])("router-link"),n=Object(l["resolveComponent"])("SelectInput"),o=Object(l["resolveComponent"])("PreloaderLocal"),r=Object(l["resolveComponent"])("ClaimOrder");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[0!=e.cardId?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",m,[Object(l["createElementVNode"])("div",{class:"claim-header-close",onClick:t[0]||(t[0]=function(t){return e.$emit("close")})})])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",b,[Object(l["createElementVNode"])("div",p,[0==e.cardId?(Object(l["openBlock"])(),Object(l["createBlock"])(c,{key:0,tag:"a",to:"/claims",class:"shipment-heading-back-btn"})):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",O,[e.order?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",j,[Object(l["createElementVNode"])("span",null,"Оформить претензию по Заказу № "+Object(l["toDisplayString"])(e.modelValue.id)+" от "+Object(l["toDisplayString"])(null===(a=e.orders.find((function(t){return t.n==e.order})))||void 0===a?void 0:a.date.substring(0,10)),1)])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",v,g)),Object(l["createElementVNode"])("div",E,[V,Object(l["createElementVNode"])("div",N,[Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"base-select",style:{width:"100%"},"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.order=t})},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.orders,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e.n},Object(l["toDisplayString"])(e.name),9,k)})),128))],512),[[l["vModelSelect"],e.order]])])])])]),Object(l["createElementVNode"])("div",C,[Object(l["createElementVNode"])("div",h,[y,Object(l["createVNode"])(n,{data:e.companys,modelValue:e.companyUID,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.companyUID=t})},null,8,["data","modelValue"])])])]),Object(l["createElementVNode"])("div",B,[w,Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("a",{class:Object(l["normalizeClass"])("nav-tab-elem gradient-btn"+(1==e.data.case?" active":"")),onClick:t[3]||(t[3]=function(t){return e.data.case=1})},I,2),Object(l["createElementVNode"])("a",{class:Object(l["normalizeClass"])("nav-tab-elem gradient-btn"+(2==e.data.case?" active":"")),onClick:t[4]||(t[4]=function(t){return e.data.case=2})},x,2),Object(l["createElementVNode"])("a",{class:Object(l["normalizeClass"])("nav-tab-elem gradient-btn"+(3==e.data.case?" active":"")),onClick:t[5]||(t[5]=function(t){return e.data.case=3})},A,2),Object(l["createElementVNode"])("a",{class:Object(l["normalizeClass"])("nav-tab-elem gradient-btn"+(0==e.data.case?" active":"")),onClick:t[6]||(t[6]=function(t){return e.data.case=0})},M,2)])]),Object(l["createElementVNode"])("div",U,[Object(l["createElementVNode"])("div",T,[Object(l["createElementVNode"])("div",P,[Object(l["createElementVNode"])("div",F,[e.loading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",z,[Object(l["createVNode"])(o)])):(Object(l["openBlock"])(),Object(l["createBlock"])(r,{key:1,data:e.modelValue.order_detail,modelValue:e.data.products,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.data.products=t})},null,8,["data","modelValue"]))])])]),Object(l["createElementVNode"])("div",q,[G,Object(l["createElementVNode"])("div",H,[Object(l["withDirectives"])(Object(l["createElementVNode"])("textarea",{class:"claim-info-textarea",name:"","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.data.message=t})},null,512),[[l["vModelText"],e.data.message]]),Object(l["createElementVNode"])("div",W,[Object(l["createElementVNode"])("input",{class:"claim-info-add-file-input",onChange:t[9]||(t[9]=function(t){return e.handleFileUpload(t)}),type:"file",id:"claim-add-file"+e.cardId},null,40,J),Object(l["createElementVNode"])("label",{class:"claim-info-add-file-label",for:"claim-add-file"+e.cardId},[Object(l["createElementVNode"])("span",$,Object(l["toDisplayString"])(e.data.files.length),1)],8,Z)])])]),Object(l["createElementVNode"])("div",Y,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.data.files,(function(t,a){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"claim-doc-elem",key:a},[Object(l["createElementVNode"])("div",{class:"claim-doc-elem-file",onClick:function(t){return e.delFile(a)}},null,8,K),Object(l["createElementVNode"])("div",Q,Object(l["toDisplayString"])(t.name),1)])})),128))])])])}a("a9e3"),a("a434");var ee=a("195d"),te=(a("4de4"),{class:"order-list content-elem"}),ae={key:0,class:"order-list-bottom scroll-elem"},le={class:"order-list-bottom-wrap"},ce={key:0,class:"order-list-row order-list-heading"},ne=Object(l["createElementVNode"])("div",{class:"order-list-elem"},"№",-1),oe=Object(l["createElementVNode"])("div",{class:"order-list-elem"},"Артикул",-1),re=Object(l["createElementVNode"])("div",{class:"order-list-elem"},"Наименование",-1),ie={class:"order-list-elem"},de=Object(l["createElementVNode"])("div",{class:"order-list-elem"},"Кол-во",-1),se=Object(l["createElementVNode"])("div",{class:"order-list-elem"},"Стоимость",-1),ue=Object(l["createElementVNode"])("div",{class:"order-list-elem"},"Выбрано",-1),me=["onClick"],be={class:"order-list-elem"},pe={class:"order-list-elem"},Oe={class:"order-list-elem"},je=["innerHTML"],ve=Object(l["createElementVNode"])("div",{class:"order-list-elem"},null,-1),fe={class:"order-list-elem"},ge={key:0,class:"order-list-elem"},Ee={key:1,class:"order-list-elem"},Ve={class:"order-list-elem"},Ne=Object(l["createElementVNode"])("div",{class:"order-list-elem"},null,-1),ke=Object(l["createElementVNode"])("div",{class:"order-list-elem"},null,-1),Ce={class:"order-list-elem"},he={key:0,class:"order-list-elem"},ye={key:1,class:"order-list-elem"},Be={class:"order-list-elem"},we={key:2,class:"order-list-elem"},Se={key:3,class:"order-list-elem"},_e={class:"order-list-elem"};function Ie(e,t){var a=Object(l["resolveComponent"])("amount-input");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",te,[e.val?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ae,[Object(l["createElementVNode"])("div",le,[e.val.position.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ce,[ne,oe,re,Object(l["createElementVNode"])("div",ie,Object(l["toDisplayString"])(0!=e.open.length?"Цена":""),1),de,se,ue])):Object(l["createCommentVNode"])("",!0),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.val.position,(function(t,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(-1!==e.open.indexOf(c)?"order-list-item active":"order-list-item"),key:c},[Object(l["createElementVNode"])("div",{class:"order-list-row order-list-main-row",onClick:function(t){return-1===e.open.indexOf(c)?e.open.push(c):e.open.splice(e.open.indexOf(c),1)}},[Object(l["createElementVNode"])("div",be,Object(l["toDisplayString"])(c+1),1),Object(l["createElementVNode"])("div",pe,Object(l["toDisplayString"])(t.article),1),Object(l["createElementVNode"])("div",Oe,[Object(l["createElementVNode"])("span",{innerHTML:t.product.NAME},null,8,je)]),ve,Object(l["createElementVNode"])("div",fe,Object(l["toDisplayString"])(t.count),1),t.total?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ge,Object(l["toDisplayString"])(Number(t.total).toLocaleString())+" ₽",1)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ee," -- ")),Object(l["createElementVNode"])("div",Ve,Object(l["toDisplayString"])(t.characteristics.filter((function(e){return e.select>0})).length),1)],8,me),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(-1!==e.open.indexOf(c)?"order-list-sublist active":"order-list-sublist")},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(t.characteristics,(function(t,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:c,class:"order-list-row"},[Ne,ke,Object(l["createElementVNode"])("div",Ce,Object(l["toDisplayString"])(t.CHARACTERISTIC),1),t.PRICE?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",he,Object(l["toDisplayString"])(Number(t.PRICE).toLocaleString())+" ₽",1)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ye," -- ")),Object(l["createElementVNode"])("div",Be,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(t.count),1)]),t.PRICE?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",we,Object(l["toDisplayString"])(Number(t.PRICE*t.count).toLocaleString())+" ₽",1)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Se," -- ")),Object(l["createElementVNode"])("div",_e,[Object(l["createVNode"])(a,{max:t.count,modelValue:t.select,"onUpdate:modelValue":function(e){return t.select=e},onOnInput:e.upd},null,8,["max","modelValue","onUpdate:modelValue","onOnInput"])])])})),128))],2)],2)})),128))])])):Object(l["createCommentVNode"])("",!0)])}var De=a("946b"),xe=Object(l["defineComponent"])({props:{data:{type:Object},modelValue:{type:Array,required:!0}},emits:["update:modelValue"],components:{AmountInput:De["a"]},setup:function(e,t){var a=t.emit,c=Object(l["ref"])([]),n=Object(l["ref"])({}),o=Object(l["computed"])((function(){var t=Object.assign({},e.data);return t.position?(t.position.forEach((function(e){e.characteristics.forEach((function(e){return e.select=0}))})),t):null})),r=function(){var e=[];o.value&&o.value.position.forEach((function(t){t.characteristics.forEach((function(a){a.select>0&&e.push({productUID:t.product.UID,characteristicGUID:a.CHARACTERISTIC,count:a.select})}))})),a("update:modelValue",e)};return{open:c,open_presail:n,val:o,upd:r}}}),Le=a("d959"),Ae=a.n(Le);const Re=Ae()(xe,[["render",Ie]]);var Me=Re,Ue=a("0613"),Te=a("5502"),Pe=a("cd15"),Fe=Object(l["defineComponent"])({components:{SelectInput:ee["a"],ClaimOrder:Me,PreloaderLocal:u["a"]},props:{modelValue:{type:Object,required:!0},cardId:{type:Number,required:!0}},emits:["update:modelValue","update:files","close"],setup:function(e,t){var a=t.emit,c=Object(Te["b"])(Ue["a"]),n=Object(l["ref"])({date_create:"",status:0,title:"",partner_name:"",partner_guid:"",id:e.modelValue.id,case:1,products:[],message:"",files:[]}),o=Object(l["ref"])(!1),r=Object(l["computed"])({get:function(){return""==n.value.partner_guid&&null!==i.value?c.getters.getOrders.find((function(e){return e.n==i.value})).partner_guid:n.value.partner_guid},set:function(e){n.value.partner_guid=e}}),i=Object(l["computed"])({get:function(){return e.modelValue.id?e.modelValue.id:n.value.id},set:function(e){n.value.id=e,a("update:modelValue",n.value),n.value.partner_guid=c.getters.getOrders.find((function(t){return t.n==e})).partner_guid,o.value=!0,c.dispatch(Pe["a"].GET_ORDER_DETAIL,e).finally((function(){n.value.order_detail=c.getters.getOrderDetail,o.value=!1}))}});Object(l["watch"])(n.value,(function(){var t;n.value.partner_guid=r.value,n.value.partner_name=c.getters.getCompanyData(n.value.partner_guid).name,n.value.title="Претензия по Заказу №"+i.value+" от "+(null===(t=c.getters.getOrders.find((function(e){return e.n==i.value})))||void 0===t?void 0:t.date.substring(0,10)),n.value.order_detail=e.modelValue.order_detail,a("update:modelValue",n.value)}));var d=function(e){n.value.files.push(e.target.files[0]),a("update:modelValue",n.value)},s=function(e){n.value.files.splice(e,1),a("update:modelValue",n.value)};return{data:n,loading:o,order:i,companyUID:r,orders:Object(l["computed"])((function(){return c.getters.getOrders})),companys:Object(l["computed"])((function(){return c.getters.getCompanysList})),handleFileUpload:d,delFile:s}}});const ze=Ae()(Fe,[["render",X]]);var qe=ze,Ge=a("e3c4"),He=a("43d2"),We=a("b6d7"),Je=a("6c02"),Ze=a("3058"),$e=Object(l["defineComponent"])({components:{TopNav:d["a"],Preloader:s["a"],PreloaderLocal:u["a"],ClaimCard:qe},setup:function(){var e=Object(Te["b"])(Ue["a"]),t=Object(Je["c"])(),a=Object(l["ref"])(!1),c=Object(l["ref"])(!1);Object(l["onMounted"])((function(){e.getters.isCompanysLoad||e.dispatch(Ge["a"].GET_COMPANYS),e.getters.isOrders?0==e.getters.getClaimNew.length&&(a.value=!0,e.dispatch(We["a"].ADD_CLAIMS_NEW,e.getters.getOrdersMaxId).then((function(){a.value=!1}))):(a.value=!0,e.dispatch(He["a"].GET_ORDERS).then((function(){0==e.getters.getClaimNew.length?e.dispatch(We["a"].ADD_CLAIMS_NEW,e.getters.getOrdersMaxId).then((function(){a.value=!1})):a.value=!1}))),e.commit(Ze["a"].CLEAR_CLAIMS_SUCCESS)}));var n=function(){c.value=!0,e.dispatch(Ze["a"].ADD_CLAIMS_NEW,e.getters.getOrdersMaxId).then((function(){c.value=!1}))},o=function(t){e.commit(Ze["a"].DEL_CLAIMS_NEW,t)},r=function(){var l=Object(i["a"])(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return a.value=!0,l.next=3,e.getters.getClaimNew.forEach((function(a){var l=new FormData;a.files.forEach((function(e,t){l.append("files["+t+"]",e)})),l.append("title",a.title),l.append("partner_name",a.partner_name),l.append("partner_guid",a.partner_guid),l.append("id",a.id.toString()),l.append("case",a.case.toString()),l.append("products",JSON.stringify(a.products)),l.append("message",a.message),e.dispatch(We["a"].ADD_CLAIMS,l),t.push({name:"ClaimsSuccess"})}));case 3:a.value=!1;case 4:case"end":return l.stop()}}),l)})));return function(){return l.apply(this,arguments)}}();return{loading:a,loading_claim:c,calim_new:Object(l["computed"])((function(){return e.getters.getClaimNew})),add:n,del:o,send:r}}});const Ye=Ae()($e,[["render",r]]);t["default"]=Ye},"946b":function(e,t,a){"use strict";a("a9e3");var l=a("7a23"),c=["disabled","value"],n=Object(l["createElementVNode"])("svg",{class:"amount-input-arrow-img",width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(l["createElementVNode"])("path",{d:"M3.71679 0.986589C4.11715 0.482264 4.88285 0.482265 5.28321 0.986589L7.9757 4.37825C8.49596 5.0336 8.02925 6 7.19249 6L1.80751 6C0.970754 6 0.504041 5.0336 1.0243 4.37824L3.71679 0.986589Z",fill:"#53565B"})],-1),o=[n],r=Object(l["createElementVNode"])("svg",{class:"amount-input-arrow-img",width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(l["createElementVNode"])("path",{d:"M5.28321 5.01341C4.88285 5.51774 4.11715 5.51774 3.71679 5.01341L1.0243 1.62176C0.504042 0.966397 0.970754 -1.64313e-07 1.80751 -2.37464e-07L7.19249 -7.08234e-07C8.02925 -7.81386e-07 8.49596 0.966397 7.9757 1.62176L5.28321 5.01341Z",fill:"#53565B"})],-1),i=[r];function d(e,t,a,n,r,d){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(e.disabled?"amount-input-wrap disable":"amount-input-wrap")},[Object(l["createElementVNode"])("input",{class:"amount-input",type:"text",disabled:e.disabled,value:e.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",Number(t.target.value))})},null,40,c),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(e.disabled?"amount-input-arrow plus disable":"amount-input-arrow plus"),onClick:t[1]||(t[1]=function(t){return e.changeStep(e.step)})},o,2),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(e.disabled?"amount-input-arrow minus disable":"amount-input-arrow minus"),onClick:t[2]||(t[2]=function(t){return e.changeStep(-e.step)})},i,2)],2)}var s=Object(l["defineComponent"])({props:{modelValue:{type:Number,required:!0},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number}},emits:["update:modelValue","onInput"],setup:function(e,t){var a=t.emit;Object(l["watch"])((function(){return e.modelValue}),(function(t,l){isNaN(t)&&a("update:modelValue",l),""==String(e.modelValue)&&a("update:modelValue",0),void 0!==e.max&&Number(t)>e.max&&a("update:modelValue",l),void 0!==e.min&&Number(t)<e.min&&a("update:modelValue",l),a("onInput")}));var c=function(t){e.disabled||a("update:modelValue",Number(e.modelValue)+t)};return{changeStep:c}}}),u=a("d959"),m=a.n(u);const b=m()(s,[["render",d]]);t["a"]=b}}]);
//# sourceMappingURL=chunk-8074b654.0d7fe4a0.js.map